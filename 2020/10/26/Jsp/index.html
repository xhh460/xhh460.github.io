<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="小灰灰"><meta name="renderer" content="webkit"><meta name="copyright" content="小灰灰"><meta name="keywords" content="小灰灰"><meta name="description" content=""><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Jsp · xhh's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/people1.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="/img/assets/people.png"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">xiaohuihui</div><div class="profile-signature">for me</div><div class="friends"><div>FRIENDS</div><span><a href="//www.cnblogs.com/lc-snail/" target="_black">friendA</a></span><span><a href="//github.com/" target="_black">friendB</a></span><span><a href="//github.com/" target="_black">friendC</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 70vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">xhh's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">Jsp</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-calendar"></i><span>2020-10-26 11:31:54</span></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">3k</span> | Reading time: <span class="post-count">14</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h1 id="Jsp"><a href="#Jsp" class="headerlink" title="Jsp"></a>Jsp</h1><h3 id="1-什么是Jsp？"><a href="#1-什么是Jsp？" class="headerlink" title="1.什么是Jsp？"></a>1.什么是Jsp？</h3><p>Jsp(java server page)：java的服务器页面。</p>
<p>jsp的主要作用是代替Servlt程序回传html页面的数据(服务端返回给客户端)。</p>
<p>因为Servlt程序回传html页面数据是非常繁琐的一件事情。开发和维护成本非常高。</p>
<h3 id="2-Jsp的本质"><a href="#2-Jsp的本质" class="headerlink" title="2.Jsp的本质"></a>2.Jsp的本质</h3><p>jsp页面本质上是一个Servlet程序。</p>
<p>当我们第一次访问jsp页面的时候。Tomact服务器会帮我们把jsp翻译成为一个java源文件。</p>
<p>我们访问路径：</p>
<p>C:\Users\Lenovo\AppData\Local\JetBrains\IntelliJIdea2020.1\tomcat\Tomcat_9_0_38_FirstJsp\work\Catalina\localhost\FirstJsp_war_exploded\org\apache\jsp</p>
<p>可以看到生成了一个java源文件</p>
<p><img src="/images/Jsp/image-20201026162523599.png" alt="image-20201026162523599"></p>
<p>打开文件，我们可以看到：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * Generated by the Jasper component of Apache Tomcat</span></span><br><span class="line"><span class="comment"> * Version: Apache Tomcat/9.0.38</span></span><br><span class="line"><span class="comment"> * Generated at: 2020-10-26 08:22:50 UTC</span></span><br><span class="line"><span class="comment"> * Note: The last modified time of this file was set to</span></span><br><span class="line"><span class="comment"> *       the last modified time of the source file after</span></span><br><span class="line"><span class="comment"> *       generation to assist with modification tracking.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">package</span> org.apache.jsp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.jsp.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">index_jsp</span> <span class="keyword">extends</span> <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">HttpJspBase</span></span></span><br><span class="line"><span class="class">    <span class="keyword">implements</span> <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">JspSourceDependent</span>,</span></span><br><span class="line"><span class="class">                 <span class="title">org</span>.<span class="title">apache</span>.<span class="title">jasper</span>.<span class="title">runtime</span>.<span class="title">JspSourceImports</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> javax.servlet.jsp.JspFactory _jspxFactory =</span><br><span class="line">          javax.servlet.jsp.JspFactory.getDefaultFactory();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> java.util.Map&lt;java.lang.String,java.lang.Long&gt; _jspx_dependants;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> java.util.Set&lt;java.lang.String&gt; _jspx_imports_packages;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> java.util.Set&lt;java.lang.String&gt; _jspx_imports_classes;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    _jspx_imports_packages = <span class="keyword">new</span> java.util.HashSet&lt;&gt;();</span><br><span class="line">    _jspx_imports_packages.add(<span class="string">"javax.servlet"</span>);</span><br><span class="line">    _jspx_imports_packages.add(<span class="string">"javax.servlet.http"</span>);</span><br><span class="line">    _jspx_imports_packages.add(<span class="string">"javax.servlet.jsp"</span>);</span><br><span class="line">    _jspx_imports_classes = <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">volatile</span> javax.el.ExpressionFactory _el_expressionfactory;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">volatile</span> org.apache.tomcat.InstanceManager _jsp_instancemanager;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> java.util.Map&lt;java.lang.String,java.lang.Long&gt; getDependants() &#123;</span><br><span class="line">    <span class="keyword">return</span> _jspx_dependants;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> java.util.Set&lt;java.lang.String&gt; getPackageImports() &#123;</span><br><span class="line">    <span class="keyword">return</span> _jspx_imports_packages;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> java.util.Set&lt;java.lang.String&gt; getClassImports() &#123;</span><br><span class="line">    <span class="keyword">return</span> _jspx_imports_classes;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> javax.el.<span class="function">ExpressionFactory <span class="title">_jsp_getExpressionFactory</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (_el_expressionfactory == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (_el_expressionfactory == <span class="keyword">null</span>) &#123;</span><br><span class="line">          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _el_expressionfactory;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> org.apache.tomcat.<span class="function">InstanceManager <span class="title">_jsp_getInstanceManager</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (_jsp_instancemanager == <span class="keyword">null</span>) &#123;</span><br><span class="line">      <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (_jsp_instancemanager == <span class="keyword">null</span>) &#123;</span><br><span class="line">          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> _jsp_instancemanager;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspInit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspService</span><span class="params">(<span class="keyword">final</span> javax.servlet.http.HttpServletRequest request, <span class="keyword">final</span> javax.servlet.http.HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">      <span class="keyword">throws</span> java.io.IOException, javax.servlet.ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) &#123;</span><br><span class="line">      <span class="keyword">final</span> java.lang.String _jspx_method = request.getMethod();</span><br><span class="line">      <span class="keyword">if</span> (<span class="string">"OPTIONS"</span>.equals(_jspx_method)) &#123;</span><br><span class="line">        response.setHeader(<span class="string">"Allow"</span>,<span class="string">"GET, HEAD, POST, OPTIONS"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="string">"GET"</span>.equals(_jspx_method) &amp;&amp; !<span class="string">"POST"</span>.equals(_jspx_method) &amp;&amp; !<span class="string">"HEAD"</span>.equals(_jspx_method)) &#123;</span><br><span class="line">        response.setHeader(<span class="string">"Allow"</span>,<span class="string">"GET, HEAD, POST, OPTIONS"</span>);</span><br><span class="line">        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, <span class="string">"JSP 只允许 GET、POST 或 HEAD。Jasper 还允许 OPTIONS"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;</span><br><span class="line">    javax.servlet.http.HttpSession session = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">final</span> javax.servlet.ServletContext application;</span><br><span class="line">    <span class="keyword">final</span> javax.servlet.ServletConfig config;</span><br><span class="line">    javax.servlet.jsp.JspWriter out = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">final</span> java.lang.Object page = <span class="keyword">this</span>;</span><br><span class="line">    javax.servlet.jsp.JspWriter _jspx_out = <span class="keyword">null</span>;</span><br><span class="line">    javax.servlet.jsp.PageContext _jspx_page_context = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line">      pageContext = _jspxFactory.getPageContext(<span class="keyword">this</span>, request, response,</span><br><span class="line">      			<span class="keyword">null</span>, <span class="keyword">true</span>, <span class="number">8192</span>, <span class="keyword">true</span>);</span><br><span class="line">      _jspx_page_context = pageContext;</span><br><span class="line">      application = pageContext.getServletContext();</span><br><span class="line">      config = pageContext.getServletConfig();</span><br><span class="line">      session = pageContext.getSession();</span><br><span class="line">      out = pageContext.getOut();</span><br><span class="line">      _jspx_out = out;</span><br><span class="line"></span><br><span class="line">      out.write(<span class="string">"\n"</span>);</span><br><span class="line">      out.write(<span class="string">"\n"</span>);</span><br><span class="line">      out.write(<span class="string">"&lt;html&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"  &lt;head&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"    &lt;title&gt;$Title$&lt;/title&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"  &lt;/head&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"  &lt;body&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"  &lt;p&gt;这是一个Servlet文件&lt;/p&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"  &lt;/body&gt;\n"</span>);</span><br><span class="line">      out.write(<span class="string">"&lt;/html&gt;\n"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (java.lang.Throwable t) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!(t <span class="keyword">instanceof</span> javax.servlet.jsp.SkipPageException))&#123;</span><br><span class="line">        out = _jspx_out;</span><br><span class="line">        <span class="keyword">if</span> (out != <span class="keyword">null</span> &amp;&amp; out.getBufferSize() != <span class="number">0</span>)</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (response.isCommitted()) &#123;</span><br><span class="line">              out.flush();</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              out.clearBuffer();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">catch</span> (java.io.IOException e) &#123;&#125;</span><br><span class="line">        <span class="keyword">if</span> (_jspx_page_context != <span class="keyword">null</span>) _jspx_page_context.handlePageException(t);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">throw</span> <span class="keyword">new</span> ServletException(t);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      _jspxFactory.releasePageContext(_jspx_page_context);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>它的底层继承了org.apache.jasper.runtime.HttpJspBase的类</p>
<p><strong>我们查看HttpJspBase继承了HttpServlet类，相当于jsp翻译出来的java类，它间接继承了HttpServlet类。所以我们可以得出jsp就是Servlet程序</strong></p>
<p><img src="/images/Jsp/image-20201026163529230.png" alt="image-20201026163529230"></p>
<p><strong>而其底层也是通过输出流，把html页面数据回传给客户端。</strong></p>
<h3 id="3-Jsp的三种语法"><a href="#3-Jsp的三种语法" class="headerlink" title="3.Jsp的三种语法"></a>3.Jsp的三种语法</h3><h4 id="a-Jsp头部的page命令"><a href="#a-Jsp头部的page命令" class="headerlink" title="a)Jsp头部的page命令"></a>a)Jsp头部的page命令</h4><p><img src="/images/Jsp/image-20201026164049303.png" alt="image-20201026164049303"></p>
<ul>
<li>language属性：表示jsp翻译后是什么属性</li>
<li>contentType属性：表示jsp返回的数据类型是什么。也是源码中的response.setContentType()参数值</li>
<li>pageEncdoing属性：表示当前jsp页面文件本身的字符集。</li>
<li>import属性：跟java源代码一样，用于导包，导类。</li>
</ul>
<p>——————————————-给out输出流使用的两个属性———————————————————–</p>
<ul>
<li>autoFlush属性：设置out输出缓冲区满了之后，是否自动刷新缓冲区。默认是true。</li>
<li>buffer属性：设置out缓冲区的大小，默认是8kb。</li>
</ul>
<hr>
<ul>
<li>errorPage属性：设置当Jsp页面运行出错，自动跳转的错误页面路径。（这个路径一般以斜杆开头，它表示请求地址为<a href="http://ip:port/工程路径/" target="_blank" rel="noopener">http://ip:port/工程路径/</a>            映射到代码的Web目录 ）</li>
<li>isErrorPage属性：设置当前jsp页面是否是错误信息页面。默认是false，如果是true可以获取异常信息。</li>
<li>session属性：设置访问当前jsp页面，是否会创建HttpSession对象，默认是true。</li>
<li>extends属性：设置jsp翻译出来的java类默认继承谁。</li>
</ul>
<h4 id="b-jsp中常用脚本"><a href="#b-jsp中常用脚本" class="headerlink" title="b)jsp中常用脚本"></a>b)jsp中常用脚本</h4><h5 id="1-声明脚本-不常使用"><a href="#1-声明脚本-不常使用" class="headerlink" title="1.声明脚本(不常使用)"></a>1.声明脚本(不常使用)</h5><p>声明脚本的格式：<code>&lt;%!声明代码块%&gt;</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">"java.util.Map"</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">"java.util.HashMap"</span> %&gt;&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: Lenovo</span><br><span class="line">  Date: <span class="number">2020</span>/<span class="number">10</span>/<span class="number">26</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">51</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">&lt;%--  <span class="number">1</span>.声明类属性--%&gt;</span><br><span class="line">    &lt;%!</span><br><span class="line">      <span class="keyword">private</span> Integer id;</span><br><span class="line">      <span class="keyword">private</span> String name;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String,Object&gt; map;</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  声明<span class="keyword">static</span>静态代码块--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">      map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">      map.put(<span class="string">"key1"</span>,<span class="string">"value1"</span>);</span><br><span class="line">      map.put(<span class="string">"key2"</span>,<span class="string">"value2"</span>);</span><br><span class="line">      map.put(<span class="string">"key3"</span>,<span class="string">"value3"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  声明类方法--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">num</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  生成内部类--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">      <span class="keyword">private</span> Integer id = <span class="number">11</span>;</span><br><span class="line">      <span class="keyword">private</span> String username = <span class="string">"coderYang"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<p>当运行jsp文件之后我们查看它的源代码：</p>
<p><img src="/images/Jsp/image-20201026171426122.png" alt="image-20201026171426122"></p>
<p>我们可以发现在java文件中生成了对应的代码。</p>
<h5 id="2-表达式脚本-常用"><a href="#2-表达式脚本-常用" class="headerlink" title="2.表达式脚本(常用)"></a>2.表达式脚本(常用)</h5><p>表达式脚本格式：<code>&lt;%=表达式%&gt;</code></p>
<p>表达式脚本的作用：在jsp页面输出数据。</p>
<p>表达式脚本特点：</p>
<ul>
<li>所有的表达式脚本都会被翻译到_jspService方法中。</li>
<li>所有的表达式脚本都会被翻译成为out.print()输出到页面上。</li>
<li>由于表达式脚本翻译的内容都在_jspService()方法中，所以__jspServcie方法中的对象可以直接使用。</li>
<li>表达式脚本中的表达式不能以分号结尾。</li>
</ul>
<h5 id="3-代码脚本"><a href="#3-代码脚本" class="headerlink" title="3.代码脚本"></a>3.代码脚本</h5><p>代码脚本的格式是：<code>&lt;% java语句 %&gt;</code></p>
<p>代码脚本的作用是：可以在jsp页面中，编写我们所需要的功能。</p>
<p>代码脚本的特点是：</p>
<ol>
<li>代码脚本翻译之后都在_jspService方法中。</li>
<li>代码脚本由于翻译到_jspService()方法中，所以在_jspService()方法中的现有对象都可以直接使用。</li>
<li>还可以由多个代码脚本块组合完成一个java语句</li>
<li>代码脚本还可以和表达式脚本一起组合使用，在jsp页面上输出数据。</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">"java.util.Map"</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">"java.util.HashMap"</span> %&gt;&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: Lenovo</span><br><span class="line">  Date: <span class="number">2020</span>/<span class="number">10</span>/<span class="number">26</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">51</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;$Title$&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  &lt;body&gt;</span><br><span class="line">&lt;%--  <span class="number">1</span>.声明类属性--%&gt;</span><br><span class="line">    &lt;%!</span><br><span class="line">      <span class="keyword">private</span> Integer id;</span><br><span class="line">      <span class="keyword">private</span> String name;</span><br><span class="line">      <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String,Object&gt; map;</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  声明<span class="keyword">static</span>静态代码块--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">      map = <span class="keyword">new</span> HashMap&lt;String, Object&gt;();</span><br><span class="line">      map.put(<span class="string">"key1"</span>,<span class="string">"value1"</span>);</span><br><span class="line">      map.put(<span class="string">"key2"</span>,<span class="string">"value2"</span>);</span><br><span class="line">      map.put(<span class="string">"key3"</span>,<span class="string">"value3"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  声明类方法--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">num</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--  生成内部类--%&gt;</span><br><span class="line">  &lt;%!</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">      <span class="keyword">private</span> Integer id = <span class="number">11</span>;</span><br><span class="line">      <span class="keyword">private</span> String username = <span class="string">"coderYang"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--  一些输出命令--%&gt;</span><br><span class="line">  &lt;%=map%&gt;</span><br><span class="line">  &lt;%=<span class="string">"useranme = "</span>+request.getParameter(<span class="string">"username"</span>)%&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--代码脚本 <span class="keyword">if</span>语句--%&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">if</span>(i == <span class="number">12</span>)&#123;</span><br><span class="line">      System.out.println(<span class="string">"true"</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      System.out.println(<span class="string">"false"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--代码脚本---<span class="keyword">for</span>循环--%&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j =<span class="number">0</span>;j&lt;<span class="number">10</span>;++j)&#123;</span><br><span class="line">      System.out.println(j);</span><br><span class="line">    &#125;</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--  翻译后java文件中_jspService方法内的代码都可以写--%&gt;</span><br><span class="line">  &lt;%</span><br><span class="line">    String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">    System.out.println(<span class="string">"username = "</span>+username);</span><br><span class="line">  %&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>







<h3 id="4-Jsp中的九大内置对象"><a href="#4-Jsp中的九大内置对象" class="headerlink" title="4.Jsp中的九大内置对象"></a>4.Jsp中的九大内置对象</h3><p>Jsp中的内置对象，是指Tomcat在翻译jsp页面成为Servlet源代码后，内部提供的九大对象，叫内置对象。</p>
<p><img src="/images/Jsp/image-20201027112224979.png" alt="image-20201027112224979"></p>
<p>request                        请求对象</p>
<p>response                     响应对象</p>
<p>pageContext               jsp的上下文对象</p>
<p>session                        会话对象</p>
<p>application                  ServletContext对象</p>
<p>config                           ServletConfig对象</p>
<p>out                                jsp输出流对象</p>
<p>page                             指向当前jsp对象</p>
<p>exception                    异常对象</p>
<h3 id="5-Jsp四大域对象"><a href="#5-Jsp四大域对象" class="headerlink" title="5.Jsp四大域对象"></a>5.Jsp四大域对象</h3><p>四个域对象分别是：</p>
<p>pageContext                (PageContextImpl类)                                当前jsp页面范围内有效</p>
<p>request                         (HttpServletRequest类)                            一次请求内有效</p>
<p>session                          (HttpSession类)                                        一个会话范围内有效(打开浏览器访问服务器，直到关闭浏览器)</p>
<p>application                   (ServletContext类)                                    整个web工程范围内都有效(只要web工程不停止，数据都在)</p>
<p>域对象是可以像Map一样存储数据的对象。四个域对象功能一样。不同的是它们对数据的存储范围。</p>
<p>虽然四个域对象都可以存储数据，在使用它们上是有优先顺序的。</p>
<p>四个域对象在使用的时候，优先顺序分别是：</p>
<p>从小到大：pageContext ====&gt;&gt;&gt;     request =====&gt;&gt;      session  =========&gt;     application</p>
<p><strong>scope.jsp</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: Lenovo</span><br><span class="line">  Date: <span class="number">2020</span>/<span class="number">10</span>/<span class="number">27</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">42</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;scope.jsp页面&lt;/h1&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="comment">//往四个域中分别保存数据</span></span><br><span class="line">        pageContext.setAttribute(<span class="string">"key"</span>,<span class="string">"pageContext"</span>);</span><br><span class="line">        request.setAttribute(<span class="string">"key"</span>,<span class="string">"request"</span>);</span><br><span class="line">        session.setAttribute(<span class="string">"key"</span>,<span class="string">"session"</span>);</span><br><span class="line">        application.setAttribute(<span class="string">"key"</span>,<span class="string">"application"</span>);</span><br><span class="line">    %&gt;</span><br><span class="line">    pageContext的域中是否有值:&lt;%=pageContext.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    request的域中是否有值:&lt;%=request.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    session的域中是否有值:&lt;%=session.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    application的域中是否有值:&lt;%=application.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%</span><br><span class="line">        request.getRequestDispatcher(<span class="string">"/scope2.jsp"</span>).forward(request,response);</span><br><span class="line">    %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>





<p><strong>scope2.jsp</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: Lenovo</span><br><span class="line">  Date: <span class="number">2020</span>/<span class="number">10</span>/<span class="number">27</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">42</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">"text/html;charset=UTF-8"</span> language=<span class="string">"java"</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h1&gt;scope2页面&lt;/h1&gt;</span><br><span class="line">    pageContext的域中是否有值:&lt;%=pageContext.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    request的域中是否有值:&lt;%=request.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    session的域中是否有值:&lt;%=session.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">    application的域中是否有值:&lt;%=application.getAttribute(<span class="string">"key"</span>)%&gt;&lt;br&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>







<p>当我们访问scope.jsp的时候，就会发现被请求转发（请求转发是一次请求）到scpoe2.jsp，此时pageContext的域是无值的。</p>
<p><img src="/images/Jsp/image-20201028102955959.png" alt="image-20201028102955959"></p>
<p>当我们访问scope2.jsp的时候，我们可以发现request域中的值也为null，因为request只在一次请求内有效。</p>
<p><img src="/images/Jsp/image-20201028103136286.png" alt="image-20201028103136286"></p>
<p>我们把项目重新部署之后：</p>
<p><img src="/images/Jsp/image-20201028103428323.png" alt="image-20201028103428323"></p>
<h3 id="6-jsp中的out和response-getWriter输出的区别"><a href="#6-jsp中的out和response-getWriter输出的区别" class="headerlink" title="6.jsp中的out和response.getWriter输出的区别"></a>6.jsp中的out和response.getWriter输出的区别</h3><p>response表示响应，用于返回给客户端内容。</p>
<p>out也是给用户输出使用的。</p>
<p><img src="/images/Jsp/image-20201028104626139.png" alt="image-20201028104626139"></p>
<p>由于jsp翻译之后，底层源代码都是使用out来输出，所以一般情况下。我们在jsp页面中统一使用out来进行输出。避免打乱页面输出内容的顺序。</p>
<p>out.write()        输出字符串没有问题</p>
<p>out.print()        输出任意数据都没有问题(都统一转化位字符串后调用write输出)</p>
<p><img src="/images/Jsp/image-20201028143453859.png" alt="image-20201028143453859"></p>
<p>write()方法的底层：将传进来的数字转化为char类型的字符。</p>
<p>所以write()方法只适合输出字符串。</p>
<p>所以在Jsp页面中，统一使用out.print()来进行输出。</p>
<h3 id="7-Jsp的常用标签"><a href="#7-Jsp的常用标签" class="headerlink" title="7.Jsp的常用标签"></a>7.Jsp的常用标签</h3><h4 id="1）静态包含"><a href="#1）静态包含" class="headerlink" title="1）静态包含"></a>1）静态包含</h4><p>语法：<code>&lt;%@ include file = &quot;&quot;%&gt;</code></p>
<p>地址中第一个斜杆/表示为<a href="http://ip:port/工程路径/" target="_blank" rel="noopener">http://ip:port/工程路径/</a></p>
<p>file属性指定你要包含的jsp路径。</p>
<h4 id="2）动态包含"><a href="#2）动态包含" class="headerlink" title="2）动态包含"></a>2）动态包含</h4><p>语法：<code>&lt;%jsp:include page=&quot;&quot;%&gt;&lt;/jsp:include&gt;</code></p>
<p>动态包含会把包含的jsp页面翻译成java代码：</p>
<p>JspRuntimeLibrary.include(request,response,”/include/footer.jsp”,out,false);</p>
<p><img src="/images/Jsp/image-20201028151640460.png" alt="image-20201028151640460"></p>
<h4 id="3-jsp标签-转发"><a href="#3-jsp标签-转发" class="headerlink" title="3)jsp标签-转发"></a>3)jsp标签-转发</h4><p>语法：<code>&lt;jsp:forward page=&quot;&quot;&gt;&lt;/jsp:froward&gt;</code></p>
<p>功能是请求转发，page属性是请求转发的路径。</p>
<p>跟Servlet的请求转发功能是一样的。</p>
<h3 id="8-EL表达式"><a href="#8-EL表达式" class="headerlink" title="8.EL表达式"></a>8.EL表达式</h3><h4 id="什么是EL表达式"><a href="#什么是EL表达式" class="headerlink" title="什么是EL表达式"></a>什么是EL表达式</h4><p>EL表达式的全称是：Expression Language。是表达式语言。</p>
</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="http://xhh460.github.io">小灰灰</a></p><p> <span>Link:  </span><a href="http://xhh460.github.io/2020/10/26/Jsp/">http://xhh460.github.io/2020/10/26/Jsp/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed under <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/3.0" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.</span></p></div><div class="post-paginator"><a class="nextSlogan" href="/2020/10/09/Servlet/" title="Servlet"><span>NextPost ></span><br><span class="nextTitle">Servlet</span></a><div class="clear"></div></div><div id="comment"></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo" target="_blank" rel="noopener"><span>Cxo</span></a></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 70vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Jsp"><span class="toc-number">1.</span> <span class="toc-text">Jsp</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-什么是Jsp？"><span class="toc-number">1.0.1.</span> <span class="toc-text">1.什么是Jsp？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Jsp的本质"><span class="toc-number">1.0.2.</span> <span class="toc-text">2.Jsp的本质</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-Jsp的三种语法"><span class="toc-number">1.0.3.</span> <span class="toc-text">3.Jsp的三种语法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#a-Jsp头部的page命令"><span class="toc-number">1.0.3.1.</span> <span class="toc-text">a)Jsp头部的page命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#b-jsp中常用脚本"><span class="toc-number">1.0.3.2.</span> <span class="toc-text">b)jsp中常用脚本</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-声明脚本-不常使用"><span class="toc-number">1.0.3.2.1.</span> <span class="toc-text">1.声明脚本(不常使用)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-表达式脚本-常用"><span class="toc-number">1.0.3.2.2.</span> <span class="toc-text">2.表达式脚本(常用)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-代码脚本"><span class="toc-number">1.0.3.2.3.</span> <span class="toc-text">3.代码脚本</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-Jsp中的九大内置对象"><span class="toc-number">1.0.4.</span> <span class="toc-text">4.Jsp中的九大内置对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-Jsp四大域对象"><span class="toc-number">1.0.5.</span> <span class="toc-text">5.Jsp四大域对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-jsp中的out和response-getWriter输出的区别"><span class="toc-number">1.0.6.</span> <span class="toc-text">6.jsp中的out和response.getWriter输出的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Jsp的常用标签"><span class="toc-number">1.0.7.</span> <span class="toc-text">7.Jsp的常用标签</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1）静态包含"><span class="toc-number">1.0.7.1.</span> <span class="toc-text">1）静态包含</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2）动态包含"><span class="toc-number">1.0.7.2.</span> <span class="toc-text">2）动态包含</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-jsp标签-转发"><span class="toc-number">1.0.7.3.</span> <span class="toc-text">3)jsp标签-转发</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-EL表达式"><span class="toc-number">1.0.8.</span> <span class="toc-text">8.EL表达式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是EL表达式"><span class="toc-number">1.0.8.1.</span> <span class="toc-text">什么是EL表达式</span></a></li></ol></li></ol></li></ol></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>