<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="小灰灰"><meta name="renderer" content="webkit"><meta name="copyright" content="小灰灰"><meta name="keywords" content="小灰灰"><meta name="description" content=""><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>Vue学习 · xhh's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/people1.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="/img/assets/people.png"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">xiaohuihui</div><div class="profile-signature">for me</div><div class="friends"><div>FRIENDS</div><span><a href="//www.cnblogs.com/lc-snail/" target="_black">friendA</a></span><span><a href="//github.com/" target="_black">friendB</a></span><span><a href="//github.com/" target="_black">friendC</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 70vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">xhh's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">Vue学习</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-calendar"></i><span>2020-05-25 18:41:06</span></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">6.5k</span> | Reading time: <span class="post-count">27</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h1 id="Vue学习"><a href="#Vue学习" class="headerlink" title="Vue学习"></a>Vue学习</h1><h3 id="Vue基础语法"><a href="#Vue基础语法" class="headerlink" title="Vue基础语法"></a>Vue基础语法</h3><p>v-bind:    动态绑定属性    可简写为:    可绑定class属性或者style属性    :class或:style或input里面的值:input</p>
<p>v-on:    事件监听   可简写为@           一般监听点击事件@click</p>
<p>把监听事件用在封装的组件上是不会产生监听效果的，如果我们想要监听一个组件的原生事件时，必须给对应的事件加上.native修饰符，才能进行接听。</p>
<p><img src="/images/Vue%E7%AC%94%E8%AE%B0/image-20200613175315588.png" alt="image-20200613175315588"></p>
<p>v-for    遍历数组</p>
<p>v-show   用于控制元素的渲染</p>
<p>v-model    实现数据的双向绑定</p>
<h3 id="组件通信："><a href="#组件通信：" class="headerlink" title="组件通信："></a>组件通信：</h3><p>父传子:用props属性来传;<br>子传父:$emit发射事件来传;<br>父访问子:$resf对象去访问;<br>子访问父:直接访问根$root;</p>
<h4 id="父传子-props"><a href="#父传子-props" class="headerlink" title="父传子-props"></a>父传子-props</h4><p>​    值肯定是定义在父组件中的，供所有子组件共享。所以要在父组件的data中定义值，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--如果使用驼峰命名法的时候,v-bind处的绑定的变量,应该用以下此方法命名--&gt;</span><br><span class="line">    &lt;bb :c-message=&apos;message&apos;&gt;&lt;/bb&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template id=&quot;bb&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h1&gt;我是子组件&lt;/h1&gt;</span><br><span class="line">      &lt;h2&gt;&#123;&#123;cMessage&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt; </span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">      el:&apos;#app&apos;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        message:&apos;hello Vue,与你的第一次相遇&apos;</span><br><span class="line">      &#125;,</span><br><span class="line">      components:&#123;</span><br><span class="line">        bb:&#123;</span><br><span class="line">          template:&quot;#bb&quot;,</span><br><span class="line">          props:&#123;</span><br><span class="line">            cMessage:&#123;</span><br><span class="line">              type:String,</span><br><span class="line">              default:&apos;&apos;,</span><br><span class="line">              required:true   //必传</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; </span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h4 id="子传父"><a href="#子传父" class="headerlink" title="子传父"></a>子传父</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;!--父组件模板--&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!--父组件接收事件,对接受的事件实现相应的方法--&gt;</span><br><span class="line">    &lt;child-cpn @increment-click=&quot;changeTotal&quot; @decrement-click=&quot;changeTotal&quot;&gt;&lt;/child-cpn&gt;</span><br><span class="line">    &lt;h2&gt;点击次数:&#123;&#123;total&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;!--子组件模板--&gt;</span><br><span class="line">  &lt;template id=&quot;childCpn&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;button @click=&quot;increment&quot;&gt;+1&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;decrement&quot;&gt;-1&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">      el:&apos;#app&apos;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        total:0</span><br><span class="line">      &#125;,</span><br><span class="line">      methods:&#123;</span><br><span class="line">        //子组件发射给父组件之后,调用父组件的方法</span><br><span class="line">        changeTotal(counter)&#123;</span><br><span class="line">          this.total = counter;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      components:&#123;</span><br><span class="line">        //子组件</span><br><span class="line">        &apos;child-cpn&apos;:&#123;</span><br><span class="line">          template:&apos;#childCpn&apos;,</span><br><span class="line">          data()&#123;</span><br><span class="line">            return&#123;</span><br><span class="line">              counter:0</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          methods:&#123;</span><br><span class="line">            increment()&#123;</span><br><span class="line">              this.counter++;</span><br><span class="line">              //发射给父组件事件   第一个参数为发射给父组件的事件,第二个参数为对应的数据。全部传给父组件</span><br><span class="line">              this.$emit(&apos;increment-click&apos;,this.counter);</span><br><span class="line">            &#125;,</span><br><span class="line">            decrement()&#123;</span><br><span class="line">              this.counter--;</span><br><span class="line">              this.$emit(&apos;decrement-click&apos;,this.counter);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>









<h3 id="子组件data必须为函数"><a href="#子组件data必须为函数" class="headerlink" title="子组件data必须为函数"></a>子组件data必须为函数</h3><p>根组件除外的组件中的data必须为函数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">  &lt;script src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;message&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;cpn&gt;&lt;/cpn&gt;</span><br><span class="line">    &lt;cpn&gt;&lt;/cpn&gt;</span><br><span class="line">    &lt;cpn&gt;&lt;/cpn&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  &lt;template id=&quot;cpn&quot;&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;h2&gt;当前计数:&#123;&#123;counter&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;button @click=&apos;increment&apos;&gt;+&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&apos;decreament&apos;&gt;-&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/template&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    //1.注册组件</span><br><span class="line">    Vue.component(&apos;cpn&apos;,&#123;</span><br><span class="line">      template:&apos;#cpn&apos;,</span><br><span class="line">      //为什么是函数,因为不用函数的时候,每次调用一个变量的时候,都只调用了一个相同的内存地址,会牵一发而动全身,而当我们使用了函数的时候,js用函数模拟类,函数返回的是对象,每次调用的都会是不同内存地址,所以值会不相同,不会牵一发而动全身</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">          counter:0</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      methods:&#123;</span><br><span class="line">        increment()&#123;</span><br><span class="line">          this.counter++;</span><br><span class="line">        &#125;,</span><br><span class="line">        decreament()&#123;</span><br><span class="line">          this.counter--;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    const app = new Vue(&#123;</span><br><span class="line">      el:&apos;#app&apos;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        message:&apos;Hello Vue&apos;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>



<h3 id="js高阶函数"><a href="#js高阶函数" class="headerlink" title="js高阶函数"></a>js高阶函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    const nums = [10,30,50,200,145,60,666];</span><br><span class="line">    //1.filter函数的使用</span><br><span class="line">    let newNums = nums.filter(function(n)&#123;</span><br><span class="line">      return n&lt;100;    //filter函数返回一个booleans值,真和假,为真则把值加入新数组中,为假则弃之</span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(newNums);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //2.map函数的使用</span><br><span class="line">    let new2Nums = newNums.map(function(n)&#123;</span><br><span class="line">      return n*2;       //map函数也返回一个新数组,它的返回值为数据类型的值</span><br><span class="line">    &#125;)</span><br><span class="line">    console.log(new2Nums); //20,60,100,120</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //3.reduce函数的使用 reduce对数组中所有内容进行汇总</span><br><span class="line">    let total = new2Nums.reduce(function(preValue,n)&#123;</span><br><span class="line">      return preValue+n;</span><br><span class="line">    &#125;,0)</span><br><span class="line">    console.log(total);</span><br><span class="line">    /*</span><br><span class="line">      第一次:preValue 0 n 20;     </span><br><span class="line">      第二次:preValue 20 n 60;    preValue值就是对上一次遍历的俩个参数进行相加</span><br><span class="line">      第三次:preValue 80 n 100;</span><br><span class="line">      第四次:preValue 180 n 120;</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    const nums2 = [10,30,50,200,145,60,669]</span><br><span class="line">    //对以上三个函数进行链式操作 </span><br><span class="line">    let total2 = nums2.filter(function(n)&#123;</span><br><span class="line">      return n&lt;100;</span><br><span class="line">    &#125;).map(function(n)&#123;</span><br><span class="line">      return n*2;</span><br><span class="line">    &#125;).reduce(function(preValue,n)&#123;</span><br><span class="line">      return preValue+n;</span><br><span class="line">    &#125;,0)</span><br><span class="line"></span><br><span class="line">    console.log(total2);</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure>





<h3 id="Vue生命周期"><a href="#Vue生命周期" class="headerlink" title="Vue生命周期"></a>Vue生命周期</h3><h3 id="脚手架CLI2"><a href="#脚手架CLI2" class="headerlink" title="脚手架CLI2"></a>脚手架CLI2</h3><p>初始化项目：vue init webpack 项目名</p>
<p>eslint是用来检测代码规范的，一般选择不用</p>
<p>npm run dev 运行项目</p>
<p>npm run build 打包项目</p>
<p>如果安装额外插件的时候,–save是指运行时依赖,–save -dev是指开发时依赖。</p>
<p>runtime-compiler和runtime-only的区别 ，区别在main.js文件里面,</p>
<p>runtime-compiler编译过程：template-&gt;ast(抽象语法树)-&gt;rander(函数)-&gt;virtual dom-&gt;true dom-&gt;UI</p>
<p>runtime-only编译过程：rander-&gt;virtual dom-&gt;UI</p>
<p>相比性能而言,runtime-only性能更高，代码量更少,轻6KB</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200526103144975.png" alt="image-20200526103144975" style="zoom: 50%;" />

<p>runtime-only直接使用render函数编译,render函数相当于的参数h相当于createElement函数，</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200526103338938.png" alt="image-20200526103338938" style="zoom: 50%;" />

<p>上图的传入对象是App,rander函数省略了template的编译,那么App里面的template到底是如何执行的？其实App转化成了一个对象，而里面的tempalte被转化成了rander函数，是被谁转化的呢，是被package.json文件里面的vue-template-compiler插件转化的。</p>
<p>npm run dev 流程图：</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200526121325392.png" alt="image-20200526121325392" style="zoom:50%;" />



<p>npm run build 流程图：</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200526121357552.png" alt="image-20200526121357552" style="zoom:50%;" />









<h3 id="脚手架CLI3"><a href="#脚手架CLI3" class="headerlink" title="脚手架CLI3"></a>脚手架CLI3</h3><p>初始化项目：vue create 项目名</p>
<p>npm run serve  运行项目 </p>
<p>npm run build 打包项目</p>
<p>启动界面话配置服务器：vue ui</p>
<h3 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h3><p>前端渲染和后端渲染的区别</p>
<p>后端路由：后端处理URL和页面之间的映射关系，当我们页面中需要请求不同的路径内容时，交给服务器来进行处理，服务器渲染好整个页面，并将页面返回给客户端，这种情况下渲染好的页面，不需要单独加载任何的js和css，可以直接交给浏览器展示，这样有利于SEO的优化。</p>
<p>前后端分离：后端只负责提供数据，不负责任何阶段的内容。</p>
<p>前端渲染：浏览器中大量显示的数据，先有ajax请求，调用相应的api接口，然后向数据库拿数据，然后这些数据拿到前端，由js代码执行。当访问一个网站的时候，静态服务器会把所以的html css js 代码都加载出来，然后这个时候，前端路由切换相应的页面，这个时候，就不用再次去请求静态服务器了，路由直接为你去找已经加载好的全部资源，然后再调用相应的组件。特点：改变URL的时候，页面是不进行刷新的，不需要向服务器请求资源。</p>
<p>安装路由：npm install vue-router –save</p>
<p>使用路由第一步：通过Vue.use来安装VueRouter插件；第二步：创建VueRouter对象；第三步导出模块，将router对象传入到Vue实例中。</p>
<p><router-link>标签是一个v-router中已经内置的组件，它会被渲染成一个<a>标签，跳转路径使用的是属性to，而属性tag的话可以决定渲染成什么样的组件，比如button。active-class属性当路由匹配成功时，会自动给当前元素设置一个router-link-active的class。</p>
<p><router-view>会根据当前的路径，动态渲染出不同的组件.</p>
<h3 id="动态路由"><a href="#动态路由" class="headerlink" title="动态路由"></a>动态路由</h3><p>动态路由通过v-bind绑定url和拼接url的方式，来动态获取路由</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528135745322.png" alt="image-20200528135745322" style="zoom:50%;" />

<p>然后进行动态展示</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528135810476.png" alt="image-20200528135810476" style="zoom:50%;" />



<p>如果使用默认路由的话,使用redirect来设置。</p>
<h3 id="url的hash和html5的history"><a href="#url的hash和html5的history" class="headerlink" title="url的hash和html5的history"></a>url的hash和html5的history</h3><p>location.hash = ‘aaa’ ,相当于切换页面，但是不会刷新页面</p>
<p>history.pushState({},’’,’home’)  ， 此个方法也不会刷新页面，此方法相当于数据结构的栈，push进行入栈操作，最后压入的东西永远在最前面，然后使用history.bcak()的时候，它就会进行出栈，把原来在栈顶的操作移除掉</p>
<p>history.go()能根据指定的参数，进行页面返回前进。</p>
<p>history.forward根据参数进行前进。</p>
<p>history.replaceState({},’’,’home’) 指替换，不能返回之前的url</p>
<h3 id="路由懒加载"><a href="#路由懒加载" class="headerlink" title="路由懒加载"></a>路由懒加载</h3><p>当打包构建应用的时候，javascrit包会变得非常大，影响页面加载。如果我们能把不同路由对应的组件分割成不同的代码块，然后当路由被访问的时候才能加载对应组件，用到时再加载。</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528154241259.png" alt="image-20200528154241259" style="zoom:50%;" />





<h3 id="路由参数传递"><a href="#路由参数传递" class="headerlink" title="路由参数传递"></a>路由参数传递</h3><p>to属性可以传对象，里面的query属性可传参数</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528161332200.png" alt="image-20200528161332200" style="zoom:50%;" />



<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528161405521.png" alt="image-20200528161405521"></p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528161542565.png" alt="image-20200528161542565"></p>
<h3 id="keep-alive问题"><a href="#keep-alive问题" class="headerlink" title="keep alive问题"></a>keep alive问题</h3><p>keep-alive是Vue内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p>
<p>router-view也是一个组件，如果直接被包在keep-alive里面，所有匹配到的视图组件都会被缓存。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90.jpg" alt="vue生命周期钩子"></p>
<p>当我们使用生命周期函数去渲染的时候会发现，当我们切换组件的时候，原来所在的组件会被destroy，而点击一个页面的时候会触发created函数。</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528224531971.png" alt="image-20200528224531971" style="zoom:50%;" />

<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528224544861.png" alt="image-20200528224544861" style="zoom:50%;" />



<p>把<router-view>标签包到<keep-alive>标签中,就可使用keep-alive，就不会被destroyed,可以大大提高性能</p>
<img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200528225016287.png" alt="image-20200528225016287" style="zoom:50%;" />

<p>keep-alive存在的时候才可使用生命周期函数activated()和deactivated()函数。</p>
<p>使用</p>
<keep-alive exclude="Detail">

   <router-view/>

  </keep-alive>

<p>可以排除组件。</p>
<h3 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &apos;vue&apos;</span><br><span class="line">import VueRouter from &apos;vue-router&apos;</span><br><span class="line">import Home from &apos;../views/Home.vue&apos;</span><br><span class="line">import Detail from &apos;../views/Detail.vue&apos;</span><br><span class="line">// import User from &apos;../views/User.vue&apos;</span><br><span class="line">// import &#123; component &#125; from &apos;vue/types/umd&apos;</span><br><span class="line"></span><br><span class="line">//路由懒加载</span><br><span class="line">const User = () =&gt; import(/* webpackChunkName: &quot;about&quot; */ &apos;../views/User.vue&apos;)</span><br><span class="line">const DetailNews = () =&gt; import(&apos;../views/DetailNews.vue&apos;)</span><br><span class="line">const DetailMessage = () =&gt; import(&apos;../views/DetailMessage.vue&apos;)</span><br><span class="line">const Profile = () =&gt; import(&apos;../views/Profile.vue&apos;)</span><br><span class="line">const Test = () =&gt;import(&apos;../views/Test.vue&apos;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//1.通过Vue.use(插件),安装插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line"></span><br><span class="line">  //配置映射关系</span><br><span class="line">  const routes = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: &apos;/&apos;,</span><br><span class="line">    name: &apos;Home&apos;,</span><br><span class="line">    component: Home,</span><br><span class="line">    meta:&#123;</span><br><span class="line">      title:&apos;首页&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path:&apos;/test&apos;,</span><br><span class="line">    name:&apos;Test&apos;,</span><br><span class="line">    component:Test</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &apos;/detail&apos;,</span><br><span class="line">    name: &apos;Detail&apos;,</span><br><span class="line">    component: Detail,</span><br><span class="line">    meta:&#123;</span><br><span class="line">      title:&apos;详情页&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    // component: () =&gt; import(/* webpackChunkName: &quot;about&quot; */ &apos;../views/Detail.vue&apos;)</span><br><span class="line">    children:[</span><br><span class="line">      &#123;</span><br><span class="line">        //设置默认页面</span><br><span class="line">        path:&apos;&apos;,</span><br><span class="line">        redirect:&apos;news&apos;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path:&apos;news&apos;,</span><br><span class="line">        component:DetailNews</span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        path:&apos;message&apos;,</span><br><span class="line">        component:DetailMessage</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &apos;/user/:userId&apos;,</span><br><span class="line">    name: &apos;User&apos;,</span><br><span class="line">    component: User,</span><br><span class="line">    meta:&#123;</span><br><span class="line">      title:&apos;用户页&apos;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &apos;/profile&apos;,</span><br><span class="line">    name: &apos;Profile&apos;,</span><br><span class="line">    component: Profile</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: &apos;/about&apos;,</span><br><span class="line">    name: &apos;About&apos;,</span><br><span class="line">    meta:&#123;</span><br><span class="line">      title:&apos;关于&apos;</span><br><span class="line">    &#125;,</span><br><span class="line">    //路由懒加载</span><br><span class="line">    // route level code-splitting</span><br><span class="line">    // this generates a separate chunk (about.[hash].js) for this route</span><br><span class="line">    // which is lazy-loaded when the route is visited.</span><br><span class="line">    component: () =&gt; import(/* webpackChunkName: &quot;about&quot; */ &apos;../views/About.vue&apos;)</span><br><span class="line">  &#125;,</span><br><span class="line">  // //添加默认路径</span><br><span class="line">  // &#123;</span><br><span class="line">  //   path:&apos;&apos;,</span><br><span class="line">  //   //使用redirect重定向</span><br><span class="line">  //   redirect:&apos;/home&apos;</span><br><span class="line">  // &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">//2.创建VueRouter对象</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">  //配置路由与组件之间的映射关系</span><br><span class="line">  routes,</span><br><span class="line">  mode:&apos;history&apos;  //加上此属性可以避免路径上有瞄点的出现,相当于使用history模式,不适用hash模式</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//前置钩子 页面跳转之前执行</span><br><span class="line">//全局导航守卫</span><br><span class="line">router.beforeEach((to,from,next)=&gt;&#123;</span><br><span class="line">  document.title =  to.meta.title;</span><br><span class="line">  next()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//3.导出模块,将router对象传入到Vue实例中</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>





<h3 id="tabbar"><a href="#tabbar" class="headerlink" title="tabbar"></a>tabbar</h3><p>创建tabbar：vue create tabbar</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p> promise是异步编程的一种解决方案。一种常见的场景就是网络请求，当我们封装一个网络请求的函数时，因为不能立刻拿到结果，所以不能像简单的3+4+7一样的将结果返回，所以我们往往会传入另外一个函数，在数据请求成功之时，将数据通过传入的函数回调出去。当网络请求简单的时候，倒是没多大的影响，但是当我们的网络请求非常复杂的时候，代码多且不易维护，我们就要用到promise。</p>
<p>一般情况下有异步操作时，使用Promise对这个异步操作进行封装。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">          setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//成功的时候调用resolve   </span></span><br><span class="line">            resolve(<span class="string">'hello world'</span>);</span><br><span class="line">          &#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(data);</span><br><span class="line">          <span class="built_in">console</span>.log(data);</span><br><span class="line">          <span class="built_in">console</span>.log(data);</span><br><span class="line">          <span class="built_in">console</span>.log(data);</span><br><span class="line">          <span class="built_in">console</span>.log(data);</span><br><span class="line">        &#125;)</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;script&gt;</span></span><br><span class="line"><span class="regexp">new Promise(function(resolve,reject)&#123;</span></span><br><span class="line"><span class="regexp">          setTimeout(function()&#123;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/失败的时候调用reject </span></span><br><span class="line"><span class="regexp">            reject('error message');</span></span><br><span class="line"><span class="regexp">          &#125;,1000)</span></span><br><span class="line"><span class="regexp">        &#125;).then(function(data)&#123;</span></span><br><span class="line"><span class="regexp">          console.log(data);</span></span><br><span class="line"><span class="regexp">          console.log(data);</span></span><br><span class="line"><span class="regexp">          console.log(data);</span></span><br><span class="line"><span class="regexp">          console.log(data);</span></span><br><span class="line"><span class="regexp">          console.log(data);</span></span><br><span class="line"><span class="regexp">        &#125;).catch(function(err)&#123;</span></span><br><span class="line"><span class="regexp">		console.log(err);    /</span><span class="regexp">/输出错误的信息   </span></span><br><span class="line"><span class="regexp">&#125;)</span></span><br><span class="line"><span class="regexp">&lt;/</span>script&gt;</span><br></pre></td></tr></table></figure>

<p>当有多个回调时：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Promise回调  链式编程</span></span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">      <span class="comment">//第一次网络请求</span></span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; </span><br><span class="line">        resolve()          <span class="comment">//如果resolve函数中有参数data,那么then包装的回调函数中的参数也是data</span></span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//第一次拿到结果的处理代码</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'hello world'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">          <span class="comment">//第二次网络请求的代码</span></span><br><span class="line">          setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            resolve()</span><br><span class="line">          &#125;,<span class="number">1000</span>)</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//第二次处理的代码 </span></span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello vue'</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello vue'</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello vue'</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello vue'</span>);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'hello vue'</span>);</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//第三次网络请求的代码</span></span><br><span class="line">            setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                resolve()</span><br><span class="line">              &#125;,<span class="number">1000</span>)</span><br><span class="line">            &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">//第三次处理的代码</span></span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'hello es6'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'hello es6'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'hello es6'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'hello es6'</span>);</span><br><span class="line">                <span class="built_in">console</span>.log(<span class="string">'hello es6'</span>);</span><br><span class="line">              &#125;)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>



<p>promise三种状态：</p>
<p>pending：等待状态，比如正在进行网络请求，或者定时器没有到时间。</p>
<p>fulfill：满足状态，当我们主动回调了resolve时，就处于该状态，并且回调.then()</p>
<p>reject：拒绝状态，当我们主动回调了reject时，就处于该状态，并且回调.catch()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(<span class="string">'hello world'</span>);</span><br><span class="line">        reject(<span class="string">'error message'</span>);</span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(data);</span><br><span class="line">    &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(err);</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>

<p>//第一个参数为resolve函数的处理,第二个参数为reject的处理</p>
<p>Promise的链式操作简写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        resolve(<span class="string">'aaa'</span>);</span><br><span class="line">      &#125;,<span class="number">1000</span>)</span><br><span class="line">    &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(res,<span class="string">'第一层的10行处理代码'</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(<span class="string">'error message'</span>)</span><br><span class="line">      &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res,<span class="string">'第二层的10行处理代码'</span>); </span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(res+<span class="string">'222'</span>)</span><br><span class="line">        &#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res,<span class="string">'第三层的10行处理代码'</span>)</span><br><span class="line">        &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">          <span class="built_in">console</span>.log(res);</span><br><span class="line">        &#125;)</span><br></pre></td></tr></table></figure>



<p>Promise的all()方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="comment">//all方法会判断多个方法都请求成功才会回调</span></span><br><span class="line">    <span class="built_in">Promise</span>.all([</span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">          url:<span class="string">'url1'</span>,</span><br><span class="line">          success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;),</span><br><span class="line">      <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</span><br><span class="line">        $.ajax(&#123;</span><br><span class="line">          url:<span class="string">'url2'</span>,</span><br><span class="line">          success:<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">    ]).then(<span class="function"><span class="keyword">function</span>(<span class="params">results</span>)</span>&#123;   <span class="comment">//返回值是一个数组</span></span><br><span class="line">      results[<span class="number">0</span>]    <span class="comment">//第一个请求的结果</span></span><br><span class="line">      results[<span class="number">1</span>]    <span class="comment">//第二个请求的结果</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>







<h3 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h3><p>vuex是一个专门为Vue.js应用程序开发的状态管理模式。</p>
<p>假如多个组件都有一个变量共享的话，我们要把这个变量放到哪里，如果放到组件里面的话，当其它组件来调用这个变量的话就会显得很麻烦，如果组件多就是个大问题，所以我们都会把多个组件共享的全部变量全部存储在一个对象里面。相当于这个变量是个公共资源，当组件用到的时候，去这个公共资源里面找。</p>
<p>猜疑？为什么我们不自己封装一个对象，然后把公共资源放到对象里，用的时候各个组件再调用呢？</p>
<p>答：当我们使用对象的时候，当我们改变对象里面的值时，组件里之前调用的值是不会改变的，就像不使用单例模式前我们实例化的时候，第一次的对象值跟第二次的对象值结果不一样。每次实例化的时候都会开辟不同的内存地址，所以值是不一样的。但是Vuex就不一样了，它会响应式，即使你在对象里改变了值，它以前的值也会改变的。</p>
<p>所以Vuex就是一个在多个组件间共享状态的插件。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/@5_()9_GQE7%25%7DVJ%5DG%5BLGI5X.png" alt="img"></p>
<p>actions是用来回调的，回调一般用在后端。Devtools是用来记录state状态的，可根据Devtools来查找是哪个组件改的记录。</p>
<p><strong>State</strong>单一状态树：尽量只使用一个store，便于管理和维护。</p>
<p><strong>getters</strong>：有时候我们需要从 store 中的 state 中派生出一些状态，例如对列表进行过滤并计数，我们就用到getter函数对state中的东西作出筛选和过滤,getters是内容。</p>
<p><strong>mutations</strong>：相应规则：Vuex的store中的state是响应式的，当state中数据发生改变时，Vue组件会自动更新。mutation操作一般用在同步操作，如果用在异步的话，效果不是那么的好，devtools插件会捕捉不到有时。所有异步的话就要用Action。</p>
<p><strong>Actions</strong>：代替mutation进行异步操作。但是它并没有跳过mutation环节，mutation环节是必不可少的。</p>
<p>以下为Action的步骤代码:</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603145214369.png" alt="image-20200603145214369"></p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603145233514.png" alt="image-20200603145233514"></p>
<p>然后在store里进行异步：</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603145310861.png" alt="image-20200603145310861"></p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603145730767.png" alt="image-20200603145730767"></p>
<p><strong>Modules</strong>：Module就是模块的意思，因为Vue的state使用单一状态树，意味着很多状态都交给Vuex来管理，当应用非常多的时候，store对象就会变得非常复杂化，可读性差。为了解决这个问题，vuex提供了module，而每个module都有自己的states，mutations</p>
<p>,actions，getters，小李把这现象称为疯狂套娃模式。在调用modules的时候，就如下图调用，我用的是a模块里的东西。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603110515384.png" alt="image-20200603110515384"></p>
<p>在真正的开发中，如果把很多东西都放到同一个文件里面，会造成项目看着很乱，所以，我们分别为getters，mutations，actions，modules各自见自己的文件，然后使用模块导出导入的方式，进行一一调用。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603151422126.png" alt="image-20200603151422126"></p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200603153339982.png" alt="image-20200603153339982"></p>
<h3 id="axios网络模块封装"><a href="#axios网络模块封装" class="headerlink" title="axios网络模块封装"></a>axios网络模块封装</h3><p>一般我们进行网络请求封装的时候都是使用jQuery-Ajax来进行的，但是在Vue中的话，我们已经引入了Vue框架，如果再引入jQuery的话，会造成资源的一种浪费，所以完全没有必要去进行，所以在Vue中我们进行网络请求的时候我们一般都使用axios框架。</p>
<p><strong>jsonp</strong>：使用jsonp的原因是为了解决跨域访问的问题。JSONP的核心在于通过&lt;-script&gt;标签的src来帮我们请求数据，当我们的项目部署到domain1.com服务器上的时候，此项目是不能直接访问domain2.com服务器上的资料。这个时候，我们利用&lt;-script&gt;标签上的scr来帮助我们去服务器上请求数据，将数据当作javascript的函数执行，并在执行的过程中，传入我们需要的json，所以封装json的核心就在于我们监听windows上的jsonp进行回调的名称。</p>
<p>安装axios : npm  Install axios  –save 开发时依赖</p>
<p>调用格式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//axios的基本使用</span></span><br><span class="line">axios(&#123;</span><br><span class="line">  url:<span class="string">'http://123.207.32.32:8000/home/multidata'</span>,</span><br><span class="line">  methods:<span class="string">'get'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;   <span class="comment">//这个res参数不是凭空出来的,当我们学习Promise()时候,resolve函数的处理结果</span></span><br><span class="line">  <span class="built_in">console</span>.log(res)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//axios的并发请求</span></span><br><span class="line">axios.all([axios(&#123;</span><br><span class="line">  url:<span class="string">'http://123.207.32.32:8000/home/multidata'</span>,</span><br><span class="line">&#125;),axios(&#123;</span><br><span class="line">  url:<span class="string">'http://123.207.32.32:8000/home/data'</span>,</span><br><span class="line">  params:&#123;</span><br><span class="line">    type:<span class="string">'sell'</span>,</span><br><span class="line">    page:<span class="string">'4'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)]).then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(result)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>当存在多个服务器时：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建对应的axios实例   第一个服务器的</span></span><br><span class="line"><span class="keyword">const</span> instance1 = axios.create(&#123;</span><br><span class="line">  baseURL:<span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">  timeout:<span class="number">5000</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url:<span class="string">'/home/multidata'</span></span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">instance1(&#123;</span><br><span class="line">  url:<span class="string">'/home/data'</span>,</span><br><span class="line">  <span class="comment">//params为url后面所跟的参数</span></span><br><span class="line">  params:&#123;</span><br><span class="line">    type:<span class="string">'pop'</span>,</span><br><span class="line">    page:<span class="number">1</span>   </span><br><span class="line">  &#125;</span><br><span class="line">&#125;).then(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(res);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建第二个服务器的axios实例</span></span><br><span class="line"><span class="keyword">const</span> instance2 = axios.create(&#123;</span><br><span class="line">  baseURL:<span class="string">'http://193.112.131.5:8000'</span>,</span><br><span class="line">  timeout:<span class="number">10000</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>为了避免组件对axios的框架，我们就应该创建公共的axios模块，需要时各个组件向公共axios模块调用即可。</p>
<p>先建个network文件,放要封装的axios模块。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200604222148228.png" alt="image-20200604222148228"></p>
<p>然后再main.js里面进行引入。</p>
<p><img src="/images/Vue%E8%84%9A%E6%89%8B%E6%9E%B6/image-20200604222241768.png" alt="image-20200604222241768"></p>
<p><strong>axios拦截器</strong>：</p>
<p>请求拦截器的作用是在请求发送前进行一些操作，例如在每个请求体里加上token，统一做了处理如果以后要改也非常容易。</p>
<p>响应拦截器的作用是在接收到响应后进行一些操作，例如在服务器返回登录状态失效，需要重新登录的时候，跳转到登录页。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">##request.js文件</span><br><span class="line"></span><br><span class="line"><span class="comment">//单独对axios模块封装</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//导出多个模块</span></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">request</span>(<span class="params">config</span>)</span>&#123;</span><br><span class="line">  <span class="comment">//1.创建axios实例</span></span><br><span class="line">  <span class="keyword">const</span> instance = axios.create(&#123;</span><br><span class="line">    baseURL:<span class="string">'http://123.207.32.32:8000'</span>,</span><br><span class="line">    timeout:<span class="number">5000</span>,</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//2.axios的拦截器</span></span><br><span class="line">  <span class="comment">//2.1请求拦截</span></span><br><span class="line">  instance.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">config</span>)</span>&#123;    <span class="comment">//参数里有两个函数,一个成功，一个失败</span></span><br><span class="line">    <span class="comment">// console.log(config);</span></span><br><span class="line">    <span class="keyword">return</span> config    <span class="comment">//拦截之后要返回回去</span></span><br><span class="line">  &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">//2.2响应拦截</span></span><br><span class="line">  instance.interceptors.response.use(<span class="function"><span class="keyword">function</span>(<span class="params">res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">// console.log(res);</span></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">  &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(err);</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">//3.发送真正的网络请求</span></span><br><span class="line">  <span class="keyword">return</span> instance(config);   <span class="comment">//里面的参数config相当于一个大对象,里面有url的基本配置信息,因为axios本身就是Promise,所以这里return的是Promise,而Promise函数里面默认传参数resolve和reject,而他两本身就是函数,到时候会在.then和.catch中回调出去。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">##home.js文件</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;request&#125; <span class="keyword">from</span> <span class="string">'./request.js'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">getHomeMultidata</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> request(&#123;</span><br><span class="line">    url:<span class="string">'/home/multidata'</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">##Home.vue文件</span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div id=&quot;home&quot;&gt;</span><br><span class="line">    &lt;NavBar class=&quot;home-nav&quot;&gt;</span><br><span class="line">      &lt;div slot=&quot;center&quot;&gt;购物街&lt;/div&gt;</span><br><span class="line">    &lt;/NavBar&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">import NavBar from &apos;../../components/common/navbar/NavBar.vue&apos;</span><br><span class="line">import &#123;getHomeMultidata&#125; from &apos;../../network/home.js&apos;    //如果不用default导出的话要加大括号</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">  name:&apos;Home&apos;,</span><br><span class="line">  components:&#123;</span><br><span class="line">    NavBar</span><br><span class="line">  &#125;,</span><br><span class="line">  data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">      banners:[]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //利用生命周期函数请求数据</span><br><span class="line">  created()&#123;</span><br><span class="line">    getHomeMultidata().then(res =&gt; &#123;</span><br><span class="line">      // console.log(res);</span><br><span class="line">      this.result = res;    //因为函数是局部作用域,里面的数据被调用就会被销毁,也就是说res不指向对象的地址了,所以直接把res的指向赋值给result变量,到时候即使res不指向对象的时候,result也指向那个对象的地址</span><br><span class="line">    &#125;)</span><br><span class="line">    // console.log(this.result);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">  .home-nav&#123;</span><br><span class="line">    background-color: var(--color-tint);     /*直接使用css预设的变量*/</span><br><span class="line">    color: white;</span><br><span class="line">  &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>





<h3 id="Vue常见问题"><a href="#Vue常见问题" class="headerlink" title="Vue常见问题"></a>Vue常见问题</h3><p>vue-cli下的项目出现Module not found: Error: Can’t resolve ‘stylus-loader’错误解决方案：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">第一步：npm install stylus stylus-loader --save-dev</span><br><span class="line">第二步：npm install</span><br></pre></td></tr></table></figure>

<hr>
<hr>
<p>绑定在标签中的res：</p>
<p>res如果绑定在组件中，那么通过this.$refs.refname获取到的是一个组件对象</p>
<p>所有组件都有一个属性$el:用于获取组件中的元素</p>
<p>res如果绑定在普通的元素中，那么通过this.$refs.refname获取到的是一个元素对象</p>
<p>为什么搞res：<em>res相当于唯一的标识符,避免有相同的类名而冲突</em></p>
<p>所有组件都有一个属性$el:用于获取组件中的元素</p>
<h3 id="ES6箭头函数与普通函数的区别"><a href="#ES6箭头函数与普通函数的区别" class="headerlink" title="ES6箭头函数与普通函数的区别"></a>ES6箭头函数与普通函数的区别</h3><p>箭头函数不会创建自己的this：</p>
<p>一般函数都有自己的this，但是箭头函数没有自己的this，它只会从自己的作用域链的上一层继承this。它会捕获自己在定义时所处的外层执行环境的this，并继承这个this值。</p>
<h3 id="Vue项目开发"><a href="#Vue项目开发" class="headerlink" title="Vue项目开发"></a>Vue项目开发</h3><p>解决首页中Better-Scroll可滚动区域的问题。</p>
<p>Better-Scroll在决定有多少区域可以滚动的时候，是根据scrollHeight属性决定的：</p>
<p>​    sctollerHight属性是根据Better-Scroll的content中的子组件的高度计算的，但是</p>
<p>​    在首页中，刚开始计算scrollerHeight属性时，是没有将网络请求到的图片计算在内的。</p>
<p>​    所以计算出来的是错误的(1300+)</p>
<p>​    后来图片加载出来之后有了新的高度，但是scrollerHeight属性并没有进行更新。</p>
<p>​    所以滚动出现了问题。</p>
<p>如何解决这一问题？</p>
<p>​    监听每一张图片是否加载完成，只要有一张图片加载完成了，执行依次refresh()。</p>
<h4 id="tabControl的吸顶效果"><a href="#tabControl的吸顶效果" class="headerlink" title="tabControl的吸顶效果"></a>tabControl的吸顶效果</h4><p>1.获取到tabControl的offsetTop</p>
<p>必须知道滚动到多少的时候才有吸顶效果，这个时候就需要获取tabControl的offsetTop</p>
<p>如果直接再生命周期函数mounted中获取tabControl的offsetTop，那么值是不正确的。所以我们用@load直接监听HomeSwiper组件中的img的加载。然后发出事件，在Home组件中获取正确的值。</p>
<h4 id="让Home保持原来的状态"><a href="#让Home保持原来的状态" class="headerlink" title="让Home保持原来的状态"></a>让Home保持原来的状态</h4><p>当我们离开home页，生命周期函数会执行destroy函数，组件会销毁当前状态，所以使用keep-alive。</p>
<p>让Home保持原来的状态：</p>
<p>离开时在生命周期函数deactivated中保存当前的位置信息y</p>
<p>进来时，在生命周期函数activated中调用原来保存的位置信息y</p>
</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="http://xhh460.github.io">小灰灰</a></p><p> <span>Link:  </span><a href="http://xhh460.github.io/2020/05/25/Vue%E5%AD%A6%E4%B9%A0/">http://xhh460.github.io/2020/05/25/Vue%E5%AD%A6%E4%B9%A0/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed under <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-nd/3.0" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.</span></p></div><div class="post-paginator"><a class="prevSlogan" href="/2020/05/26/mysql%E8%BF%9B%E9%98%B6/" title="mysql进阶"><span>< PreviousPost</span><br><span class="prevTitle">mysql进阶</span></a><a class="nextSlogan" href="/2020/04/29/%E5%8A%A8%E6%80%81%E9%93%BE%E8%A1%A8/" title="动态链表"><span>NextPost ></span><br><span class="nextTitle">动态链表</span></a><div class="clear"></div></div><div id="comment"></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo" target="_blank" rel="noopener"><span>Cxo</span></a></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 70vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Vue学习"><span class="toc-number">1.</span> <span class="toc-text">Vue学习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue基础语法"><span class="toc-number">1.0.1.</span> <span class="toc-text">Vue基础语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件通信："><span class="toc-number">1.0.2.</span> <span class="toc-text">组件通信：</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#父传子-props"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">父传子-props</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#子传父"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">子传父</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#子组件data必须为函数"><span class="toc-number">1.0.3.</span> <span class="toc-text">子组件data必须为函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js高阶函数"><span class="toc-number">1.0.4.</span> <span class="toc-text">js高阶函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue生命周期"><span class="toc-number">1.0.5.</span> <span class="toc-text">Vue生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#脚手架CLI2"><span class="toc-number">1.0.6.</span> <span class="toc-text">脚手架CLI2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#脚手架CLI3"><span class="toc-number">1.0.7.</span> <span class="toc-text">脚手架CLI3</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由"><span class="toc-number">1.0.8.</span> <span class="toc-text">路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#动态路由"><span class="toc-number">1.0.9.</span> <span class="toc-text">动态路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#url的hash和html5的history"><span class="toc-number">1.0.10.</span> <span class="toc-text">url的hash和html5的history</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由懒加载"><span class="toc-number">1.0.11.</span> <span class="toc-text">路由懒加载</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#路由参数传递"><span class="toc-number">1.0.12.</span> <span class="toc-text">路由参数传递</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#keep-alive问题"><span class="toc-number">1.0.13.</span> <span class="toc-text">keep alive问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#导航守卫"><span class="toc-number">1.0.14.</span> <span class="toc-text">导航守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tabbar"><span class="toc-number">1.0.15.</span> <span class="toc-text">tabbar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-number">1.0.16.</span> <span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vuex"><span class="toc-number">1.0.17.</span> <span class="toc-text">Vuex</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios网络模块封装"><span class="toc-number">1.0.18.</span> <span class="toc-text">axios网络模块封装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue常见问题"><span class="toc-number">1.0.19.</span> <span class="toc-text">Vue常见问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ES6箭头函数与普通函数的区别"><span class="toc-number">1.0.20.</span> <span class="toc-text">ES6箭头函数与普通函数的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue项目开发"><span class="toc-number">1.0.21.</span> <span class="toc-text">Vue项目开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#tabControl的吸顶效果"><span class="toc-number">1.0.21.1.</span> <span class="toc-text">tabControl的吸顶效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#让Home保持原来的状态"><span class="toc-number">1.0.21.2.</span> <span class="toc-text">让Home保持原来的状态</span></a></li></ol></li></ol></li></ol></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>