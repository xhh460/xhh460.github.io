<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="author" content="小灰灰"><meta name="renderer" content="webkit"><meta name="copyright" content="小灰灰"><meta name="keywords" content="小灰灰"><meta name="description" content=""><meta name="Cache-Control" content="no-cache"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>javaSE · xhh's Blog</title><link rel="stylesheet" href="/css/style.css?v=2018.7.9"><link rel="stylesheet" href="/css/animation.css?v=2018.7.9"><link rel="icon" href="/img/assets/people1.ico"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css?version=1.5.6"><!-- scripts--><script>(function( w ){
  "use strict";
  // rel=preload support test
  if( !w.loadCSS ){
    w.loadCSS = function(){};
  }
  // define on the loadCSS obj
  var rp = loadCSS.relpreload = {};
  // rel=preload feature support test
  // runs once and returns a function for compat purposes
  rp.support = (function(){
    var ret;
    try {
      ret = w.document.createElement( "link" ).relList.supports( "preload" );
    } catch (e) {
      ret = false;
    }
    return function(){
      return ret;
    };
  })();

  // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
  // then change that media back to its intended value on load
  rp.bindMediaToggle = function( link ){
    // remember existing media attr for ultimate state, or default to 'all'
    var finalMedia = link.media || "all";

    function enableStylesheet(){
      link.media = finalMedia;
    }

    // bind load handlers to enable media
    if( link.addEventListener ){
      link.addEventListener( "load", enableStylesheet );
    } else if( link.attachEvent ){
      link.attachEvent( "onload", enableStylesheet );
    }

    // Set rel and non-applicable media type to start an async request
    // note: timeout allows this to happen async to let rendering continue in IE
    setTimeout(function(){
      link.rel = "stylesheet";
      link.media = "only x";
    });
    // also enable media after 3 seconds,
    // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
    setTimeout( enableStylesheet, 3000 );
  };

  // loop through link elements in DOM
  rp.poly = function(){
    // double check this to prevent external calls from running
    if( rp.support() ){
      return;
    }
    var links = w.document.getElementsByTagName( "link" );
    for( var i = 0; i < links.length; i++ ){
      var link = links[ i ];
      // qualify links to those with rel=preload and as=style attrs
      if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
        // prevent rerunning on link
        link.setAttribute( "data-loadcss", true );
        // bind listeners to toggle media back
        rp.bindMediaToggle( link );
      }
    }
  };

  // if unsupported, run the polyfill
  if( !rp.support() ){
    // run once at least
    rp.poly();

    // rerun poly on an interval until onload
    var run = w.setInterval( rp.poly, 500 );
    if( w.addEventListener ){
      w.addEventListener( "load", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    } else if( w.attachEvent ){
      w.attachEvent( "onload", function(){
        rp.poly();
        w.clearInterval( run );
      } );
    }
  }


  // commonjs
  if( typeof exports !== "undefined" ){
    exports.loadCSS = loadCSS;
  }
  else {
    w.loadCSS = loadCSS;
  }
}( typeof global !== "undefined" ? global : this ) );</script><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" defer></script><script src="/js/main.js?v=2018.7.9" defer></script><!-- fancybox--><link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'"><script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script><!-- busuanzi--><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script></head><body><section class="profile-close" id="cxo-profile"><div class="profile-avatar"><i class="fa fa-caret-left"></i><img src="/img/assets/people.png"></div><!--.profile-saying
  i.fa.fa-comment
  .saying--><div class="cxo-profile-inner"><div class="profile-name">xiaohuihui</div><div class="profile-signature">for me</div><div class="friends"><div>FRIENDS</div><span><a href="//www.cnblogs.com/lc-snail/" target="_black">friendA</a></span><span><a href="//github.com/" target="_black">friendB</a></span><span><a href="//github.com/" target="_black">friendC</a></span></div><div class="read-progress"></div></div></section><header id="cxo-intro" style="height: 70vh;background-image: url(/img/intro/index-bg.png);"><nav id="cxo-intro-nav"><section><div class="intro-nav-title"><a href="/">xhh's Blog</a></div><div class="intro-nav-label-box"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div><i class="fa fa-bars intro-nav-menu"><div class="intro-nav-drop"><a href="/">Home</a><a href="/about/">About</a><a href="/archives/">Archives</a><a href="/tags/">Tags</a></div></i><div class="clear"></div></section></nav><h1 class="post-title">javaSE</h1><div class="post-intros"><div class="post-intro-meta"><span class="post-intro-time"><i class="post-intro-calendar fa fa-calendar"></i><span>2020-08-07 14:59:35</span></span></div><div class="post-intro-read"><span> Word count: <span class="post-count">28.6k</span> | Reading time: <span class="post-count">130</span>min</span></div></div></header><article class="cxo-up" id="cxo-content-outer"><section id="cxo-content-inner"><article class="article-entry" id="post"><h1 id="Java-SE"><a href="#Java-SE" class="headerlink" title="Java SE"></a>Java SE</h1><p>JDK(Java Development Kit) :java开发工具箱</p>
<p>JRE(Java Runtime Environment)：java运行环境</p>
<p>JVM(Java Visula Machine)：java虚拟机</p>
<p>java程序员直接编写的java代码(普通文本)是无法被JVM识别的。这种代码必须经过编译，将这个”普通文本”变成”字节码”，JVM能够识别”字节码”，这个过程叫做”编译”。</p>
<p>一个java源文件是可以生成多个class文件的，最终运行的就是class文件。</p>
<p>.java文件就是源文件。</p>
<p>.class文件就是字节码文件。</p>
<p>字节码文件不是二进制文件，字节码文件被JVM解释成计算机能够识别的二进制。</p>
<p>java程序开发到最终运行经历了什么？</p>
<p>编译期：</p>
<ol>
<li>建立.java源文件。</li>
<li>编译器javac.exe把.java文件编译成.class字节码文件。</li>
</ol>
<p>运行期(JRE起重要作用)：</p>
<ol>
<li>先启动JVM，然后通过class类加载器把字节码装载到JVM中</li>
<li>然后JVM启动”解释器”对字节码进行解释成计算机能够识别的二进制码。</li>
</ol>
<p>运行java程序的步骤：</p>
<p>第一步：先使用cd切换到HelloJava.class文件所在的路径,然后进行<code>javac 文件名</code>的方式进行编译,成class文件。然后再进行<code>java 类文件名</code>进行输出。</p>
<p><code>classpath</code>是一个环境变量，是给类加载器指路的。</p>
<p>public的类可以没有，但是如果有public修饰的类名字，则类名必须与源文件名一致。</p>
<p><strong>基本数据类型转化规则</strong></p>
<ol>
<li>八种基本数据类型中，除boolean类型不能转化，剩下七种类型之间可以进行相互转化。</li>
<li>如果整数型字面量没有超出<code>byte,short,char</code>的取值范围，也可以直接将其赋值给<code>byte,short,char</code>类型的变量。</li>
<li>小容量向大容量转化称为自动类型转化，容量从小到大排序为：<code>byte&lt;short(char)&lt;int&lt;long&lt;float&lt;double</code>，其中<code>short</code>和<code>char</code>都占用两个字节，但是char可以表示更大的整数。</li>
<li>大容量转化成小容量，称为强制类型转化，编写时必须添加”强制类型转化符”,但运行时精度可能会损失。</li>
<li><code>byte,short,char</code>类型混合运算的时候，先各自转化成<code>int</code>类型再做运算。</li>
<li>多种数据类型混合运算的时候，各自先转成容量最大的一种然后再做运算。</li>
</ol>
<p>​    </p>
<p>&amp;&amp;和||称为短路与和短路或，使用短路可提升效率,因为在进行逻辑与判断的时候，只要前面为false则后面的将不进行计算。</p>
<h3 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h3><p>方法就像js中的函数。用来实现功能。</p>
<p>方法重载：方法名相同，参数列表不同。</p>
<p><strong>方法的返回值类型</strong>：</p>
<p>java中方法就是为了完成某个特定的功能，方法结束之后，大部分都会有一个结果的，而体现结果的一般都是数据。数据得有类型。这就是返回值类型。</p>
<p>当一个方法执行结束不返回任何值的时候，返回值类型也不能空白，必须写上<code>void</code>关键字。所以void表示该方法执行结束后不返回任何结果。</p>
<p>方法执行结束之后的返回值实际上是给调用者了。</p>
<p>如果返回值类型不是void，那么你在方法体执行结束的时候必须使用<code>return</code>值；否则的话就会报错。</p>
<p><strong>方法的调用</strong>：</p>
<p>使用<code>类名.方法</code>的方式进行调用。</p>
<p>return跟break的区别：return直接终止方法，break终止循环。</p>
<p><strong>JVM内存结构</strong>：</p>
<p><img src="/images/java%E5%9F%BA%E7%A1%80/image-20200811160320279.png" alt="image-20200811160320279"></p>
<p>JVM三块主要内存：栈内存、堆内存、方法区内存。</p>
<p>方法区最先有数据：方法区中放代码片段，存放class字节码。</p>
<p>栈内存：方法调用的时候，会在栈中开辟内存空间。</p>
<p>方法调用才会在栈开辟空间，并且调用时就是<strong>压栈</strong>，方法执行完之后，就会销毁空间，简称<strong>弹栈</strong>。</p>
<p><strong>对象</strong></p>
<p>java中所有的类都是引用数据类型,String是已经在底层写好的类供我们使用。</p>
<p>创建对象的方式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">类名 变量名 = <span class="keyword">new</span> 类名()</span><br></pre></td></tr></table></figure>







<p>创建对象在JVM中的内存结构：</p>
<p>方法里面的变量属于局部变量，局部变量存储在栈内存当中。</p>
<p>方法外的变量属于全局变量。也成为实例变量(成员变量),实例变量不饿能通过类的方式去访问，只能通过对象的方式去访问。</p>
<p><img src="/images/java%E5%9F%BA%E7%A1%80/image-20200812141343184.png" alt="image-20200812141343184"></p>
<p>对象和引用的区别：</p>
<p>对象是通过new出来的，在堆内存中存储。</p>
<p>引用是：局部变量(存储在栈中)保存了指向堆内存中对象的内存地址。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//如果一个类中的实例成员的引用变量类型是类名的话,给实例成员赋值的时候，只能把类名的实例的地址赋值给实例成员</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest03</span> </span>&#123;</span><br><span class="line">	A o1;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		A a = <span class="keyword">new</span> A();</span><br><span class="line">		B b = <span class="keyword">new</span> B();</span><br><span class="line">		C c = <span class="keyword">new</span> C();</span><br><span class="line">		D d = <span class="keyword">new</span> D();</span><br><span class="line">		ObjectTest03 obj =  <span class="keyword">new</span> ObjectTest03();</span><br><span class="line">		</span><br><span class="line">        </span><br><span class="line">		obj.o1 = a;</span><br><span class="line">		a.o2 = b;</span><br><span class="line">		b.o3 = c;</span><br><span class="line">		c.o4 = d;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//编写代码通过obj来访问d中的test</span></span><br><span class="line">		System.out.println(obj.o1.o2.o3.o4.test);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	B o2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span></span>&#123;</span><br><span class="line">	C o3;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span></span>&#123;</span><br><span class="line">	D o4;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">D</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> test;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>代码在JVM中的图示化：</p>
<p><img src="/images/java%E5%9F%BA%E7%A1%80/image-20200812230404419.png" alt="image-20200812230404419"></p>
<p><strong>空指针</strong></p>
<p>如果java中存在在栈中的局部变量(存着指向对象的地址)的地址不指向实例对象了，而指向null，那么存在在堆中的这个对象，就会被GC当垃圾回收了。</p>
<p>java中的垃圾回收器GC主要针对回收的是堆内存当中的垃圾数据，当没有任何引用指向一个对象的时候，那么这个对象就会被垃圾回收器回收。</p>
<p>空指针异常在什么时候发生？</p>
<p>​    只有在”空引用”访问”实例相关的属性和方法”的时候会出现空指针异常。</p>
<p><strong>方法调用时参数传递</strong>：</p>
<p>基本数据类型传递:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方法调用时参数传递</span></span><br><span class="line"><span class="comment">//在java中参数传递的时候，将盒子中的东西赋值一份再传递过去</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest04</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i = <span class="number">10</span>;</span><br><span class="line">        <span class="comment">//这里把10复制了一份</span></span><br><span class="line">		add(i);</span><br><span class="line">		System.out.println(i);			<span class="comment">//10</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> i)</span> </span>&#123;</span><br><span class="line">		i++;</span><br><span class="line">		System.out.println(i);			<span class="comment">//11</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>引用类型传递:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectTest05</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Person p = <span class="keyword">new</span> Person();</span><br><span class="line">		p.age = <span class="number">10</span>;</span><br><span class="line">		add(p);</span><br><span class="line">		System.out.println(p.age);			<span class="comment">//11</span></span><br><span class="line">	&#125;</span><br><span class="line">    <span class="comment">//在java中参数传递的时候，将盒子中的东西赋值一份再传递过去</span></span><br><span class="line">	<span class="comment">//因为传递的时候传的是一个对象的地址,所以对象的地址一但改了,跟这个对象有关的数据都被改了，一改全改</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Person x)</span> </span>&#123;</span><br><span class="line">		x.age++;</span><br><span class="line">		System.out.println(x.age);			<span class="comment">//11 </span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：在java中关于方法调用时参数传递实际上只有一个规则，无论是基本数据类型还是引用数据类型，在传递的时候都是将变量中保存的那个值复制一份，那个值可能是数值，可能是地址。</p>
<p><strong>构造方法</strong></p>
<p>构造方法是一个特殊的方法，是用来创建对象并且同时给对象属性赋值(实例变量的初始化)。</p>
<p>当一个类中没有提供任何构造方法，系统默认提供一个无参数的构造器方法。</p>
<p>构造方法的语法结构：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符列表] 构造方法名(形式参数列表)&#123;</span><br><span class="line">    构造方法体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>构造方法不需要指定返回值类型。</p>
<p>通常在构造方法体中给属性赋值，完成属性的初始化。</p>
<p>构造方法支持方法重载，在一个类中，构造方法可以有多个，它们的方法名都一样，只是参数列表不同。</p>
<p>构造方法是通过new来调用的。</p>
<p><strong>封装的作用</strong>：</p>
<ol>
<li>保证内部结构的安全</li>
<li>屏蔽复杂，暴露简单</li>
<li>调用的时候简单</li>
</ol>
<p>封装代码案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//PersonTest类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Person p1 = <span class="keyword">new</span> Person();</span><br><span class="line">		</span><br><span class="line">        System.out.println(p1.age);<span class="comment">//error,不能访问,因为是age是私有属性</span></span><br><span class="line">        </span><br><span class="line">		p1.setAge(-<span class="number">1</span>);</span><br><span class="line">		System.out.println(p1.getAge());	<span class="comment">//非法年龄,请重新赋值</span></span><br><span class="line">		</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Person类</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;   <span class="comment">//私有属性</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//get方法   实例方法	通过get方法向外暴露age,供其他类访问</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//set方法		//实例方法 必须通过“对象.方法名”的方式来调用</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(age&lt;<span class="number">0</span> || age&gt;<span class="number">150</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"非法年龄,请重新赋值"</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<p><strong>this和static</strong>：</p>
<p>static：</p>
<ul>
<li><p>所有static关键字修饰的，都可以采用”类名.”的方式访问。</p>
</li>
<li><p>static修饰的变量：静态变量</p>
</li>
<li><p>不带static修饰的方法：实例方法</p>
</li>
<li><p>static修饰的方法：静态方法</p>
</li>
<li><p>不带static修饰的方法：实例方法</p>
</li>
</ul>
<p>成员变量分为：实例变量和静态变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		People p1 = <span class="keyword">new</span> People(<span class="string">"532901201546212"</span>,<span class="string">"小灰灰"</span>);</span><br><span class="line">		System.out.println(p1.idCard); <span class="comment">//532901201546212</span></span><br><span class="line">		System.out.println(p1.name); <span class="comment">//小灰灰</span></span><br><span class="line">		<span class="comment">//使用类名.的方式去调用静态成员</span></span><br><span class="line">		System.out.println(People.country);			<span class="comment">//China</span></span><br><span class="line">		</span><br><span class="line">		People p2 = <span class="keyword">new</span> People(<span class="string">"512164812134545"</span>,<span class="string">"小红红"</span>);	</span><br><span class="line">		System.out.println(p2.idCard);		<span class="comment">//512164812134545</span></span><br><span class="line">		System.out.println(p2.name);			<span class="comment">//小红红</span></span><br><span class="line">		<span class="comment">//使用类名.的方式去调用静态</span></span><br><span class="line">		System.out.println(People.country);		<span class="comment">//China</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">People</span></span>&#123;</span><br><span class="line">	String idCard;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="keyword">static</span> String country = <span class="string">"China"</span>;   <span class="comment">//声明静态成员</span></span><br><span class="line">	 </span><br><span class="line">	<span class="comment">//构造方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">People</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">People</span><span class="params">(String s1,String s2)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.idCard = s1;</span><br><span class="line">		<span class="keyword">this</span>.name = s2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/images/java%E5%9F%BA%E7%A1%80/image-20200814130224386.png" alt="image-20200814130224386"></p>
<p>一个对象一份用实例，所有对象一份用静态。</p>
<p>静态方法可节省内存空间。</p>
<p><strong>static静态代码块</strong></p>
<p>使用static关键字定义的代码块称为静态代码块。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    java语句;</span><br><span class="line">    java语句;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>static静态代码块在类加载的时候执行，并且在main方法执行前执行，只执行一次。执行的顺序自上而下。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//static静态代码块在类加载的时候执行,并且在main方法执行前执行</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticTest03</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">"A"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">"B"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"D"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">static</span> &#123;</span><br><span class="line">		System.out.println(<span class="string">"C"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>static代码块可用来做一些初始化操作。比如记录类加载时候的日志等等。</p>
<p><strong>实例代码块</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InstanceCodeTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">new</span> InstanceCodeTest();</span><br><span class="line">	&#125;	</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//实例代码块</span></span><br><span class="line">	&#123;</span><br><span class="line">		System.out.println(<span class="string">"实例语句块执行"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//构造方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">InstanceCodeTest</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"无参数构造方法执行"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//带参数的构造方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">InstanceCodeTest</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"有参数的构造方法执行"</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">输出结果：</span></span><br><span class="line"><span class="comment">实例语句块执行</span></span><br><span class="line"><span class="comment">有参数构造方法执行</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>实例语句块在构造方法执行前执行。</p>
<p>实例方法和静态方法：</p>
<p>静态方法加static修饰，调用的时候使用<code>类名.</code>的方式去调用。</p>
<p>实例方法可以调静态方法，静态方法不能调实例方法。</p>
<p>以后判断能不能调用，我们默认看看是不是实例方法或属性，然后默认在前面加上<code>this.</code></p>
<p><strong>this关键字</strong></p>
<p>this是一个变量，一个引用。this保存着当前对象的内存地址，指向自身。所以this代表的就是”当前对象”。</p>
<p>this存储在堆内存当中对象的内部。 </p>
<p>this只能使用在实例方法中。哪个对象调用这个实例方法，this就是哪个对象。</p>
<p>所以this表示的就是：当前对象。</p>
<p>this不存在于静态方法中。</p>
<p>this除了用在实例方法中，还可以用在构造方法中。</p>
<p><strong>this()</strong>的作用：</p>
<p>通过当前的构造方法去调用另一个本类的构造方法，可以使用<code>this(实际参数列表)</code>的方式去调用。this()语句必须放在构造方法中的第一行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThisTest03</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> year;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> month;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> day;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ThisTest03 t1 = <span class="keyword">new</span> ThisTest03();</span><br><span class="line">		System.out.println(t1.year+<span class="string">"年"</span>+t1.month+<span class="string">"月"</span>+t1.day+<span class="string">"日"</span>);	<span class="comment">//1770年1月1日</span></span><br><span class="line">		</span><br><span class="line">		ThisTest03 t2 = <span class="keyword">new</span> ThisTest03(<span class="number">2020</span>,<span class="number">8</span>,<span class="number">14</span>);</span><br><span class="line">		System.out.println(t2.year+<span class="string">"年"</span>+t2.month+<span class="string">"月"</span>+t2.day+<span class="string">"日"</span>); <span class="comment">//2020年8月14日</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ThisTest03</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>(<span class="number">1770</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ThisTest03</span><span class="params">(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> day)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.year = year;</span><br><span class="line">		<span class="keyword">this</span>.month = month;</span><br><span class="line">		<span class="keyword">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>总结：</p>
<ul>
<li>所有实例相关的都是先创建对象，通过<code>引用.</code>的方式来访问。</li>
<li>所有静态相关的都是直接采用<code>类名.</code>的方式来访问。</li>
<li>只要负责调用的方法a和被调用的方法b在同一个类中：<ul>
<li>this.可以省略</li>
<li>类名.可以省略</li>
</ul>
</li>
</ul>
<h3 id="继承extends"><a href="#继承extends" class="headerlink" title="继承extends"></a>继承extends</h3><p>继承的</p>
<p>基本作用：子类继承父类，代码可以得到复用。</p>
<p>主要作用：因为有了继承关系，才有了方法覆盖和多态机制。</p>
<p>java中只允许单继承。</p>
<p>但是我们可以产生间接继承的效果。</p>
<p>比如B继承A，C继承B，C还间接继承了A；</p>
<p>java中的类默认继承Oject类(老祖宗)。</p>
<p>除了构造方法以外，都可以继承，但是私有属性无法在子类中直接访问。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExtendsTest01</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> money;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Son s1 = <span class="keyword">new</span> Son();</span><br><span class="line">		s1.setMoney(<span class="number">10000</span>);</span><br><span class="line">		<span class="comment">//父类的私有属性不能被字类直接访问,需通过方法间接暴露出来</span></span><br><span class="line">		s1.implement();		<span class="comment">//10000</span></span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ExtendsTest01</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">ExtendsTest01</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.money = money;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMoney</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.money = money;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.money;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">implement</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="keyword">this</span>.getMoney());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son</span> <span class="keyword">extends</span> <span class="title">ExtendsTest01</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    </p>
<h3 id="方法重写-覆盖"><a href="#方法重写-覆盖" class="headerlink" title="方法重写(覆盖)"></a>方法重写(覆盖)</h3><p>在字类继承父类的过程中，有一些行为可能不需要改进，但是有一些行为面临着必须改进，因为父类中继承过来的方法已经无法满足子类的需求。所以就进行方法重写。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OverRide</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Bird b1 = <span class="keyword">new</span> Bird();</span><br><span class="line">        <span class="comment">//因为方法进行了重写,所以进行了方法覆盖</span></span><br><span class="line">		b1.move();			<span class="comment">//鸟儿在飞侠</span></span><br><span class="line">		</span><br><span class="line">		Cat c1 = <span class="keyword">new</span> Cat();</span><br><span class="line">        <span class="comment">//因为方法进行了重写,所以进行了方法覆盖</span></span><br><span class="line">		c1.move();		<span class="comment">//猫在走猫步</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"动物在移动"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鸟儿在飞侠"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫在走猫步"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>方法覆盖的前提：</p>
<ul>
<li>两个类必须有继承关系。</li>
<li>重写之后的方法和之间的方法具有<code>相同的返回值类型，相同的方法名，相同的形式参数列表</code>。</li>
<li>访问权限不能更低，可以更高。比如protected修饰的方法不能对public修饰的方法进行方法重写。</li>
<li>重写之后的方法不能比之前的方法抛出更多的异常，可以更少。</li>
</ul>
<p>方法覆盖的注意事项：</p>
<ul>
<li>方法覆盖只针对于方法，和属性无关</li>
<li>私有方法无法覆盖</li>
<li>构造方法不能被继承，所以构造方法也不能被覆盖</li>
<li>方法覆盖只是针对于实例方法，静态方法覆盖没有意义</li>
</ul>
<h3 id="多态"><a href="#多态" class="headerlink" title="多态"></a>多态</h3><p>java中允许向上转型也允许向下转型，前提是两类中必须中必须有继承关系。</p>
<p>向上转型：子转父(自动类型转化)</p>
<p>向下转型：父转子(强制类型转化，需要加强制类型转化符)</p>
<p>多态表示多种形态：</p>
<ul>
<li>编译的时候一种形态</li>
<li>运行的时候另一种形态</li>
</ul>
<p>多态指的是：<strong>父类型引用指向子类型对象</strong>。包括编译阶段和运行阶段。</p>
<p>编译阶段：绑定父类的方法。</p>
<p>运行阶段：动态绑定子类型对象的方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/*java程序分为编译阶段和运行阶段</span></span><br><span class="line"><span class="comment">	 * 编译阶段：对于编译器来说，编译器只知道a2的类型是Animal，所以编译器在检查语法的时候，会去Animal.class</span></span><br><span class="line"><span class="comment">	 * 字节码文件中找到move()方法，找到了，绑定上move()方法，编译通过，静态绑定成功。(编译阶段属于静态绑定)</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 * 运行阶段：在运行阶段的时候，实际上在堆内存中创建的java对象是Cat对象，所以move的时候，真正参与move对象是</span></span><br><span class="line"><span class="comment">	 * 一只猫，所以运行阶段会动态执行Cat对象的move()方法。这个过程属于运行阶段绑定。(运行阶段绑定属于动态绑定)</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//向上转型</span></span><br><span class="line">		Animal a1 = <span class="keyword">new</span> Bird();</span><br><span class="line">		a1.move();	<span class="comment">//鸟儿在飞侠 </span></span><br><span class="line">		Animal a2 = <span class="keyword">new</span> Cat();</span><br><span class="line">		a2.move();		<span class="comment">//猫在走猫步</span></span><br><span class="line">		<span class="comment">//因为Animal类型中没有catchMouse()方法,所以编译不通过,这个时候就需要向下转型</span></span><br><span class="line">		<span class="comment">//a2.catchMouse();</span></span><br><span class="line">		<span class="comment">//当你访问的是子类对象特有的方法。此时必须向下转型</span></span><br><span class="line">		Cat c1 = (Cat)a2;  <span class="comment">//转化的时候需要加强制类型转化符</span></span><br><span class="line">		c1.catchMouse();		<span class="comment">//猫在抓老鼠</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//向下转型也有风险</span></span><br><span class="line">		Animal a3 = <span class="keyword">new</span> Bird();</span><br><span class="line"><span class="comment">//		Cat c2 = (Cat)a3;  //此处Animal和Cat存在继承关系,属于向下转型</span></span><br><span class="line">		</span><br><span class="line"><span class="comment">//		c2.catchMouse();	//ClassCastException Error</span></span><br><span class="line">		<span class="comment">/*因为catchMouse()方法属于Cat类,而运行阶段中,实际在堆内存中创建的对象是Bird对象</span></span><br><span class="line"><span class="comment">		并且Bird类和Cat类之间没有继承关系,所以运行报错。*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//解决办法 instanceof </span></span><br><span class="line">        <span class="comment">//以后在开发中只要遇到向下转型的问题就要用instaceof判断</span></span><br><span class="line">		Animal a4 = <span class="keyword">new</span> Bird();</span><br><span class="line">		<span class="keyword">if</span>(a4 <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">			Cat c3 = (Cat)a4;</span><br><span class="line">			c3.catchMouse();</span><br><span class="line">		&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">			System.out.println(<span class="string">"此处不能向下转型"</span>);		<span class="comment">//此处不能向下转型</span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"动物在移动"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鸟儿在飞侠"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫在走猫步"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫在抓老鼠"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>instanceof</strong>：</p>
<p>instanceof在运行阶段动态判断</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c1 <span class="keyword">instanceof</span> Cat  =&gt; 判断c1引用指向的堆内存中java对象是一个Cat,如果是为<span class="keyword">true</span>，否则<span class="keyword">false</span></span><br></pre></td></tr></table></figure>

<p>在进行向下转型的时候，一定要用<code>instanceof</code>进行判断。</p>
<p><strong>多态在开发中用到的例子</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Master m1 = <span class="keyword">new</span> Master();</span><br><span class="line">		m1.feed(<span class="keyword">new</span> Catt());	<span class="comment">//猫吃饭	</span></span><br><span class="line">		m1.feed(<span class="keyword">new</span> Dog());	<span class="comment">//狗吃饭</span></span><br><span class="line">		m1.feed(<span class="keyword">new</span> YingWu());	<span class="comment">//鹦鹉吃饭</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//主人类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Master</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	Pet p1 = <span class="keyword">new</span> Pet();</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">feed</span><span class="params">(Pet p1)</span> </span>&#123;</span><br><span class="line"><span class="comment">//		此处不用向下转型,因为没有用到子类独有的方法</span></span><br><span class="line"><span class="comment">//		if(p1 instanceof Dog) &#123;</span></span><br><span class="line"><span class="comment">//			Dog d1 = (Dog)p1; </span></span><br><span class="line"><span class="comment">//			d1.eat();</span></span><br><span class="line"><span class="comment">//		&#125;else if(p1 instanceof Catt) &#123;</span></span><br><span class="line"><span class="comment">//			Catt c1 = (Catt)p1;</span></span><br><span class="line"><span class="comment">//			c1.eat();</span></span><br><span class="line"><span class="comment">//		&#125;else if(p1 instanceof YingWu) &#123;</span></span><br><span class="line"><span class="comment">//			YingWu y1 = (YingWu)p1;</span></span><br><span class="line"><span class="comment">//			y1.eat();</span></span><br><span class="line"><span class="comment">//		&#125;</span></span><br><span class="line">		p1.eat();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//宠物类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Pet</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"宠物吃饭"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Pet</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"狗吃饭"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"狗去游泳"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Catt</span> <span class="keyword">extends</span> <span class="title">Pet</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫吃饭"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YingWu</span> <span class="keyword">extends</span> <span class="title">Pet</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鹦鹉吃饭"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;t</span><br></pre></td></tr></table></figure>

<p>以上写法降低了Master和Dog以及Catt的耦合度，提高了软件的扩展性。</p>
<p>方法覆盖只针对实例方法，对静态方法无意义。</p>
<p>子类不能覆盖父类中私有的方法。</p>
<h3 id="super"><a href="#super" class="headerlink" title="super"></a>super</h3><p><code>super</code>表示子类的构造方法调用父类的构造方法。</p>
<p>子类的第一行默认有一个<code>super()</code>调用父类的构造方法。</p>
<p><code>this()</code>和<code>super()</code>不能在一个构造方法中共存。</p>
<p>所以在子类中的构造方法中，无论怎样，父类的构造方法都会先执行。</p>
<p><code>super()</code>的作用是初始化父类型的特征。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperTest01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Son2 s1 = <span class="keyword">new</span> Son2(<span class="number">20</span>,<span class="string">"小灰灰"</span>,<span class="string">"云南大理"</span>);</span><br><span class="line">		System.out.println(s1.getAddress()+s1.getName()+s1.getAge());		<span class="comment">//云南大理小灰灰20</span></span><br><span class="line">		Son2 s2 = <span class="keyword">new</span> Son2();</span><br><span class="line">		System.out.println(s2.getAddress()+s2.getName()+s2.getAge());		<span class="comment">//nullnull0</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Father</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Father</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();		<span class="comment">//默认有</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Father</span><span class="params">(<span class="keyword">int</span> age,String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();	<span class="comment">//默认有</span></span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Son2</span> <span class="keyword">extends</span> <span class="title">Father</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> String address;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Son2</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();	<span class="comment">//默认有</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Son2</span><span class="params">(<span class="keyword">int</span> age,String name,String address)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//age和name是私有的,只能在本类中访问,所以使用super()的方式</span></span><br><span class="line"><span class="comment">//		this.age = age;</span></span><br><span class="line"><span class="comment">//		this.name = name;</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">super</span>(age,name);	<span class="comment">//初始化父类型的特征</span></span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.address;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="super-和this-的区别"><a href="#super-和this-的区别" class="headerlink" title="super.和this.的区别"></a>super.和this.的区别</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperTest02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Vip v1 = <span class="keyword">new</span> Vip(<span class="string">"小灰灰"</span>);</span><br><span class="line">		v1.shopping();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span></span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Vip</span> <span class="keyword">extends</span> <span class="title">Customer</span></span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Vip</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Vip</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name);	<span class="comment">//初始化父类型特征之后</span></span><br><span class="line">        <span class="keyword">this</span>.name = <span class="keyword">null</span>; 	<span class="comment">//默认赋值</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shopping</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="keyword">this</span>.name);		<span class="comment">//null</span></span><br><span class="line">		System.out.println(<span class="keyword">super</span>.name);		<span class="comment">//小灰灰</span></span><br><span class="line">		System.out.println(name);			<span class="comment">//null</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>this.name</code>：当前对象的name属性。</p>
<p><code>super.name</code>：当前对象的父类型特征中的name属性。</p>
<p>父中有，子中也有，在子中访问父中的特征就用<code>super.</code>，子中的属性直接用<code>this.</code>。</p>
<p><code>super</code>不是引用。super不保存内存地址，super也不指向任何对象。</p>
<p><code>super</code>表示的的是当前对象内部的那一块父类型的特征。</p>
<p><code>super.</code>不仅可以访问属性，还可以访问已经被覆盖的父亲中的方法。</p>
<h3 id="final"><a href="#final" class="headerlink" title="final"></a>final</h3><p>常量。</p>
<p>被<code>final</code>修饰的类和方法无法被继承和覆盖。</p>
<p>被<code>final</code>修饰的引用只能指向一个对象，并且永远只能指向该对象。</p>
<p><code>static和final</code>联合修饰的变量称为”常量”,常量名建议大写。</p>
<p>常量和静态变量都是存储在方法区，在类加载时初始化。</p>
<h3 id="抽象类"><a href="#抽象类" class="headerlink" title="抽象类"></a>抽象类</h3><p><img src="/images/javaSE/image-20200818155426185.png" alt="image-20200818155426185"></p>
<p>类和类之间具有共同特征，将这些共同特征提取出来，形成的就是抽象类。</p>
<p>类本身是不存在的，所以抽象类无法创建对象。</p>
<p>抽象类也属于引用数据类型。</p>
<p>抽象类是用来被子类继承的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[修饰符列表] <span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> 类名</span>&#123;</span><br><span class="line">    类体;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="抽象方法"><a href="#抽象方法" class="headerlink" title="抽象方法"></a>抽象方法</h4><p>抽象方法表示没有实现的方法，没有方法体的方法。</p>
<p>抽象类里不一定有抽象方法，抽象方法必须在抽象类中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符列表] <span class="keyword">abstract</span> <span class="keyword">void</span> 方法名;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractTest01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//多态 父类型引用指向子类型对象</span></span><br><span class="line">		Animal a1 = <span class="keyword">new</span> Bird();	<span class="comment">//面向抽象编程	向上转型</span></span><br><span class="line">		a1.move();	<span class="comment">//鸟儿在飞翔</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="comment">//因为抽象方法被继承过来了,但是抽象方法只能在抽象类当中,所以将父类中的抽象方法进行覆盖</span></span><br><span class="line">    <span class="comment">//或者将Bird类改成抽象类</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鸟儿在飞翔"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*java语言中凡是没有方法体的方法都是抽象方法  (X);</span></span><br><span class="line"><span class="comment">错的，因为Object类中 很多方法没有方法体*/</span></span><br></pre></td></tr></table></figure>









<h3 id="接口"><a href="#接口" class="headerlink" title="接口"></a>接口</h3><p>接口也是一种引用类型，编译之后也是<code>.class</code>文件，接口是完全抽象的。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[修饰符列表] <span class="class"><span class="keyword">interface</span> 接口名</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>接口支持多继承：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceTest01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		System.out.println(MyMath.NAME);		<span class="comment">//小灰灰</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">A</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">B</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">C</span> <span class="keyword">extends</span> <span class="title">A</span>,<span class="title">B</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyMath</span></span>&#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">double</span> PI = <span class="number">3.141592</span>;</span><br><span class="line">	<span class="comment">//修饰常量的关键字也可以省略</span></span><br><span class="line">	String  NAME = <span class="string">"小灰灰"</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">	<span class="comment">//接口中都是抽象方法,所以可以省略abstract关键字</span></span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>接口中只包含两部分内容：<code>常量</code>和<code>抽象方法</code>。</p>
<p>接口中所有元素都是<code>public</code>修饰的。</p>
<h4 id="类与接口"><a href="#类与接口" class="headerlink" title="类与接口"></a>类与接口</h4><p>接口与接口之间叫<code>继承</code>，接口与类之间叫<code>实现</code>。</p>
<p>继承使用<code>extends</code>关键字来完成，实现用<code>implements</code>关键字完成。</p>
<p>接口中使用多态：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceTest02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Test m1 = <span class="keyword">new</span> MyTest();</span><br><span class="line">		System.out.println(m1.sum(<span class="number">10</span>, <span class="number">20</span>));	<span class="comment">//30</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="keyword">double</span> PI = <span class="number">3.14513</span>;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> <span class="keyword">implements</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">	<span class="comment">//此处必须对抽象方法进行重写,因为父类里的方法为抽象方法</span></span><br><span class="line">	<span class="comment">//或者在子类前加个修饰abstract</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sum</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a+b;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sub</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> a-b;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="类实现多个接口继承"><a href="#类实现多个接口继承" class="headerlink" title="类实现多个接口继承"></a>类实现多个接口继承</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceTest03</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		H h1 = <span class="keyword">new</span> L();</span><br><span class="line">		h1.m1();		<span class="comment">//m1........</span></span><br><span class="line">		<span class="comment">//接口与接口之间进行接口转型的时候,没有继承也可以转,如果保证编译正确,只要有相同的儿子就可以</span></span><br><span class="line">        <span class="comment">//简称接口转型</span></span><br><span class="line">		J j2 = (J)h1;		</span><br><span class="line">		j2.m2();		<span class="comment">//m2........</span></span><br><span class="line">		</span><br><span class="line">		J j1 = <span class="keyword">new</span> L();</span><br><span class="line">		K k1 = <span class="keyword">new</span> L();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">H</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">J</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">K</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">m3</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">L</span> <span class="keyword">implements</span> <span class="title">H</span>,<span class="title">J</span>,<span class="title">K</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"m1........"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"m2........"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">m3</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"m3........"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>继承和接口同时使用的时候,<code>extends</code>在前,<code>implement</code>在后：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceTest04</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//使用了接口</span></span><br><span class="line">		Flyable f1 = <span class="keyword">new</span> Cat();</span><br><span class="line">		f1.fly();		<span class="comment">//猫会飞侠</span></span><br><span class="line">		Flyable f2 = <span class="keyword">new</span> Dog();</span><br><span class="line">		f2.fly();			<span class="comment">//我是一只会飞的狗</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		Animal a1 = <span class="keyword">new</span> Dog();</span><br><span class="line">		<span class="keyword">if</span>(a1 <span class="keyword">instanceof</span> Dog) &#123;</span><br><span class="line">			Dog d1 = (Dog)a1;</span><br><span class="line">			d1.swim();	<span class="comment">//狗刨</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//动物类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Flyable</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//猫类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">Flyable</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫会飞侠"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span> <span class="keyword">implements</span> <span class="title">Flyable</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"我是一只会飞的狗"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">swim</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"狗刨"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="接口在开发中的作用"><a href="#接口在开发中的作用" class="headerlink" title="接口在开发中的作用"></a>接口在开发中的作用</h4><p>接口在开发中的作用类似于多态。宗旨在面向抽象编程。</p>
<p>接口类似于插槽，扩展性好，可插拔。</p>
<p> 面向接口编程，可以降低程序的耦合度，提高程序的扩展性。相当于多态的作用。</p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InterfaceTest05</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Menu m1 = <span class="keyword">new</span> ChinaCook();		</span><br><span class="line">		Customer c1 = <span class="keyword">new</span> Customer(m1);</span><br><span class="line">		c1.order();			<span class="comment">//中国厨师做的西红柿炒鸡蛋  中国厨师做的番茄牛肉</span></span><br><span class="line">		Menu m2 = <span class="keyword">new</span> American();</span><br><span class="line">		Customer c2 = <span class="keyword">new</span> Customer(m2);</span><br><span class="line">		c2.order();			<span class="comment">//美国厨师做西红柿炒鸡蛋  美国厨师做番茄牛肉</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//顾客类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Menu m1;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Menu m1)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.m1 = m1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setM1</span><span class="params">(Menu m1)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.m1 = m1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> Menu <span class="title">getM1</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> m1;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">order</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		m1.xihongshichaodan();</span><br><span class="line">		m1.fanqianniurou();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//中国厨师类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ChinaCook</span> <span class="keyword">implements</span> <span class="title">Menu</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xihongshichaodan</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"中国厨师做的西红柿炒鸡蛋"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fanqianniurou</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"中国厨师做的番茄牛肉"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//美国厨师类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">American</span> <span class="keyword">implements</span> <span class="title">Menu</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">xihongshichaodan</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"美国厨师做西红柿炒鸡蛋"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fanqianniurou</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"美国厨师做番茄牛肉"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//菜单接口类</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Menu</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">xihongshichaodan</span><span class="params">()</span></span>;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">fanqianniurou</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以上思想为OCP开发思想，降低程序的耦合度。</p>
<p>任一个接口都有调用者和实现者，接口可以将调用者和实现者解耦合，调用者面向接口调用，实现者面向接口实现。</p>
<h4 id="接口和抽象类的区别"><a href="#接口和抽象类的区别" class="headerlink" title="接口和抽象类的区别"></a>接口和抽象类的区别</h4><ul>
<li>接口类是半抽象的。</li>
<li>接口是完全抽象的。</li>
<li>抽象类中有构造方法。</li>
<li>接口类中没有构造方法。</li>
<li>接口和接口之间支持多继承。</li>
<li>类和类之间只能支持单继承。</li>
<li>一个类可以实现多个接口。</li>
<li>一个抽类只能继承一个抽象类。</li>
</ul>
<p>类型与类型之间的联系：继承 (is a)、关联(has a)、实现(like a)。</p>
<h3 id="包和import"><a href="#包和import" class="headerlink" title="包和import"></a>包和import</h3><p>两个java类，不再同一个包中，使用<code>import</code>来引入。</p>
<p><code>import</code>用来导入需要的类。</p>
<p>jdk中的lang包下的类不需要使用import导入，但是其子目录需要导入。比如System、String等sun公司写好的类。</p>
<h3 id="访问控制权限"><a href="#访问控制权限" class="headerlink" title="访问控制权限"></a>访问控制权限</h3><p>访问控制权限有四个：</p>
<ul>
<li>private：私有的，只能在本类中访问。</li>
<li>protected：受保护的。只供子类访问。</li>
<li>public：公开的，在任何位置都能访问。</li>
</ul>
<table>
<thead>
<tr>
<th align="center">访问控制修饰符</th>
<th align="center">本类</th>
<th align="center">同包</th>
<th align="center">子类</th>
<th align="center">任意位置</th>
</tr>
</thead>
<tbody><tr>
<td align="center">public</td>
<td align="center">可以</td>
<td align="center">可以</td>
<td align="center">可以</td>
<td align="center">可以</td>
</tr>
<tr>
<td align="center">protected</td>
<td align="center">可以</td>
<td align="center">可以</td>
<td align="center">可以</td>
<td align="center">不行</td>
</tr>
<tr>
<td align="center">默认</td>
<td align="center">可以</td>
<td align="center">可以</td>
<td align="center">不行</td>
<td align="center">不行</td>
</tr>
<tr>
<td align="center">private</td>
<td align="center">可以</td>
<td align="center">不行</td>
<td align="center">不行</td>
<td align="center">不行</td>
</tr>
</tbody></table>
<p>关系：public &gt; protected &gt; 默认 &gt; private 。</p>
<p>访问控制权限可以修饰：属性(4个都能用)、方法(4个都能用)、类(public和默认)、接口(public和默认)…….</p>
<h3 id="Object类的方法"><a href="#Object类的方法" class="headerlink" title="Object类的方法"></a>Object类的方法</h3><h4 id="equals-方法"><a href="#equals-方法" class="headerlink" title="equals()方法"></a>equals()方法</h4><p><strong>在java中，一般都需要重写toString()方法和equal()方法</strong>。</p>
<p>equals()一般比较的是内存地址，所以需要重写。</p>
<p>重写equal()方法的案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重写equal</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Mytime m1 = <span class="keyword">new</span> Mytime(<span class="number">2000</span>,<span class="number">04</span>,<span class="number">06</span>);</span><br><span class="line">		Mytime m2 = <span class="keyword">new</span> Mytime(<span class="number">2000</span>,<span class="number">04</span>,<span class="number">06</span>);</span><br><span class="line">		System.out.println(m1.equals(m1));    <span class="comment">//true</span></span><br><span class="line">		System.out.println(m1.equals(m2));		<span class="comment">//true</span></span><br><span class="line">		Mytime m3 = <span class="keyword">new</span> Mytime(<span class="number">1999</span>,<span class="number">04</span>,<span class="number">06</span>);</span><br><span class="line">		System.out.println(m3.equals(m2));		<span class="comment">//false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mytime</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> year;</span><br><span class="line">	<span class="keyword">int</span> month;</span><br><span class="line">	<span class="keyword">int</span> day;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Mytime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Mytime</span><span class="params">(<span class="keyword">int</span> year,<span class="keyword">int</span> month,<span class="keyword">int</span> day)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.year = year;</span><br><span class="line">		<span class="keyword">this</span>.month = month;</span><br><span class="line">		<span class="keyword">this</span>.day = day;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span> == obj) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="keyword">null</span> || !(obj <span class="keyword">instanceof</span> Mytime)) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">int</span> year1 = <span class="keyword">this</span>.year;</span><br><span class="line">		<span class="keyword">int</span> month1 = <span class="keyword">this</span>.month;</span><br><span class="line">		<span class="keyword">int</span> day1 = <span class="keyword">this</span>.day;</span><br><span class="line">		Mytime m1 = (Mytime)obj;</span><br><span class="line">		<span class="keyword">int</span> year2 = m1.year;</span><br><span class="line">		<span class="keyword">int</span> month2 = m1.month;</span><br><span class="line">		<span class="keyword">int</span> day2 = m1.day;</span><br><span class="line">		<span class="keyword">return</span> year1 == year2 &amp;&amp; month1 == month2 &amp;&amp; day1 == day2;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p><strong>字符串与字符串之间判断需要用equals来判断，不能用==来判断，因为String是一个类，==只能判断它们的内存地址</strong>。</p>
<p>String类的equals()和toString()已经被sun公司重写好了，直接调用即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test02</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;	</span><br><span class="line">		String s1 = <span class="keyword">new</span> String(<span class="string">"小灰灰"</span>);</span><br><span class="line">		String s2 = <span class="keyword">new</span> String(<span class="string">"小灰灰"</span>);</span><br><span class="line">		<span class="comment">//String类重写了toString()方法和equals方法</span></span><br><span class="line">		System.out.println(s1.toString());		<span class="comment">//小灰灰</span></span><br><span class="line">		System.out.println(s2.toString());		<span class="comment">//小灰灰</span></span><br><span class="line">		System.out.println(s1 == s2);		<span class="comment">//false</span></span><br><span class="line">		System.out.println(s1.equals(s2));		<span class="comment">//true</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>结论：判断基本数据类型是都相等使用<code>==</code>，判断引用数据类型是否相等使用<code>equals</code>。</p>
<p><strong>当遇到本类中属性属于引用数据类型的时候，需要重写equals</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test04</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		User u1 = <span class="keyword">new</span> User(<span class="string">"小灰灰"</span>,<span class="keyword">new</span> Address(<span class="string">"云南省"</span>,<span class="string">"昆明市"</span>,<span class="string">"春城街道"</span>));</span><br><span class="line">		User u2 = <span class="keyword">new</span> User(<span class="string">"小灰灰"</span>,<span class="keyword">new</span> Address(<span class="string">"云南省"</span>,<span class="string">"昆明市"</span>,<span class="string">"春城街道"</span>));</span><br><span class="line">		User u3 = <span class="keyword">new</span> User(<span class="string">"小灰灰"</span>,<span class="keyword">new</span> Address(<span class="string">"云南省"</span>,<span class="string">"安宁市"</span>,<span class="string">"安宁街道"</span>));</span><br><span class="line">		System.out.println(u1.equals(u2));		<span class="comment">//true</span></span><br><span class="line">		System.out.println(u1.equals(u3)); 		<span class="comment">//false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">	String name;</span><br><span class="line">	<span class="comment">//当遇到属性为引用类型的时候,也需要为子类重写equals</span></span><br><span class="line">	Address address;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name,Address address)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.address = address;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="keyword">null</span> || !(obj <span class="keyword">instanceof</span> User)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span> == obj) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		User u = (User)obj;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.name.equals(u.name) &amp;&amp; <span class="keyword">this</span>.address.equals(u.address);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Address</span></span>&#123;</span><br><span class="line">	String provice;</span><br><span class="line">	String city;</span><br><span class="line">	String street;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Address</span><span class="params">(String provice,String city,String street)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.provice = provice;</span><br><span class="line">		<span class="keyword">this</span>.city = city;</span><br><span class="line">		<span class="keyword">this</span>.street = street;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(obj == <span class="keyword">null</span> || !(obj <span class="keyword">instanceof</span> Address)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span> == obj) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		Address a = (Address)obj;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.city.equals(a.city) &amp;&amp; <span class="keyword">this</span>.provice.equals(a.provice) &amp;&amp; <span class="keyword">this</span>.street.equals(a.street);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="finalize-方法"><a href="#finalize-方法" class="headerlink" title="finalize()方法"></a>finalize()方法</h4><p><strong>finalize()方法</strong>是为程序员准备的一个时机——垃圾销毁时机，此方法只负责重写，不需要手动调用。</p>
<p>源代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable </span>&#123; &#125;</span><br></pre></td></tr></table></figure>









<h3 id="匿名内部类"><a href="#匿名内部类" class="headerlink" title="匿名内部类"></a>匿名内部类</h3><p>一般代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test06</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Mymath m1 = <span class="keyword">new</span> Mymath();</span><br><span class="line">		m1.add(<span class="keyword">new</span> ComputeInt(), <span class="number">10</span>, <span class="number">20</span>);		<span class="comment">//30</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//接口类</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Compute</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现接口类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ComputeInt</span> <span class="keyword">implements</span> <span class="title">Compute</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> x+y;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//数学类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mymath</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Compute c,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> result = c.add(x, y);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>改造为匿名内部类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> AnonymousInternalClass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Mymath m = <span class="keyword">new</span> Mymath();</span><br><span class="line">		<span class="comment">//匿名内部类</span></span><br><span class="line">		m.add(<span class="keyword">new</span> Compute() &#123;</span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> x+y;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;, <span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//接口类</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Compute</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//实现接口类</span></span><br><span class="line"><span class="comment">//class ComputeInt implements Compute&#123;</span></span><br><span class="line"><span class="comment">//	public int add(int x,int y) &#123;</span></span><br><span class="line"><span class="comment">//		return x+y;</span></span><br><span class="line"><span class="comment">//	&#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//数学类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mymath</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">(Compute c,<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> result = c.add(x, y);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>匿名内部类也就是没有名字的内部类，</p>
<p>正因为没有名字，所以匿名内部类只能使用一次，它通常用来简化代码编写，</p>
<p>但使用匿名内部类还有个前提条件：必须继承一个父类或实现一个接口。</p>
<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><p>数组当中可以存储<code>基本数据类型</code>的数据，也可以存储<code>引用数据类型</code>的数据。</p>
<p>数组是引用数据类型，数组对象是存储在堆内存当中。</p>
<p>数组存对象存的是对象的<strong>引用(内存地址)</strong>，然后地址指向对象，并不是把整个对象都放进去。</p>
<p>数组一旦创建，长度不可变。</p>
<p>数组在内存中，每个元素都是有规则的排列着，每个元素的内存地址是连续的。一个数组的内存地址就是下标为0的元素的内存地址。</p>
<p>数组的内存图：</p>
<p><img src="/images/javaSE/image-20200822214448936.png" alt="image-20200822214448936"></p>
<h4 id="数组的优点和缺点"><a href="#数组的优点和缺点" class="headerlink" title="数组的优点和缺点"></a>数组的优点和缺点</h4><p><strong>优点</strong>：查询/查找/检索某个下标上的元素效率极高。查询效率极高。</p>
<p>检索效率高的原因：</p>
<ul>
<li>每一个元素的内存地址在空间上存储是连续的。</li>
<li>每一个数据元素相同，占用的空间大小都一样。</li>
<li>知道一个数据元素的地址，知道每一个数据元素占用的空间大小，又知道下标，就可以计算出某一个下标上元素的内存地址。</li>
<li>直接通过内存地址定位元素，所以数组的检索效率是最高的。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>因为数组的每个元素内存地址都是连续的，所以在数组中增加元素和删除元素的时候，效率极低，会涉及到后面的元素都向前或向后的操作。</li>
<li>很难开辟一块很大的连续的内存空间。</li>
</ul>
<h4 id="一维数组"><a href="#一维数组" class="headerlink" title="一维数组"></a>一维数组</h4><p>语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array1;</span><br><span class="line"><span class="keyword">double</span>[] array2;</span><br><span class="line"><span class="keyword">boolean</span>[] array3;</span><br><span class="line">String[] array4;</span><br><span class="line">Object[] array5;</span><br></pre></td></tr></table></figure>



<p><strong>初始化一维数组</strong>：</p>
<ul>
<li>静态初始化： </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = &#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">2300</span>,<span class="number">1500</span>&#125;;</span><br></pre></td></tr></table></figure>



<ul>
<li>动态初始化：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">5</span>];	<span class="comment">//5为元素个数</span></span><br><span class="line">Object[] obj = <span class="keyword">new</span> Object[<span class="number">5</span>];		<span class="comment">//Object类型数组可放任意引用数据类型的地址</span></span><br></pre></td></tr></table></figure>



<p><strong>数组中存储引用数据类型</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//		动态初始化</span></span><br><span class="line"><span class="comment">//		Animal[] a = new Animal[2];</span></span><br><span class="line"><span class="comment">//		a[0] = new Cat();</span></span><br><span class="line"><span class="comment">//		a[1] = new Bird();</span></span><br><span class="line">        </span><br><span class="line">		<span class="comment">//静态初始化</span></span><br><span class="line">		Animal[] a = &#123;<span class="keyword">new</span> Cat(),<span class="keyword">new</span> Bird()&#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">			a[i].move();<span class="comment">//猫在走猫步,鸟儿在飞翔</span></span><br><span class="line">			<span class="comment">//向下转型</span></span><br><span class="line">			<span class="keyword">if</span>(a[i] <span class="keyword">instanceof</span> Cat) &#123;</span><br><span class="line">				Cat c1 = (Cat)a[i];</span><br><span class="line">				c1.catchs();		<span class="comment">//鸟儿在飞翔</span></span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (a[i] <span class="keyword">instanceof</span> Bird) &#123;</span><br><span class="line">				Bird b1 = (Bird)a[i];</span><br><span class="line">				b1.singing();		<span class="comment">//鸟儿在歌唱</span></span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"动物在移动"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鸟儿在飞翔"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">singing</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"鸟儿在歌唱"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫在走猫步"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"猫在吃鱼"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p><strong>一维数组的扩容</strong>：</p>
<p>java中对数组的扩容是：建一个大容量数组，将小容量数组中的数据挨个拷贝到大数组中。数组扩容效率较低。</p>
<p><strong>数组拷贝</strong>：</p>
<p>使用System类下的arrayCopy()方法：</p>
<p>格式：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title">arraycopy</span><span class="params">(Object src,  <span class="keyword">int</span>  srcPos,Object dest, <span class="keyword">int</span> destPos, <span class="keyword">int</span> length)</span></span>;</span><br></pre></td></tr></table></figure>

<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest03</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//拷贝源</span></span><br><span class="line">		<span class="keyword">int</span>[] src = &#123;<span class="number">1</span>,<span class="number">51</span>,<span class="number">40</span>,<span class="number">23</span>,<span class="number">41</span>,<span class="number">15</span>,<span class="number">66</span>&#125;;</span><br><span class="line">		<span class="comment">//目标</span></span><br><span class="line">		<span class="keyword">int</span>[] des = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">20</span>];</span><br><span class="line">		System.arraycopy(src, <span class="number">2</span>, des, <span class="number">2</span>, <span class="number">5</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; des.length; i++) &#123;</span><br><span class="line">			System.out.print(des[i]+<span class="string">" "</span>);		<span class="comment">//0 0 40 23 41 15 66 0 0 0 0 0 0 0 0 0 0 0 0 0 </span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//引用数据类型拷贝</span></span><br><span class="line">		String[] s1 = &#123;<span class="string">"hello java"</span>,<span class="string">"hello vue"</span>,<span class="string">"hello c"</span>&#125;;</span><br><span class="line">		String[] s2 = <span class="keyword">new</span> String[<span class="number">20</span>];</span><br><span class="line">		System.arraycopy(s1, <span class="number">0</span>, s2, <span class="number">0</span>, s1.length);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s2.length; i++) &#123;</span><br><span class="line">			System.out.print(s2[i] + <span class="string">" "</span>);	<span class="comment">//hello java hello vue hello c null null null null null null null null null null null null null null null null null </span></span><br><span class="line">		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line">		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="二维数组"><a href="#二维数组" class="headerlink" title="二维数组"></a>二维数组</h4><p>二维数组是一个特殊的一维数组，三维数组是一个特殊的二维数组，以此类推等等…</p>
<p><strong>语法</strong>：</p>
<ul>
<li>静态初始化：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] array = &#123;&#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>&#125;,&#123;<span class="number">12</span>,<span class="number">30</span>,<span class="number">10</span>&#125;,&#123;<span class="number">20</span>,<span class="number">84</span>,<span class="number">46</span>&#125;&#125;;</span><br></pre></td></tr></table></figure>



<ul>
<li>动态初始化：</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span>[][] array = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">3</span>][<span class="number">4</span>];</span><br><span class="line">Object[][] obj = <span class="keyword">new</span> Object[<span class="number">3</span>][<span class="number">4</span>];	<span class="comment">//Object类型数组可放任意引用数据类型的地址</span></span><br></pre></td></tr></table></figure>





<p><strong>遍历二维数组</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest04</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[][] array = &#123;&#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">300</span>&#125;,&#123;<span class="number">12</span>,<span class="number">30</span>,<span class="number">10</span>&#125;,&#123;<span class="number">20</span>,<span class="number">84</span>,<span class="number">46</span>&#125;&#125;;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; array[i].length; j++) &#123;</span><br><span class="line">				System.out.print(array[i][j]+<span class="string">" "</span>);		<span class="comment">//100 200 300 12 30 10 20 84 46</span></span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	<span class="comment">//取出二维数组中的第一个一维数组</span></span><br><span class="line">		<span class="keyword">int</span>[] a1 = array[<span class="number">0</span>];</span><br><span class="line">		System.out.println(a1.length);	<span class="comment">//3</span></span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p>酒店管理系统：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest06</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//房间</span></span><br><span class="line">		Room f101 = <span class="keyword">new</span> Room(<span class="number">101</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room f102 = <span class="keyword">new</span> Room(<span class="number">102</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room f103 = <span class="keyword">new</span> Room(<span class="number">103</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room f104 = <span class="keyword">new</span> Room(<span class="number">104</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room f105 = <span class="keyword">new</span> Room(<span class="number">105</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room s201 = <span class="keyword">new</span> Room(<span class="number">201</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room s202 = <span class="keyword">new</span> Room(<span class="number">202</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room s203 = <span class="keyword">new</span> Room(<span class="number">203</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room s204 = <span class="keyword">new</span> Room(<span class="number">204</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room s205 = <span class="keyword">new</span> Room(<span class="number">205</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room t301 = <span class="keyword">new</span> Room(<span class="number">301</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room t302 = <span class="keyword">new</span> Room(<span class="number">302</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room t303 = <span class="keyword">new</span> Room(<span class="number">303</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room t304 = <span class="keyword">new</span> Room(<span class="number">304</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room t305 = <span class="keyword">new</span> Room(<span class="number">305</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">		Room[][] rooms =&#123;&#123;f101,f102,f103,f104,f105&#125;,&#123;s201,s202,s203,s204,s205&#125;,&#123;t301,t302,t303,t304,t305&#125;&#125;;</span><br><span class="line">		User admin = <span class="keyword">new</span> User(rooms);</span><br><span class="line">		admin.status();</span><br><span class="line">		admin.booking(f101);</span><br><span class="line">		admin.status();</span><br><span class="line">		admin.retreat(f101);</span><br><span class="line">		admin.status();</span><br><span class="line">		admin.booking(t305);</span><br><span class="line">		admin.status(f101);</span><br><span class="line">		System.out.println(f101.equals(f103));		<span class="comment">//false</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Room[][] rooms;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(Room[][] rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//订房</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">booking</span><span class="params">(Room rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(rooms.getFree() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"该房间已经被其它客人预定了"</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		rooms.setFree(<span class="keyword">false</span>);</span><br><span class="line">		System.out.println(<span class="string">"房间"</span>+rooms.getId()+<span class="string">"预定成功"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">retreat</span><span class="params">(Room rooms)</span> </span>&#123;</span><br><span class="line">		rooms.setFree(<span class="keyword">true</span>);</span><br><span class="line">		System.out.println(<span class="string">"房间"</span>+rooms.getId()+<span class="string">"退房成功"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//查看所有房间状态</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"所有房间状态:"</span>);</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.rooms.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.rooms[i].length; j++) &#123;</span><br><span class="line">				System.out.println(<span class="string">"["</span>+<span class="string">"房间号:"</span>+<span class="keyword">this</span>.rooms[i][j].getId()+<span class="string">" "</span>+<span class="string">"房间类型:"</span>+<span class="keyword">this</span>.rooms[i][j].getType()+<span class="string">" "</span>+<span class="string">"是否空闲:"</span>+(<span class="keyword">this</span>.rooms[i][j].getFree()?<span class="string">"空闲"</span>:<span class="string">"占用"</span>)+<span class="string">"]"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//查询单个房间</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">status</span><span class="params">(Room room)</span> </span>&#123;</span><br><span class="line">		System.out.println(room);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;		<span class="comment">//房间编号</span></span><br><span class="line">	<span class="keyword">private</span> String type;		<span class="comment">//房间类型</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> free;		<span class="comment">//房间是否空闲</span></span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Room</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Room</span><span class="params">(<span class="keyword">int</span> id,String type,<span class="keyword">boolean</span> free)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.type = type;</span><br><span class="line">		<span class="keyword">this</span>.free = free;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> type;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setType</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.type = type;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getFree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> free;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFree</span><span class="params">(<span class="keyword">boolean</span> free)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.free = free;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"["</span>+<span class="string">"房间号:"</span>+<span class="keyword">this</span>.getId()+<span class="string">" "</span>+<span class="string">"房间类型:"</span>+<span class="keyword">this</span>.getType()+<span class="string">" "</span>+<span class="string">"是否空闲:"</span>+(<span class="keyword">this</span>.getFree()?<span class="string">"空闲"</span>:<span class="string">"占用"</span>)+<span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span>((obj == <span class="keyword">null</span>) || !(obj <span class="keyword">instanceof</span> Room)) <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span>(<span class="keyword">this</span> == obj) <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		Room room = (Room)obj;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.id == room.id;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hotel</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Room[][] rooms;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Hotel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Hotel</span><span class="params">(Room[][] rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRooms</span><span class="params">(Room[][] rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> Room[][] getRooms() &#123;</span><br><span class="line">		<span class="keyword">return</span> rooms;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>修改版酒店管理系统</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest07</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Hotel hotel = <span class="keyword">new</span> Hotel();</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"欢迎使用酒店管理系统,请输入编号来实现对用功能:[1]查看房间列表。[2]订房。[3]退房。[4]查看空闲房间。[0]退出系统"</span>);</span><br><span class="line">			System.out.println(<span class="string">"请输入对应功能编号选择功能:"</span>);</span><br><span class="line">			Scanner s = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">			<span class="keyword">int</span> i = s.nextInt();</span><br><span class="line">			<span class="keyword">if</span>(i==<span class="number">1</span>) &#123;</span><br><span class="line">				hotel.print();</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">2</span>) &#123;</span><br><span class="line">				System.out.println(<span class="string">"请输入要预定的房间号"</span>);</span><br><span class="line">				Scanner s2 = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">				<span class="keyword">int</span> res = s2.nextInt();</span><br><span class="line">				hotel.booking(res);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">3</span>) &#123;</span><br><span class="line">				System.out.println(<span class="string">"请输入要退的房间"</span>);</span><br><span class="line">				Scanner s3 = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">				<span class="keyword">int</span> res = s3.nextInt();</span><br><span class="line">				hotel.retreat(res);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">4</span>) &#123;</span><br><span class="line">				hotel.seeFree();</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i==<span class="number">0</span>) &#123;</span><br><span class="line">				<span class="keyword">return</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">"请输入正确的序号"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//房间类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Room</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">	<span class="keyword">private</span> String type;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> isFree;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Room</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Room</span><span class="params">(<span class="keyword">int</span> id,String type,<span class="keyword">boolean</span> isFree)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">		<span class="keyword">this</span>.type = type;</span><br><span class="line">		<span class="keyword">this</span>.isFree = isFree;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//setter和getter方法</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.id = id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> id;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFree</span><span class="params">(<span class="keyword">boolean</span> isFree)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.isFree = isFree;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getFree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">this</span>.isFree;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setType</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.type = type;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getType</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> type;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"["</span>+<span class="string">"房间号:"</span>+<span class="keyword">this</span>.id+<span class="string">",房间类型:"</span>+<span class="keyword">this</span>.type+<span class="string">",是否空闲:"</span>+(<span class="keyword">this</span>.isFree?<span class="string">"空闲"</span>:<span class="string">"占用"</span>)+<span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//酒店类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Hotel</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Room[][] rooms;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//new对象的时候房间就创建好</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Hotel</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = <span class="keyword">new</span> Room[<span class="number">3</span>][<span class="number">5</span>];</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span>(i == <span class="number">0</span>) &#123;</span><br><span class="line">					rooms[i][j] = <span class="keyword">new</span> Room((i+<span class="number">1</span>)*<span class="number">100</span>+j+<span class="number">1</span>,<span class="string">"大床房"</span>,<span class="keyword">true</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span>) &#123;</span><br><span class="line">					rooms[i][j] = <span class="keyword">new</span> Room((i+<span class="number">1</span>)*<span class="number">100</span>+j+<span class="number">1</span>,<span class="string">"标间"</span>,<span class="keyword">true</span>);</span><br><span class="line">				&#125;<span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">2</span>) &#123;</span><br><span class="line">					rooms[i][j] = <span class="keyword">new</span> Room((i+<span class="number">1</span>)*<span class="number">100</span>+j+<span class="number">1</span>,<span class="string">"单人房"</span>,<span class="keyword">true</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Hotel</span><span class="params">(Room[][] rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRooms</span><span class="params">(Room[][] rooms)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms = rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> Room[][] getRooms() &#123;</span><br><span class="line">		<span class="keyword">return</span> rooms;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//打印所有房间</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rooms.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; rooms[i].length; j++) &#123;</span><br><span class="line">				System.out.print(rooms[i][j]);</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//预定房间,交给酒店前台小姐姐来预定</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">booking</span><span class="params">(<span class="keyword">int</span> roomId)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span>.rooms[roomId / <span class="number">100</span> - <span class="number">1</span>][(roomId % <span class="number">100</span>)-<span class="number">1</span>].getFree() == <span class="keyword">false</span>) &#123;</span><br><span class="line">			System.out.println(<span class="string">"该房间已经被预定了,您重新挑选一间没有被预定过的"</span>);</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">this</span>.rooms[roomId / <span class="number">100</span> -<span class="number">1</span>][(roomId % <span class="number">100</span>)-<span class="number">1</span>].setFree(<span class="keyword">false</span>);</span><br><span class="line">		System.out.println(<span class="string">"预定成功"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//退房</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">retreat</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.rooms[(id-<span class="number">1</span>/<span class="number">100</span>)][(id%<span class="number">100</span>)-<span class="number">1</span>].setFree(<span class="keyword">true</span>);</span><br><span class="line">		System.out.println(id+<span class="string">"房间退房成功"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//查看剩余房间</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeFree</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.rooms.length; i++) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="keyword">this</span>.rooms[i].length; j++) &#123;</span><br><span class="line">				<span class="keyword">if</span> (<span class="keyword">this</span>.rooms[i][j].getFree() == <span class="keyword">true</span>) &#123;</span><br><span class="line">					System.out.print(<span class="keyword">this</span>.rooms[i][j]);</span><br><span class="line">					System.out.println();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="冒泡排序算法"><a href="#冒泡排序算法" class="headerlink" title="冒泡排序算法"></a>冒泡排序算法</h4><p>使用冒泡排序法对数组进行从大到小排序：</p>
<p>比较的数据：2,8,4,21,3,16,18</p>
<p>第一次循环：</p>
<ul>
<li><p>2,8,4,21,3,16,18 (第一次比较，不交换)</p>
</li>
<li><p>2,4,8,21,3,16,18（第二次比较，交换）</p>
</li>
<li><p>2,4,8,21,3,16,18 （第三次比较，不交换）</p>
</li>
<li><p>2,4,8,3,21,16,78  (第四次比较，交换)</p>
</li>
<li><p>2,4,8,3,16,21,78（第五次比较，交换）</p>
</li>
<li><p>2,4,8,3,16,21,78 （第六次比较，不交换）</p>
</li>
<li><p>最终冒泡最大的数字:78</p>
</li>
</ul>
<p>第二次循环：</p>
<ul>
<li>2,4,8,3,16,21 （第一次比较，不交换）</li>
<li>2,4,8,3,16,21  （第二次比较，不交换）</li>
<li>2,4,3,8,16,21  （第三次比较，交换）</li>
<li>2,4,3,8,16,21  （第四次比较，不交换）</li>
<li>2,4,3,8,16,21  （第五次比较，不交换）</li>
<li>最终获得最大冒泡数字：21</li>
</ul>
<p>第三次循环：</p>
<ul>
<li>2,4,3,8,16  （第一次比较，不交换）</li>
<li>2,3,4,8,16  （第二次比较，交换）</li>
<li>2,3,4,8,16  （第三次比较，不交换）</li>
<li>2,3,4,8,16 （第四次比较，不交换）</li>
<li>最终获得最大冒泡数字:16</li>
</ul>
<p>第四次循环：</p>
<ul>
<li>2,3,4,8  （第一次比较，不交换）</li>
<li>2,3,4,8  （第二次比较，不交换）</li>
<li>2,3,4,8  （第三次比较，不交换）</li>
<li>最终获得最大冒泡数字：8</li>
</ul>
<p>第五次循环：</p>
<ul>
<li>2,3,4  （第一次比较，不交换）</li>
<li>2,3,4  （第二次比较，不交换）</li>
<li>最终获得最大冒泡数字：4</li>
</ul>
<p>第六次循环：</p>
<ul>
<li>2,3 （第一次比较，不交换）</li>
<li>最终获得最大冒泡数字：3</li>
</ul>
<p>代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="comment">//冒泡排序算法</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest08</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">2</span>,<span class="number">8</span>,<span class="number">14</span>,<span class="number">21</span>,<span class="number">3</span>,<span class="number">16</span>,<span class="number">18</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = arr.length-<span class="number">1</span>; i &gt; <span class="number">0</span>; i--) &#123;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++) &#123;</span><br><span class="line">				count+=<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span>(arr[j]&gt;arr[j+<span class="number">1</span>]) &#123;</span><br><span class="line">					<span class="comment">//交换位置</span></span><br><span class="line">					<span class="keyword">int</span> temp;		<span class="comment">//临时变量,用来放东西</span></span><br><span class="line">					temp = arr[j];</span><br><span class="line">					arr[j] = arr[j+<span class="number">1</span>];</span><br><span class="line">					arr[j+<span class="number">1</span>] = temp;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"比较次数:"</span>+count);		<span class="comment">//21次</span></span><br><span class="line">		 </span><br><span class="line">		<span class="comment">//输出结果</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">			System.out.print(arr[i]+<span class="string">" "</span>);		<span class="comment">//2 3 8 14 16 18 21 </span></span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="选择排序法"><a href="#选择排序法" class="headerlink" title="选择排序法"></a>选择排序法</h4><p>选择排序比冒泡排序的效率要高的多，每循环一次，找出最小的元素，然后与最前面的元素交换位置。</p>
<p>数组：5,1,4,3,9</p>
<ul>
<li>第一次循环：<ul>
<li>参与比较的数据：5，1，4，3，9</li>
<li>结果：1，5，4，3，9</li>
</ul>
</li>
<li>第二次循环：<ul>
<li>参与比较的数据：5，4，3，9</li>
<li>结果：3，4，5，9</li>
</ul>
</li>
<li>第三次循环：<ul>
<li>参与比较的数据：4，5，9</li>
<li>结果：4，5，9</li>
</ul>
</li>
<li>第四次循环：<ul>
<li>参与比较的数据：5，9</li>
<li>结果：5，9</li>
</ul>
</li>
</ul>
<p>实现代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest09</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">2</span>,<span class="number">4</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">3</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//只比较arr.length-1次</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length-<span class="number">1</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">int</span> min = i;</span><br><span class="line">			<span class="keyword">for</span> (<span class="keyword">int</span> j = i+<span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">				count+=<span class="number">1</span>;</span><br><span class="line">				<span class="keyword">if</span>(arr[j] &lt; arr[min]) &#123;</span><br><span class="line">					min = j;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(min != i) &#123;</span><br><span class="line">				<span class="comment">//则最初的猜测是错的,进行交换位置</span></span><br><span class="line">				<span class="keyword">int</span> temp;</span><br><span class="line">				<span class="comment">//arr[i]是最前面的元素,arr[min]是经过判断后最小的元素</span></span><br><span class="line">				temp = arr[i];</span><br><span class="line">				arr[i] = arr[min];</span><br><span class="line">				arr[min] = temp;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"比较的次数是:"</span>+count);  	<span class="comment">//比较的次数是:10</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123; </span><br><span class="line">			System.out.print(arr[i]+<span class="string">" "</span>);		<span class="comment">//1 2 3 4 6 </span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>冒泡排序和选择排序的比较次数不变，但是选择排序的交换次数减少了。</p>
<h4 id="二分法查找算法-折半查找"><a href="#二分法查找算法-折半查找" class="headerlink" title="二分法查找算法(折半查找)"></a>二分法查找算法(折半查找)</h4><p>二分法查找算法是基于数组已经拍好序了。</p>
<p>二分法查找的终止条件：一直折半，直到中间的那个元素恰好是被查找的元素。</p>
<p>实现代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Array;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTest10</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">100</span>,<span class="number">200</span>,<span class="number">312</span>,<span class="number">380</span>,<span class="number">420</span>,<span class="number">430</span>,<span class="number">600</span>,<span class="number">800</span>,<span class="number">1500</span>&#125;;</span><br><span class="line">		</span><br><span class="line">			</span><br><span class="line">		<span class="keyword">int</span> index = binarySearch(arr,<span class="number">800</span>);			<span class="comment">//7</span></span><br><span class="line">		System.out.println(index);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] arr, <span class="keyword">int</span> dest)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//开始下标</span></span><br><span class="line">		<span class="keyword">int</span> begin = <span class="number">0</span>;</span><br><span class="line">		<span class="comment">//结束下标</span></span><br><span class="line">		<span class="keyword">int</span> end = arr.length-<span class="number">1</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//开始元素的下标小于结束元素的下标的时候,循环就会继续</span></span><br><span class="line">		<span class="keyword">while</span>(begin &lt;= end) &#123;</span><br><span class="line">			<span class="keyword">int</span> mid = (begin + end)/<span class="number">2</span>;</span><br><span class="line">			<span class="comment">//如果相等则直接输出</span></span><br><span class="line">			<span class="keyword">if</span>(arr[mid] == dest) &#123;</span><br><span class="line">				<span class="keyword">return</span> mid;</span><br><span class="line">				<span class="comment">//如果目标值大于中间值</span></span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span> (arr[mid] &lt; dest) &#123;</span><br><span class="line">				begin = mid+<span class="number">1</span>;</span><br><span class="line">				<span class="comment">//目标值小于中间值</span></span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				end = mid-<span class="number">1</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><p>String表示字符串类型，属于引用数据类型，每一个字符串都是一个String对象，在java中规定，字符串自创建开始是不可变的，创建起来的一个个字符串对象都是直接存储在<strong>方法区的字符串常量池中</strong>。 </p>
<p>但是通过语法<code>String s3 = new String(&quot;xy&quot;)</code>是在堆中开辟内存的，但是堆中的对象存储的并不是字符串，而是字符串所在的地址。</p>
<p><img src="/images/javaSE/image-20200826153345483.png" alt="image-20200826153345483"></p>
<p>在创建对象的过程中，如果对象中的实例变量中有String类型的变量，则代码和内存图是：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Objects;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User(<span class="number">110</span>,<span class="string">"张三"</span>);</span><br><span class="line">    System.out.println(user.getId());	<span class="comment">//110</span></span><br><span class="line">    System.out.println(user.getName());		<span class="comment">//张三</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/images/javaSE/image-20200826222321106.png" alt="image-20200826222321106"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    String s1 = <span class="string">"java"</span>;</span><br><span class="line">    String s2 = <span class="string">"java"</span>;</span><br><span class="line">    <span class="comment">//这里的s1和s2都保存着字符串对象的在常量池中的内存地址</span></span><br><span class="line">    System.out.println(s1 == s2);   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    String s3 = <span class="keyword">new</span> String(<span class="string">"java"</span>);</span><br><span class="line">    String s4 = <span class="keyword">new</span> String(<span class="string">"java"</span>);</span><br><span class="line">    <span class="comment">//这里的s3和s4保存着String对象的内存地址,然后String对象中存储着字符串对象在字符串常量池中的地址</span></span><br><span class="line">    System.out.println(s3 == s4);   <span class="comment">//false 只要new一次,就会多一个不同地址的对象</span></span><br><span class="line">    System.out.println(s3.equals(s4));  <span class="comment">//true  所以字符串的比较要使用equals方法</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="一般常用方法"><a href="#一般常用方法" class="headerlink" title="一般常用方法"></a>一般常用方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">byte</span>[] bytes = &#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>&#125;;</span><br><span class="line">    String s1 = <span class="keyword">new</span> String(bytes);</span><br><span class="line">    System.out.println(s1);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//将char数组转化为字符串</span></span><br><span class="line">    <span class="keyword">char</span>[] char1 = &#123;<span class="string">'你'</span>,<span class="string">'好'</span>,<span class="string">'世'</span>,<span class="string">'界'</span>&#125;;</span><br><span class="line">    String s2 = <span class="keyword">new</span> String(char1);</span><br><span class="line">    System.out.println(char1);    <span class="comment">//String默认调用写好的toString()方法</span></span><br><span class="line">    System.out.println(s2);</span><br><span class="line"></span><br><span class="line">    String s3 = <span class="string">"hello世界"</span>;</span><br><span class="line">    System.out.println(s3);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//charAt()方法</span></span><br><span class="line">    <span class="keyword">char</span> c = <span class="string">"你好世界"</span>.charAt(<span class="number">2</span>);  <span class="comment">//"你好世界"是字符串String对象</span></span><br><span class="line">    System.out.println(c);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//字符串之间比较使用compareTo()方法</span></span><br><span class="line">    System.out.println(<span class="string">"abc"</span>.compareTo(<span class="string">"bcd"</span>)); <span class="comment">//-1</span></span><br><span class="line">    System.out.println(<span class="string">"abc"</span>.compareTo(<span class="string">"abc"</span>)); <span class="comment">//0</span></span><br><span class="line">    System.out.println(<span class="string">"bac"</span>.compareTo(<span class="string">"abc"</span>)); <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//constains()方法   前面的字符串的子串是否等于后面字符串</span></span><br><span class="line">    System.out.println(<span class="string">"hello world java"</span>.contains(<span class="string">"java"</span>));  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//boolean	endsWith(String suffix)  判断当前字符串是否以某个字符结尾</span></span><br><span class="line">    System.out.println(<span class="string">"hello.txt"</span>.endsWith(<span class="string">"txt"</span>));    <span class="comment">//true</span></span><br><span class="line">    System.out.println(<span class="string">"hello.java"</span>.endsWith(<span class="string">"txt"</span>));   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//boolean	equalsIgnoreCase(String anotherString)忽略大小写判断字符串是否相等</span></span><br><span class="line">    System.out.println(<span class="string">"HelloWorld"</span>.equalsIgnoreCase(<span class="string">"helloWorld"</span>));  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//byte[]	getBytes() 将字符串对象转化为byte数组</span></span><br><span class="line">    <span class="keyword">byte</span>[] bytes2 =<span class="string">"helloworld"</span>.getBytes();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i &lt; bytes2.length;i++)&#123;</span><br><span class="line">      System.out.print(bytes2[i]+<span class="string">" "</span>);   <span class="comment">//104 101 108 108 111 119 111 114 108 100</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//int	indexOf(int ch)判断某个子字符串在字符串中第一次出现的索引</span></span><br><span class="line">    System.out.println(<span class="string">"java,php,c++"</span>.indexOf(<span class="string">"java"</span>));   <span class="comment">//0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//boolean	isEmpty()  判断某个字符串是否为空</span></span><br><span class="line">    String s5 = <span class="string">""</span>;</span><br><span class="line">    System.out.println(s5.isEmpty()); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//int	length()    判断字符串长度</span></span><br><span class="line">    System.out.println(<span class="string">"hello"</span>.length());   <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    int	lastIndexOf(String str)   判断某个字符串在当前字符串中最后一次出现的索引(下标)</span></span><br><span class="line">    System.out.println(<span class="string">"phphphpjavac++c++javascript"</span>.lastIndexOf(<span class="string">"java"</span>));    <span class="comment">//17</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    String	replace(char oldChar, char newChar)   //替换字符串</span></span><br><span class="line">    System.out.println(<span class="string">"hellojava"</span>.replace(<span class="string">"java"</span>,<span class="string">"javascript"</span>));   <span class="comment">//hellojavascript</span></span><br><span class="line">    System.out.println(<span class="string">"java=java=java"</span>.replace(<span class="string">"="</span>,<span class="string">":"</span>));  <span class="comment">//java:java:java</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    String[]	split(String regex)   以指定的参数拆分字符串</span></span><br><span class="line">    String[] newString = <span class="string">"1998-1-1"</span>.split(<span class="string">"-"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;newString.length;i++)&#123;</span><br><span class="line">      System.out.println(newString[i]);   <span class="comment">//1998 1 1</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    boolean	startsWith(String prefix)   判断当前字符串是否以某个子字符串开始</span></span><br><span class="line">    System.out.println(<span class="string">"http://www.baidu.com"</span>.startsWith(<span class="string">"http://"</span>));   <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//    String	substring(int beginIndex)     截取字符串</span></span><br><span class="line">    System.out.println(<span class="string">"http://www.baidu.com"</span>.substring(<span class="number">7</span>));    <span class="comment">//www.baidu.com</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    String	substring(int beginIndex, int endIndex)</span></span><br><span class="line">    System.out.println(<span class="string">"hellojavahh"</span>.substring(<span class="number">5</span>,<span class="number">9</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    har[]	toCharArray()     将字符串转化为char数组</span></span><br><span class="line">    <span class="keyword">char</span>[] chars = <span class="string">"helloWorld"</span>.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;chars.length;i++)&#123;</span><br><span class="line">      System.out.print(chars[i]+<span class="string">" "</span>);     <span class="comment">//h e l l o W o r l d</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//      String	toLowerCase()     将字符串全部转化为小写</span></span><br><span class="line">    System.out.println(<span class="string">"HelLoeHshf"</span>.toLowerCase());   <span class="comment">//helloehshf</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//      String	toUpperCase()   将字符串全部转化为大写</span></span><br><span class="line">    System.out.println(<span class="string">"HelohiihHy"</span>.toUpperCase());   <span class="comment">//HELOHIIHHY</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//    String	trim()      去除字符串中的前后的空白</span></span><br><span class="line">    System.out.println(<span class="string">"    hellojava   php  "</span>.trim());    <span class="comment">//hellojava   php</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//String中只有一个方法是静态的，不需要new对象,valueOf()方法,此方法可以将非字符串转化为字符串</span></span><br><span class="line">    System.out.println(String.valueOf(<span class="number">3.14</span>));   <span class="comment">//3.14   字符串</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="StringBuffer方法进行字符串拼接"><a href="#StringBuffer方法进行字符串拼接" class="headerlink" title="StringBuffer方法进行字符串拼接"></a>StringBuffer方法进行字符串拼接</h4><p>在java中，字符串是不可变的，所以每一个拼接都会产生新字符串，会创建新字符串对象，占用大量的方法区内存。</p>
<p>所以使用StringBuffer来进行字符串拼接。 </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest05</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个初始化容量为16个byte[]数组。(字符串缓冲区对象)</span></span><br><span class="line">    StringBuffer stringbuffer1 = <span class="keyword">new</span> StringBuffer();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//StringBuffer可接收任何数据类型,当数组长度不够的时候,底层会进行数组拷贝</span></span><br><span class="line">    stringbuffer1.append(<span class="string">"a"</span>);</span><br><span class="line">    stringbuffer1.append(<span class="string">"b"</span>);</span><br><span class="line">    stringbuffer1.append(<span class="string">"c"</span>);</span><br><span class="line">    stringbuffer1.append(<span class="keyword">true</span>);</span><br><span class="line">    stringbuffer1.append(<span class="string">"x"</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(stringbuffer1);    <span class="comment">//abctruex</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    StringBuffer stringbuffer = <span class="keyword">new</span> StringBuffer(<span class="number">100</span>);<span class="comment">//可以指定容量参数</span></span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="StringBuild和StringBuffer的区别"><a href="#StringBuild和StringBuffer的区别" class="headerlink" title="StringBuild和StringBuffer的区别"></a>StringBuild和StringBuffer的区别</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> String;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StringTest06</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    sb.append(<span class="number">100</span>);</span><br><span class="line">    sb.append(<span class="string">"hello"</span>);</span><br><span class="line">    sb.append(<span class="keyword">true</span>);</span><br><span class="line">    sb.append(<span class="string">"ad"</span>);</span><br><span class="line">    System.out.println(sb);   <span class="comment">//100hellotruead</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>StringBuffer</strong>：StringBuffer中的方法都有<code>synchronized</code>关键字修饰。表示StringBuffer在多线程环境下运行是安全的。</p>
<p><strong>StringBuilder</strong>：没有<code>synchronized</code>关键字修饰，所以StringBuffer在多线程环境下运行是不安全的。</p>
<h4 id="包装类"><a href="#包装类" class="headerlink" title="包装类"></a>包装类</h4><p>java中为8种基本数据类型又对应准备了8种包装类型，8种包装类型属于引用数据类型，父类是Object。</p>
<p>例子:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> integer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 此处我们只能传引用数据类型,但是我们的需求是要传一个数字进去,这个时候我们就可以传一个包装类</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    Integer i = <span class="number">100</span>;    <span class="comment">//基本数据类型的包装类型</span></span><br><span class="line">    MyInt m = <span class="keyword">new</span> MyInt(<span class="number">12</span>);</span><br><span class="line">    doSome(m);    <span class="comment">//12    //doSome()方法虽然不能传12,但是但是可以传一个12对应的包装类</span></span><br><span class="line">    doSome(i);    <span class="comment">//100</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">doSome</span><span class="params">(Object obj)</span></span>&#123;</span><br><span class="line">    System.out.println(obj);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//包装类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyInt</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> value;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyInt</span><span class="params">(<span class="keyword">int</span> value)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.value=value;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> String.valueOf(value);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="八种包装类都是什么？"><a href="#八种包装类都是什么？" class="headerlink" title="八种包装类都是什么？"></a>八种包装类都是什么？</h5><table>
<thead>
<tr>
<th>基本数据类型</th>
<th>包装类型</th>
</tr>
</thead>
<tbody><tr>
<td>byte</td>
<td>java.lang.Byte（父类Number）</td>
</tr>
<tr>
<td>short</td>
<td>java.lang.Short（父类Number）</td>
</tr>
<tr>
<td>int</td>
<td>java.lang.Integer（父类Number）</td>
</tr>
<tr>
<td>long</td>
<td>java.lang.Long（父类Number）</td>
</tr>
<tr>
<td>float</td>
<td>java.lang.Float（父类Number）</td>
</tr>
<tr>
<td>double</td>
<td>java.lang.Double（父类Number）</td>
</tr>
<tr>
<td>boolean</td>
<td>java.lang.Boolean（父类Object）</td>
</tr>
<tr>
<td>char</td>
<td>java.lang.Character（父类Object）</td>
</tr>
</tbody></table>
<p><strong>装箱和拆箱</strong>:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> integer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerTest02</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//基本数据类型=&gt;引用数据类型(装箱)</span></span><br><span class="line">    Integer i = <span class="keyword">new</span> Integer(<span class="number">123</span>);</span><br><span class="line">    <span class="keyword">float</span> f = i.floatValue();</span><br><span class="line">    System.out.println(f);    <span class="comment">//123.0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//将引用数据类型=&gt;基本数据类型(拆箱)</span></span><br><span class="line">    <span class="keyword">int</span> value = i.intValue();</span><br><span class="line">    System.out.println(value);    <span class="comment">//123</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>Integer的构造方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Integer(<span class="keyword">int</span> value);</span><br><span class="line">Integer(String s);</span><br></pre></td></tr></table></figure>





<h5 id="自动装箱和自动拆箱"><a href="#自动装箱和自动拆箱" class="headerlink" title="自动装箱和自动拆箱"></a><strong>自动装箱和自动拆箱</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> integer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//自动装箱  int类型自动转化为引用数据类型</span></span><br><span class="line">    Integer x = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//自动拆箱    以用数据类型自动转化为基本数据类型</span></span><br><span class="line">    <span class="keyword">int</span> y = x;</span><br><span class="line">    System.out.println(y);    <span class="comment">//100</span></span><br><span class="line"></span><br><span class="line">    Integer z = <span class="number">100</span>;</span><br><span class="line">    System.out.println(z+<span class="number">1</span>);   <span class="comment">//101  //此处已经进行了自动拆箱,所以可以运行</span></span><br><span class="line"></span><br><span class="line">    Integer a = <span class="number">1000</span>;</span><br><span class="line">    Integer b = <span class="number">1000</span>;</span><br><span class="line">    System.out.println(a==b);     <span class="comment">//flase  比较的是两个地址</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="String为什么不可变？"><a href="#String为什么不可变？" class="headerlink" title="String为什么不可变？"></a>String为什么不可变？</h5><p>源代码种String类中有一个byte[]数组，这个byte[]数组采用了final修饰。</p>
<h5 id="StringBuilder-StingBuffer为什么可变？"><a href="#StringBuilder-StingBuffer为什么可变？" class="headerlink" title="StringBuilder/StingBuffer为什么可变？"></a>StringBuilder/StingBuffer为什么可变？</h5><p>在源代码中，StringBuilder和StringBuffer内部是一个byte[]数组，这个数组没有被final修饰，初始化容量为16，当数组满了之后是会扩容的，底层调用了数组拷贝的方法进行扩容。</p>
<h5 id="Integer面试题"><a href="#Integer面试题" class="headerlink" title="Integer面试题"></a><strong>Integer面试题</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> integer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Integer a = <span class="number">128</span>;</span><br><span class="line">    Integer b = <span class="number">128</span>;</span><br><span class="line">    System.out.println(a==b);   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *java中为了提高程序的运行效率,将[-128到127]之间所有的包装对象提前创建好,放到了一个方法区的"整数型常量池"</span></span><br><span class="line"><span class="comment">     * 中,只要是这个区间的数据都不需要new对象了,直接指向整数型常量池当中的数据。</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    Integer x = <span class="number">127</span>;</span><br><span class="line">    Integer y = <span class="number">127</span>;</span><br><span class="line">    System.out.println(x==y);   <span class="comment">//true    所以这个区间的数值都指向整数型常量池中</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="String-int-Integer类型互换："><a href="#String-int-Integer类型互换：" class="headerlink" title="String int Integer类型互换："></a>String int Integer类型互换：</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> integer;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IntegerTest05</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//String-&gt;int</span></span><br><span class="line">    <span class="keyword">int</span> i1 = Integer.parseInt(<span class="string">"100"</span>);</span><br><span class="line">    System.out.println(i1+<span class="number">2</span>);   <span class="comment">//102</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment">//int-&gt;String</span></span><br><span class="line">    String s2 = i1 + <span class="string">""</span>;</span><br><span class="line">    System.out.println(s2+<span class="number">1</span>); <span class="comment">//"1001"</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment">//int-&gt;Integer</span></span><br><span class="line">    Integer x = <span class="number">1000</span>;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//Integer-&gt;int</span></span><br><span class="line">    <span class="keyword">int</span> y = x;</span><br><span class="line">      </span><br><span class="line">    <span class="comment">//String-&gt;Integer</span></span><br><span class="line">    Integer k = Integer.valueOf(<span class="string">"123"</span>);</span><br><span class="line">    System.out.println(k);    <span class="comment">//123</span></span><br><span class="line">      </span><br><span class="line">    <span class="comment">//Integer-&gt;String</span></span><br><span class="line">    String s3 = String.valueOf(k);</span><br><span class="line">    System.out.println(s3);   <span class="comment">//  "123"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><img src="/images/javaSE/image-20200828172046734.png" alt="image-20200828172046734"></p>
<h3 id="java对日期的处理"><a href="#java对日期的处理" class="headerlink" title="java对日期的处理"></a>java对日期的处理</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DateTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    Date nowTime = <span class="keyword">new</span> Date();    <span class="comment">//new Date()获取当前系统时间</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * yyyy 年</span></span><br><span class="line"><span class="comment">    * MM 月</span></span><br><span class="line"><span class="comment">    * dd 日</span></span><br><span class="line"><span class="comment">    * HH 时</span></span><br><span class="line"><span class="comment">    * mm 分</span></span><br><span class="line"><span class="comment">    * ss 秒</span></span><br><span class="line"><span class="comment">    * SSS 毫秒,1000毫秒代表一秒</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="comment">//Date类型转化为日期字符串</span></span><br><span class="line">    SimpleDateFormat s1 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss SSS"</span>);</span><br><span class="line">    System.out.println(s1.format(nowTime));   <span class="comment">//格式化时间2020-08-29 15:01:01 765</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//日期字符串转化为Date类型</span></span><br><span class="line">    String time = <span class="string">"2020-08-29 15:01:01 765"</span>;</span><br><span class="line">    SimpleDateFormat s2 = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss SSS"</span>);</span><br><span class="line">    System.out.println(s2.parse(time));	<span class="comment">//Sat Aug 29 15:01:01 CST 2020</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h3 id="枚举"><a href="#枚举" class="headerlink" title="枚举"></a>枚举</h3><p>什么是枚举？</p>
<p>枚举是一种引用数据类型。</p>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> 枚举类型名&#123;</span><br><span class="line">    枚举值<span class="number">1</span>,枚举值<span class="number">2</span>...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>代码案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter07.Enum;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EnumTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Result res = divide(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    System.out.println(res==Result.SUCCESS?<span class="string">"计算成功"</span>:<span class="string">"计算失败"</span>);      <span class="comment">//计算成功</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Result <span class="title">divide</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">int</span> c = a/b;</span><br><span class="line">      <span class="keyword">return</span> Result.SUCCESS;</span><br><span class="line">    &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">      <span class="keyword">return</span> Result.FAIL;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//枚举类型</span></span><br><span class="line">  <span class="comment">//SUCCESS和FAIL是枚举Result类型中的一个值</span></span><br><span class="line">  <span class="keyword">enum</span> Result&#123;</span><br><span class="line">    SUCCESS,FAIL;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="异常"><a href="#异常" class="headerlink" title="异常"></a>异常</h3><p>异常在java中以类和对象的形式存在。</p>
<p>当我们的程序出现了问题的时候，JVM会new异常对象，并将new的异常对象抛出，打印输出到控制台。</p>
<p>异常有<code>编译时异常(受检异常|受控异常)</code>和<code>运行时异常(非受检异常|非受控异常)</code>。</p>
<h4 id="编译时异常和运行时异常的区别"><a href="#编译时异常和运行时异常的区别" class="headerlink" title="编译时异常和运行时异常的区别"></a>编译时异常和运行时异常的区别</h4><p>编译时异常必须在编译阶段预先处理，如果不处理编译器就会报错。而所以异常都是在运行阶段发生的。因为只有程序运行阶段才可以new对象。异常就是new异常对象的一个过程。</p>
<p><img src="/images/javaSE/image-20200831180207910.png" alt="image-20200831180207910"></p>
<h4 id="异常的两种处理方式"><a href="#异常的两种处理方式" class="headerlink" title="异常的两种处理方式"></a>异常的两种处理方式</h4><ul>
<li>在方法声明的位置上，使用<code>throws</code>关键字(谁调用，抛给谁，这是由调用者来处理这个异常，调用者可使用<code>try...catch</code>解决异常或者继续往上抛)。</li>
<li>使用<code>try...catch</code>语句进行异常的捕捉</li>
</ul>
<p>java中异常发生之后，如果选择了往上抛，最终抛给了main方法，main方法继续往上抛，抛给了JVM，于是就终止了程序的执行。</p>
<p>一般不抛给main方法，不然你不知道异常是什么。</p>
<p>需要处理的异常一般都是<code>编译时异常</code>。</p>
<p>运行时异常一般不需要处理。</p>
<p>案例：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter08;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"main begin"</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      m2();</span><br><span class="line">    &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">      System.out.println(e);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">"main over"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"m2 begin"</span>);</span><br><span class="line">    m3();</span><br><span class="line">    System.out.println(<span class="string">"m2 over"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m3</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException</span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"m3 begin"</span>);</span><br><span class="line">    m4();</span><br><span class="line">    System.out.println(<span class="string">"m4 over"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">m4</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"m4 begin"</span>);</span><br><span class="line">    <span class="keyword">new</span> FileInputStream(<span class="string">"D:\\blog\\hello.txt"</span>);</span><br><span class="line">    System.out.println(<span class="string">"m4 over"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*结果：</span></span><br><span class="line"><span class="comment">main begin</span></span><br><span class="line"><span class="comment">m2 begin</span></span><br><span class="line"><span class="comment">m3 begin</span></span><br><span class="line"><span class="comment">m4 begin</span></span><br><span class="line"><span class="comment">java.io.FileNotFoundException: D:\blog\hello.txt (系统找不到指定的文件。)</span></span><br><span class="line"><span class="comment">main over</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>catch可以说多个的，但是类型必须是从小到大这种。</p>
<p>在jdk8中可以使用<code>逻辑或</code>的方式把多个异常类型都写在一个catch括号里面。</p>
<h4 id="开发中上报还是捕捉？"><a href="#开发中上报还是捕捉？" class="headerlink" title="开发中上报还是捕捉？"></a>开发中上报还是捕捉？</h4><p>如果希望调用者来处理，则throws上报！</p>
<h4 id="异常对象的常用方法"><a href="#异常对象的常用方法" class="headerlink" title="异常对象的常用方法"></a>异常对象的常用方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter08;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    NullPointerException e = <span class="keyword">new</span> NullPointerException(<span class="string">"空指针异常"</span>);</span><br><span class="line">    <span class="comment">//getMessage()方法会打印异常对象的构造方法的参数</span></span><br><span class="line">    System.out.println(e.getMessage());</span><br><span class="line">    <span class="comment">//printStackTrace()方法会打印异常堆栈追踪信息    </span></span><br><span class="line">    e.printStackTrace();		<span class="comment">//异步线程的方式打印</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>一般都是用<code>printStackTrace()</code>方法，方便我们追踪异常。</p>
<h4 id="finally子句"><a href="#finally子句" class="headerlink" title="finally子句"></a>finally子句</h4><p>finally子句中的代码是最后执行的，即使try语句块中出现了异常。</p>
<p>当代码抛出一个异常时，就会终止这个方法中剩余代码的处理，并退出这个方法的执行。如果方法获得了一些本地资源。并且只有这个方法自己知道，又如果这些资源在退出方法之前必须被回收，那么就会产生资源回收问题一种解决方案时捕获异常并重新抛出所有异常，但是这种方法比较乏味，这是因为需要在两个地方清除所分配的资源，一个在正常的代码中，一个在异常代码中。</p>
<p>finally通常用来完成资源的关闭释放。</p>
<p><code>try和finally</code>可以在没有<code>catch</code>的时候使用。</p>
<h4 id="自定义栈异常"><a href="#自定义栈异常" class="headerlink" title="自定义栈异常"></a>自定义栈异常</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter08;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ExceptionTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Mystack m = <span class="keyword">new</span> Mystack(<span class="keyword">new</span> Object[<span class="number">10</span>]);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      m.push(<span class="keyword">new</span> Object[]&#123;<span class="keyword">new</span> String(<span class="string">"小明"</span>)&#125;);</span><br><span class="line">      m.push(<span class="keyword">new</span> Object[]&#123;<span class="keyword">new</span> String(<span class="string">"小明"</span>)&#125;);</span><br><span class="line">      m.push(<span class="keyword">new</span> Object[]&#123;<span class="keyword">new</span> String(<span class="string">"小明"</span>)&#125;);</span><br><span class="line">      m.pop();</span><br><span class="line">      m.pop();</span><br><span class="line">      m.pop();</span><br><span class="line">      m.pop();  <span class="comment">//捕捉异常</span></span><br><span class="line">    &#125;<span class="keyword">catch</span> (MyStackException e)&#123;</span><br><span class="line">      System.out.println(e.getMessage());     <span class="comment">//弹栈失败,栈已经空了</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">"当前栈内元素:"</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; m.getElements().length; i++) &#123;</span><br><span class="line">      System.out.println(m.getElements()[i]);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mystack</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Object[] elements;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> index = -<span class="number">1</span>;</span><br><span class="line">  <span class="comment">//默认栈大小为10</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Mystack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elements = <span class="keyword">new</span> Object[<span class="number">10</span>];</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Mystack</span><span class="params">(Object[] elements)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elements = elements;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setElements</span><span class="params">(Object[] elements)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.elements = elements;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">public</span> Object[] getElements() &#123;</span><br><span class="line">    <span class="keyword">return</span> elements;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.index = index;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getIndex</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> index;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//压栈</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(Object[] elements)</span> <span class="keyword">throws</span> MyStackException</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.index&gt;=<span class="keyword">this</span>.elements.length-<span class="number">1</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> MyStackException(<span class="string">"压栈失败,栈已经满了"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.index++;</span><br><span class="line">    <span class="keyword">this</span>.elements[<span class="keyword">this</span>.index] = elements;</span><br><span class="line">    System.out.println(<span class="string">"压栈成功,压入元素"</span>+elements+<span class="string">"栈帧指向"</span>+<span class="keyword">this</span>.index);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//弹栈</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> <span class="keyword">throws</span> MyStackException</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.index&lt;<span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> MyStackException(<span class="string">"弹栈失败,栈已经空了"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.elements[<span class="keyword">this</span>.index] = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">this</span>.index--;</span><br><span class="line">    System.out.println(<span class="string">"弹栈成功,栈帧指向"</span>+<span class="keyword">this</span>.index);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//自定义异常类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyStackException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyStackException</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();      <span class="comment">//默认有</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyStackException</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    <span class="keyword">super</span>(s);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="异常与方法覆盖"><a href="#异常与方法覆盖" class="headerlink" title="异常与方法覆盖"></a>异常与方法覆盖</h4><p>重写之后的方法不能比重写之前的方法抛出更多的异常,可以更少。</p>
<h4 id="总结异常中的关键字"><a href="#总结异常中的关键字" class="headerlink" title="总结异常中的关键字"></a>总结异常中的关键字</h4><p>异常捕捉：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">catch</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>throws</code>：在方法声明的位置上使用，表示上报异常给调用者。</p>
<p><code>throw</code>：手动抛出异常。</p>
<h3 id="集合"><a href="#集合" class="headerlink" title="集合"></a>集合</h3><h4 id="什么是集合？"><a href="#什么是集合？" class="headerlink" title="什么是集合？"></a>什么是集合？</h4><p>集合是一个容器，是一个载体，可以容纳多个对象。</p>
<p>集合不能直接存储基本能数据类型，集合中存储的是引用。</p>
<p>在java中每一个集合，底层都对应着不同的数据结构。往不同的集合中存储元素，等于将数据放到了不同的数据结构当中。数据结构有：<code>数组、二叉树、链表、哈希表...</code></p>
<p><strong>在java中集合分为两大类：</strong></p>
<ul>
<li><p>单个方式存储元素：</p>
<p>单个方式存储元素，这一类集合中超级父接口：<code>java.util.Collection</code></p>
</li>
<li><p>键值对方式存储元素：</p>
<p>以键值对的方式存储元素，这一类中超级父接口:<code>java.util.Map</code></p>
</li>
</ul>
<h4 id="集合的继承结构图"><a href="#集合的继承结构图" class="headerlink" title="集合的继承结构图"></a>集合的继承结构图</h4><p><img src="/images/javaSE/image-20200905174821050.png" alt="image-20200905174821050"></p>
<h4 id="Map继承结构图"><a href="#Map继承结构图" class="headerlink" title="Map继承结构图"></a>Map继承结构图</h4><p><img src="/images/javaSE/image-20200907085002244.png" alt="image-20200907085002244"></p>
<h4 id="List、Set、Sorted存储元素的特点"><a href="#List、Set、Sorted存储元素的特点" class="headerlink" title="List、Set、Sorted存储元素的特点"></a>List、Set、Sorted存储元素的特点</h4><h5 id="List集合存储元素的特点："><a href="#List集合存储元素的特点：" class="headerlink" title="List集合存储元素的特点："></a>List集合存储元素的特点：</h5><ul>
<li><p>有序可重复</p>
<p>有序：存进去和取出来的顺序相同，每一个元素都有下标。</p>
<p>可重复：存进去1，可再存储一个1。</p>
</li>
</ul>
<h5 id="Set集合存储元素的特点："><a href="#Set集合存储元素的特点：" class="headerlink" title="Set集合存储元素的特点："></a>Set集合存储元素的特点：</h5><ul>
<li><p>无序不可重复</p>
<p>无序：存进去的顺序和取出来的顺序不一定相同。Set集合中元素没有下标。</p>
<p>不可重复：存进去1，就不能再存1。</p>
</li>
</ul>
<h5 id="SortedSet集合存储元素的特点："><a href="#SortedSet集合存储元素的特点：" class="headerlink" title="SortedSet集合存储元素的特点："></a>SortedSet集合存储元素的特点：</h5><ul>
<li>无序不可重复，但是SortedSet集合中的元素是可排列的。</li>
<li>可排序：可以按照大小顺序排列。</li>
</ul>
<p>Map集合中的key就是一个Set集合。</p>
<h4 id="Collection接口常用方法"><a href="#Collection接口常用方法" class="headerlink" title="Collection接口常用方法"></a>Collection接口常用方法</h4><p>没有使用<code>泛型</code>之前，Collection中可存储Object的所有子类型。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayDeque;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Collection常用方法:</span></span><br><span class="line"><span class="comment">* boolean add(Object e)     向集合中添加元素</span></span><br><span class="line"><span class="comment">* int size()      获取集合中的元素个数</span></span><br><span class="line"><span class="comment">* void clear()    清空集合</span></span><br><span class="line"><span class="comment">* boolean contains(Object o)     判断当前集合中是否包含元素o</span></span><br><span class="line"><span class="comment">* boolean remove(Object o)    删除集合中某个元素</span></span><br><span class="line"><span class="comment">* boolean isEmpty()     判断该集合的元素个数是否为0</span></span><br><span class="line"><span class="comment">* Object[]	toArray()    将集合转化成数组</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest01</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//多态</span></span><br><span class="line">    Collection c1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">//因为java中有自动装箱机制,所以一下都是引用数据类型</span></span><br><span class="line">    c1.add(<span class="number">1200</span>);</span><br><span class="line">    c1.add(<span class="number">3.14</span>);</span><br><span class="line">    c1.add(<span class="keyword">new</span> Student());</span><br><span class="line">    c1.add(<span class="keyword">new</span> Object());</span><br><span class="line">    System.out.println(<span class="string">"集合中元素的个数是:"</span>+c1.size());     <span class="comment">//集合中元素的个数是:4</span></span><br><span class="line">    System.out.println(c1.contains(<span class="number">1200</span>));      <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//将集合转化为数组</span></span><br><span class="line">    Object[] arrs = c1.toArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;arrs.length;i++)&#123;</span><br><span class="line">      System.out.println(arrs[i]);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p><strong>contains方法</strong></p>
<p>底层调用了被重写了的equals方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建集合对象</span></span><br><span class="line">    Collection c = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">    String s1 = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line">    c.add(s1);</span><br><span class="line"></span><br><span class="line">    String s2 = <span class="keyword">new</span> String(<span class="string">"def"</span>);</span><br><span class="line">    c.add(s2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//集合中元素的个数</span></span><br><span class="line">    System.out.println(<span class="string">"集合中元素的个数:"</span>+c.size());   <span class="comment">//2</span></span><br><span class="line"></span><br><span class="line">    String x = <span class="keyword">new</span> String(<span class="string">"abc"</span>);</span><br><span class="line"></span><br><span class="line">    System.out.println(c.contains(x));  <span class="comment">//true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>remove()方法</strong></p>
<p>底层也调用了<code>equals()</code>方法。但是没有重写。</p>
<p>在集合迭代过程中，当集合的结构发生变化的时候，就得重新去获取迭代器，所以在集合迭代的过程中，不能使用<code>remove()方法</code>。</p>
<p>如果要删除的话只能用迭代器中的<code>remove()</code>方法。</p>
<h5 id="迭代集合的原理"><a href="#迭代集合的原理" class="headerlink" title="迭代集合的原理"></a>迭代集合的原理</h5><p><strong>在集合迭代过程中，当集合的结构发生变化的时候，就得重新去获取迭代器，所以在迭代过程中删除元素,要使用迭代器中的remove()方法去删除元素，而不是使用集合中的remove()方法</strong></p>
<p><code>boolean    hasNext()</code>     如果仍然有元素可以迭代,则返回true</p>
<p><code>Object    next()</code>     返回迭代中的下一个元素</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection c = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//对集合Collection进行迭代</span></span><br><span class="line">    <span class="comment">//boolean	hasNext()     如果仍然有元素可以迭代,则返回true</span></span><br><span class="line">    <span class="comment">//Object	next()     返回迭代中的下一个元素</span></span><br><span class="line"></span><br><span class="line">    c.add(<span class="string">"123"</span>);</span><br><span class="line">    c.add(<span class="string">"hello world"</span>);</span><br><span class="line">    c.add(<span class="number">456</span>);</span><br><span class="line">    c.add(<span class="keyword">new</span> Object());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建迭代器对象</span></span><br><span class="line">    Iterator it = c.iterator();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">      Object obj = it.next();</span><br><span class="line">      System.out.print(obj+<span class="string">" "</span>);    <span class="comment">//123 hello world 456 java.lang.Object@21bcffb5 </span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>上述代码说明了ArrayList集合有序可重复。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CollectionTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Collection c = <span class="keyword">new</span> HashSet();   <span class="comment">//HashSet()无序不可重复</span></span><br><span class="line">    c.add(<span class="number">100</span>);</span><br><span class="line">    c.add(<span class="number">200</span>);</span><br><span class="line">    c.add(<span class="number">60</span>);</span><br><span class="line">    c.add(<span class="number">100</span>);</span><br><span class="line">    c.add(<span class="number">120</span>);</span><br><span class="line">    c.add(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    Iterator it = c.iterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">      System.out.print(it.next()+<span class="string">" "</span>);    <span class="comment">//100 200 120 60</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>证明HashSet集合无序不可重复。</p>
<h5 id="List接口特有的方法"><a href="#List接口特有的方法" class="headerlink" title="List接口特有的方法"></a>List接口特有的方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* List接口特有的常用方法</span></span><br><span class="line"><span class="comment">*   void add(int index,Object element)</span></span><br><span class="line"><span class="comment">*   Object get(int index)</span></span><br><span class="line"><span class="comment">*   int indexOf(Object o)</span></span><br><span class="line"><span class="comment">*   int lastIndexOf(Object o)</span></span><br><span class="line"><span class="comment">*   Object remove(int index)</span></span><br><span class="line"><span class="comment">*   Object set(int index,Object element)</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ListTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List myList = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">//向集合中添加元素</span></span><br><span class="line">    myList.add(<span class="string">"a"</span>);</span><br><span class="line">    myList.add(<span class="string">"b"</span>);</span><br><span class="line">    myList.add(<span class="string">"c"</span>);</span><br><span class="line">    myList.add(<span class="string">"d"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//在指定位置插入元素</span></span><br><span class="line">    myList.add(<span class="number">1</span>,<span class="string">"hello"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//迭代</span></span><br><span class="line">    Iterator it = myList.iterator();</span><br><span class="line">    <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">      Object o = it.next();</span><br><span class="line">      System.out.println(o);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//根据下标获取元素  List集合特有的方式</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;myList.size();i++)&#123;</span><br><span class="line">      Object obj = myList.get(i);</span><br><span class="line">      System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取指定对象第一次出现的索引</span></span><br><span class="line">    <span class="keyword">int</span> i = myList.indexOf(<span class="string">"hello"</span>);</span><br><span class="line">    System.out.println(i);    <span class="comment">//1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//删除指定位置下标处的元素</span></span><br><span class="line">    System.out.println(<span class="string">"----------------"</span>);</span><br><span class="line">    System.out.println(myList.size());    <span class="comment">//5</span></span><br><span class="line">    myList.remove(<span class="number">1</span>);</span><br><span class="line">    System.out.println(myList.size());  <span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//修改指定下标处的元素</span></span><br><span class="line">    myList.set(<span class="number">0</span>,<span class="string">"soft"</span>);</span><br><span class="line">    Iterator it2 = myList.iterator();</span><br><span class="line">    <span class="keyword">while</span> (it2.hasNext())&#123;</span><br><span class="line">      System.out.print(it2.next()+<span class="string">" "</span>);   <span class="comment">//soft b c d</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ArrayList集合检索效率高，所以这个集合一般使用的频率较高</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayListTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ArrayList集合初始化容量为10，底层是一个Object数组</span></span><br><span class="line">    List myList1 = <span class="keyword">new</span> ArrayList();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//指定初始化容量100</span></span><br><span class="line">    List myList2 = <span class="keyword">new</span> ArrayList(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个hashSet集合</span></span><br><span class="line">    Collection c = <span class="keyword">new</span> HashSet();</span><br><span class="line">    c.add(<span class="number">100</span>);</span><br><span class="line">    c.add(<span class="number">500</span>);</span><br><span class="line">    c.add(<span class="number">400</span>);</span><br><span class="line">    c.add(<span class="number">300</span>);</span><br><span class="line">    c.add(<span class="number">200</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过构造方法可以将hashSet集合转化成List集合</span></span><br><span class="line">    List myList3 = <span class="keyword">new</span> ArrayList(c);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;myList3.size();i++)&#123;</span><br><span class="line">      System.out.println(myList3.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h5><p><strong>链表优点</strong>：随机增删元素效率高，不涉及大量元素位移。</p>
<p><strong>链表缺点</strong>：查询效率低，每一次查找某个元素的时候，都要从头结点开始往下遍历。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">//LinkedList集合是有下标的，但是由于自身是链表，查找的时候需要从头结点开始一个一个查找的</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LinkedListTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    List list = <span class="keyword">new</span> LinkedList();</span><br><span class="line">    list.add(<span class="string">"a"</span>);</span><br><span class="line">    list.add(<span class="string">"b"</span>);</span><br><span class="line">    list.add(<span class="string">"c"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">      Object obj = list.get(i);</span><br><span class="line">      System.out.println(obj);		<span class="comment">//a b c</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h5 id="泛型机制"><a href="#泛型机制" class="headerlink" title="泛型机制"></a>泛型机制</h5><p>泛型用来指定集合中存储的数据类型。</p>
<p><code>E</code>是<code>Element</code>。</p>
<p><code>T</code>是<code>Type</code>。</p>
<p>使用泛型的好处是：</p>
<ul>
<li>集合中存储的元素统一了。</li>
<li>从集合中取出的元素类型是泛型指定的类型，不需要进行大量的向下转型</li>
</ul>
<p>语法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Animal&gt; myList = <span class="keyword">new</span> ArrayList&lt;Animal&gt;();</span><br></pre></td></tr></table></figure>



<p>泛型的缺点：</p>
<ul>
<li>导致集合中存储的元素缺乏多样性。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//加了泛型之后只能放Animal类型的数据类型</span></span><br><span class="line">    List&lt;Animal&gt; myList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    Animal animal = <span class="keyword">new</span> Animal();</span><br><span class="line">    Bird bird = <span class="keyword">new</span> Bird();</span><br><span class="line">    Cat cat = <span class="keyword">new</span> Cat();</span><br><span class="line">    myList.add(animal);</span><br><span class="line">    myList.add(bird);</span><br><span class="line">    myList.add(cat);</span><br><span class="line"></span><br><span class="line">    Iterator&lt;Animal&gt; it = myList.iterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">      Animal animal1 = it.next();</span><br><span class="line">      <span class="keyword">if</span>(animal1 <span class="keyword">instanceof</span> Cat)&#123;</span><br><span class="line">        Cat cat1 = (Cat)animal1;</span><br><span class="line">        cat1.catchMouse();      <span class="comment">//鸟儿在飞侠</span></span><br><span class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span>(animal1 <span class="keyword">instanceof</span> Bird)&#123;</span><br><span class="line">        Bird bird1 = (Bird)animal1;</span><br><span class="line">        bird1.fly();      <span class="comment">//猫抓老鼠</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">move</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"动物在移动"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fly</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"鸟儿在飞侠"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">catchMouse</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"猫抓老鼠"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>自定义泛型</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GenericTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Test&lt;String&gt; test = <span class="keyword">new</span> Test&lt;&gt;();</span><br><span class="line">    test.word(<span class="string">"hello world"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Test2&lt;Animal&gt; test2 = <span class="keyword">new</span> Test2&lt;&gt;();</span><br><span class="line">    <span class="comment">//get方法返回Animal类型数据</span></span><br><span class="line">    Animal a = test2.get();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>&lt;<span class="title">String</span>&gt;</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">word</span><span class="params">(String s)</span></span>&#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test2</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">  <span class="comment">//指定方法的返回值类型T</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> T <span class="title">get</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h5><p>HashSet集合无序不可重复。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter09;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//无序不可重复,但是排序是按照从小到大的顺序来进行的</span></span><br><span class="line">    Set&lt;Integer&gt; mySet = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    mySet.add(<span class="number">15</span>);</span><br><span class="line">    mySet.add(<span class="number">133</span>);</span><br><span class="line">    mySet.add(<span class="number">123</span>);</span><br><span class="line">    mySet.add(<span class="number">23</span>);</span><br><span class="line">    mySet.add(<span class="number">13</span>);</span><br><span class="line">    mySet.add(<span class="number">12</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Integer i : mySet)&#123;</span><br><span class="line">      System.out.println(i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="Map接口常用方法"><a href="#Map接口常用方法" class="headerlink" title="Map接口常用方法"></a>Map接口常用方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* Map集合以key和value的方式去存储数据：键值对</span></span><br><span class="line"><span class="comment">* key和value都是引用数据类型</span></span><br><span class="line"><span class="comment">* key和value都是存储对象的内存地址</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* Map接口常用方法:</span></span><br><span class="line"><span class="comment">* V put(K key,V value)    向Map集合中添加键值对</span></span><br><span class="line"><span class="comment">* V get(Object value)   通过key去获取value</span></span><br><span class="line"><span class="comment">* void clear()    清空map集合</span></span><br><span class="line"><span class="comment">* boolean containsKey(Object key)   判断Map中是否包含某个value</span></span><br><span class="line"><span class="comment">* boolean containsValue(Object value)   判断Map中是否包含某个value</span></span><br><span class="line"><span class="comment">* boolean isEmpty()    判断key删除键值对</span></span><br><span class="line"><span class="comment">* int size()    获取Map集合中键值对的个数</span></span><br><span class="line"><span class="comment">* Collection&lt;V&gt; values()    获取Map集合中所有的value,返回一个Collection</span></span><br><span class="line"><span class="comment">* Set&lt;K&gt; ketSet()     获取Map集合中所有的key(所有的键是一个set集合)</span></span><br><span class="line"><span class="comment">* Set&lt;Map.Entry&lt;K.V&gt;&gt; entrySet()    将Map集合转化成Set集合</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Maptest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建Map集合对象</span></span><br><span class="line">    Map&lt;Integer,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">//向Map集合中添加键值对</span></span><br><span class="line">    map.put(<span class="number">1</span>,<span class="string">"张三"</span>);</span><br><span class="line">    map.put(<span class="number">2</span>,<span class="string">"王三"</span>);</span><br><span class="line">    map.put(<span class="number">3</span>,<span class="string">"四三"</span>);</span><br><span class="line">    map.put(<span class="number">4</span>,<span class="string">"王三"</span>);</span><br><span class="line">    map.put(<span class="number">5</span>,<span class="string">"李三"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过key去获取value</span></span><br><span class="line">    String value1 = map.get(<span class="number">1</span>);</span><br><span class="line">    System.out.println(value1);     <span class="comment">//张三</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取键值对的数量</span></span><br><span class="line">    System.out.println(map.size());     <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过key删除key-value</span></span><br><span class="line">    map.remove(<span class="number">1</span>);</span><br><span class="line">    System.out.println(map.size());   <span class="comment">//4</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断是否包含某个key</span></span><br><span class="line">    <span class="comment">//constains方法底层都是都是调用了equals方法</span></span><br><span class="line">    System.out.println(map.containsKey(<span class="number">4</span>));   <span class="comment">//true</span></span><br><span class="line">    System.out.println(map.containsKey(<span class="number">6</span>));   <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断是否包含某个value</span></span><br><span class="line">    System.out.println(map.containsValue(<span class="string">"李三"</span>));  <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取所有的value</span></span><br><span class="line">    Collection&lt;String&gt; values = map.values();</span><br><span class="line">    <span class="keyword">for</span> (String s:values)&#123;</span><br><span class="line">      System.out.print(s+<span class="string">" "</span>);    <span class="comment">//王三 四三 王三 李三</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//清空map集合</span></span><br><span class="line">    map.clear();</span><br><span class="line">    System.out.println(map.size());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MapTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//获取所有的key,通过遍历key，来遍历value</span></span><br><span class="line">    Map&lt;Integer,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>,<span class="string">"张三"</span>);</span><br><span class="line">    map.put(<span class="number">2</span>,<span class="string">"李四"</span>);</span><br><span class="line">    map.put(<span class="number">3</span>,<span class="string">"王五"</span>);</span><br><span class="line">    map.put(<span class="number">4</span>,<span class="string">"java"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取所有的key,所有的key是一个Set集合</span></span><br><span class="line">    Set&lt;Integer&gt; keys = map.keySet();</span><br><span class="line"></span><br><span class="line">    Iterator&lt;Integer&gt; it = keys.iterator();</span><br><span class="line">    <span class="keyword">while</span> (it.hasNext())&#123;</span><br><span class="line">      Integer key = it.next();</span><br><span class="line">      String value = map.get(key);</span><br><span class="line">      System.out.println(key+<span class="string">"="</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//第二种方式遍历Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet(); </span></span><br><span class="line">    Set&lt;Map.Entry&lt;Integer,String&gt;&gt; set = map.entrySet();</span><br><span class="line">    Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; it2 = set.iterator();</span><br><span class="line">    <span class="keyword">while</span> (it2.hasNext())&#123;</span><br><span class="line">      Map.Entry&lt;Integer,String&gt; node = it2.next();</span><br><span class="line">      Integer key = node.getKey();</span><br><span class="line">      String value = node.getValue();</span><br><span class="line">      System.out.println(key+<span class="string">"="</span>+value);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h5 id="哈希表数据结构"><a href="#哈希表数据结构" class="headerlink" title="哈希表数据结构"></a>哈希表数据结构</h5><p><img src="/images/javaSE/image-20200909160001772.png" alt="image-20200909160001772"></p>
<p>HashMap集合中的key会先后调用两个方法：<strong>一个是hashCode()方法，一个是equals()方法，所以这两个方法都需要重写</strong>。</p>
<p>HashMap集合中的key的特点是<code>无序不可重复</code>。</p>
<p>无序：因为新添加的元素不一定添加在哪个单链表上。</p>
<p>不可重复：因为equals方法用来保证hashMap的集合的key不可重复。</p>
<p>同一个单向链表上同一个结点的hash值一样。但同一个链表上的k都不相等。</p>
<p>HashMap集合初始化容量必须是2的倍数，这是因为达到散列均匀，为了提高HashMap集合的存储效率。</p>
<p>对于哈希表数据结构来说：如果两个对象的hash值相同，一定是放到同一个单向链表上。</p>
<p>如果两个对象的hash值不相同，但是由于哈希算法执行结束后转化的数组下标可能相同，所以会发生<strong>哈希碰撞</strong>。</p>
<h5 id="HashMap和HashTable区别："><a href="#HashMap和HashTable区别：" class="headerlink" title="HashMap和HashTable区别："></a>HashMap和HashTable区别：</h5><p>HashMap集合的key和value不允许为null。</p>
<p>HashTable集合的key和value不允许为null。</p>
<p>HashMap集合的默认初始化容量是16，默认加载因子是0.75。</p>
<p>HashTable集合的初始化容量为11，扩容为：原容量*2+1。</p>
<h5 id="自定义comparable接口进行排序"><a href="#自定义comparable接口进行排序" class="headerlink" title="自定义comparable接口进行排序"></a>自定义comparable接口进行排序</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter10;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">*TreeSet无法对自定义类型排序</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Person p1 = <span class="keyword">new</span> Person(<span class="number">12</span>,<span class="string">"xiaohonghong"</span>);</span><br><span class="line">    Person p2 = <span class="keyword">new</span> Person(<span class="number">12</span>,<span class="string">"xiaohuihui"</span>);</span><br><span class="line">    Person p3 = <span class="keyword">new</span> Person(<span class="number">11</span>,<span class="string">"xiaolizi"</span>);</span><br><span class="line">    Person p4 = <span class="keyword">new</span> Person(<span class="number">15</span>,<span class="string">"wangwu"</span>);</span><br><span class="line"></span><br><span class="line">    TreeSet&lt;Person&gt; ts = <span class="keyword">new</span> TreeSet&lt;&gt;();</span><br><span class="line">    ts.add(p1);</span><br><span class="line">    ts.add(p2);</span><br><span class="line">    ts.add(p3);</span><br><span class="line">    ts.add(p4);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (Person p : ts)&#123;</span><br><span class="line">      System.out.println(p);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//需要实现比较接口</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Person</span>&gt;</span>&#123;</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  String name;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(<span class="keyword">int</span> age,String name)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  * 重写比较规则,规则有我们指定</span></span><br><span class="line"><span class="comment">  * 根据什么比较，自己写</span></span><br><span class="line"><span class="comment">  * compareTo方法的返回值：</span></span><br><span class="line"><span class="comment">  * 返回0表示相同,value会覆盖</span></span><br><span class="line"><span class="comment">  * &gt;0,会再右子树上找</span></span><br><span class="line"><span class="comment">  * &lt;0,会在左子树上找</span></span><br><span class="line"><span class="comment">  * */</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Person p)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">this</span>.age == p.age)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.name.compareTo(p.name);   <span class="comment">//String类自己实现了Comparable接口</span></span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.age - p.age;    <span class="comment">//底层会进行大小判断</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Person&#123;"</span> +</span><br><span class="line">            <span class="string">"age="</span> + age +</span><br><span class="line">            <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h5 id="平衡二叉树数据结构"><a href="#平衡二叉树数据结构" class="headerlink" title="平衡二叉树数据结构"></a>平衡二叉树数据结构</h5><p><img src="/images/javaSE/image-20200910161820820.png" alt="image-20200910161820820"></p>
<h5 id="使用比较器的方式进行排序"><a href="#使用比较器的方式进行排序" class="headerlink" title="使用比较器的方式进行排序"></a>使用比较器的方式进行排序</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建treeSet集合的时候,使用比较器来进行比较,需要把比较器传入构造方法参数中</span></span><br><span class="line">    TreeSet&lt;Animal&gt; ts = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> AnimalComparator());</span><br><span class="line">    Animal a1 = <span class="keyword">new</span> Animal(<span class="number">18</span>);</span><br><span class="line">    Animal a2 = <span class="keyword">new</span> Animal(<span class="number">20</span>);</span><br><span class="line">    Animal a3 = <span class="keyword">new</span> Animal(<span class="number">17</span>);</span><br><span class="line">    Animal a4 = <span class="keyword">new</span> Animal(<span class="number">11</span>);</span><br><span class="line"></span><br><span class="line">    ts.add(a1);</span><br><span class="line">    ts.add(a2);</span><br><span class="line">    ts.add(a3);</span><br><span class="line">    ts.add(a4);</span><br><span class="line">  </span><br><span class="line">    <span class="keyword">for</span> (Animal a : ts)&#123;</span><br><span class="line">      System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Animal</span><span class="params">(<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Animal&#123;"</span> +</span><br><span class="line">            <span class="string">"age="</span> + age +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//编写animal比较器</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnimalComparator</span> <span class="keyword">implements</span> <span class="title">Comparator</span>&lt;<span class="title">Animal</span>&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Animal o1, Animal o2)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义比较规则 按照年龄排序</span></span><br><span class="line">    <span class="keyword">return</span> o1.age - o2.age;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter10;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TreeSetTest05</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//匿名内部类的方式传比较器</span></span><br><span class="line">    TreeSet&lt;Student&gt; ts = <span class="keyword">new</span> TreeSet&lt;&gt;(<span class="keyword">new</span> Comparator&lt;Student&gt;() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Student o1, Student o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.age - o2.age;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    ts.add(<span class="keyword">new</span> Student(<span class="string">"小明"</span>,<span class="number">12</span>));</span><br><span class="line">    ts.add(<span class="keyword">new</span> Student(<span class="string">"小张"</span>,<span class="number">123</span>));</span><br><span class="line">    ts.add(<span class="keyword">new</span> Student(<span class="string">"小离"</span>,<span class="number">120</span>));</span><br><span class="line">    ts.add(<span class="keyword">new</span> Student(<span class="string">"小怕"</span>,<span class="number">1</span>));</span><br><span class="line">    ts.add(<span class="keyword">new</span> Student(<span class="string">"小拍"</span>,<span class="number">11</span>));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(Student s : ts)&#123;</span><br><span class="line">      System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span></span>&#123;</span><br><span class="line">  String name;</span><br><span class="line">  <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name,<span class="keyword">int</span> age)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.age = age;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Student&#123;"</span> +</span><br><span class="line">            <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">", age="</span> + age +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p>放到TreeSet或者TreeMap集合key部分的元素想要做到排序：</p>
<ul>
<li>自定义comparable接口进行排序</li>
<li>使用比较器进行排序</li>
</ul>
<p>如果比较规则有多个的时候就是用比较器，如果比较规则少的时候就自定义comparable接口。</p>
<h3 id="IO流"><a href="#IO流" class="headerlink" title="IO流"></a>IO流</h3><p>通过IO(Input Output)流可以完成硬盘文件的读和写。</p>
<p><img src="/images/javaSE/image-20200911130914012.png" alt="image-20200911130914012"></p>
<h4 id="IO流的分类"><a href="#IO流的分类" class="headerlink" title="IO流的分类"></a>IO流的分类</h4><ol>
<li>按照流的方向进行分类,内存作为参照物：<ol>
<li>往内存中去，叫输入(Input)，或叫读(Read)。</li>
<li>从内存中出来，叫做输出(Output)，或者叫写(Write)。</li>
</ol>
</li>
<li>按照字节的方式读取数据，一次读取一个字节byte，等同于一次读取8个二进制位。</li>
<li>按照字符的方式读取数据。</li>
</ol>
<h4 id="流的四大家族"><a href="#流的四大家族" class="headerlink" title="流的四大家族"></a>流的四大家族</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.io.InputStream		<span class="comment">//字节输入流</span></span><br><span class="line">java.io.OutputStream 	<span class="comment">//字节输出流</span></span><br><span class="line">java.io.Reader 			<span class="comment">//字符输入流</span></span><br><span class="line">java.io.Writer			<span class="comment">//字符输出流</span></span><br></pre></td></tr></table></figure>

<p>四大家族都是抽象类。</p>
<p>所有的流都是可关闭的。</p>
<p>所有的<strong>流</strong>都实现了<code>java.io.Closeable</code>接口，都是可关闭的，都有<code>close()</code>方法。用完流都需要关闭，不然会消耗资源。</p>
<p>所有的<strong>输出流</strong>都实现了<code>java.io.Flushable</code>接口，都是可刷新的，都有<code>flush()</code>方法。</p>
<p>java.io包下需要掌握的流有16个：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//文件专属</span></span><br><span class="line">java.io.FileInputStream</span><br><span class="line">java.io.FileOutputStream</span><br><span class="line">java.io.FileReader</span><br><span class="line">java.io.FileWriter</span><br><span class="line"></span><br><span class="line"><span class="comment">//转化流:将字节流转化成字符流</span></span><br><span class="line">java.io.InputStreamReader</span><br><span class="line">java.io.OutputStreamWriter</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="comment">//缓冲流专属</span></span><br><span class="line">java.io.BufferedReader</span><br><span class="line">java.io.BufferedWriter</span><br><span class="line">java.io.BufferedInputStream</span><br><span class="line">java.io.BufferedOutputStream</span><br><span class="line">    </span><br><span class="line"><span class="comment">//数据流专属</span></span><br><span class="line">java.io.DataInputStream</span><br><span class="line">java.io.DataOutputStream</span><br><span class="line"> </span><br><span class="line"><span class="comment">//标准输出流</span></span><br><span class="line">java.io.PrintWriter</span><br><span class="line">java.io.PrintStream</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment">//对象专属流</span></span><br><span class="line">java.io.ObjectInputStream</span><br><span class="line">java.io.ObjectOutputStream</span><br></pre></td></tr></table></figure>







<h4 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * int read(byte[] b)</span></span><br><span class="line"><span class="comment"> * 一次读取b.length个字节</span></span><br><span class="line"><span class="comment"> * 减少硬盘和内存的交互,提高程序的执行效率</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileInputStreamTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">//java中以工程作为目录的根</span></span><br><span class="line">      fis = <span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line">      <span class="comment">//开始读,采用byte数组，一次读取多个字节。最多读取"数组.length"个字节</span></span><br><span class="line">      <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">4</span>];</span><br><span class="line">      <span class="comment">//这个方法的返回值是读取的字节的数量</span></span><br><span class="line">      <span class="keyword">int</span> readCount = fis.read(bytes);</span><br><span class="line">      System.out.println(readCount);    <span class="comment">//4</span></span><br><span class="line">      <span class="comment">//将字节数组转化成字符串</span></span><br><span class="line">      System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,readCount));    <span class="comment">//hell</span></span><br><span class="line"></span><br><span class="line">      readCount = fis.read(bytes);</span><br><span class="line">      System.out.println(readCount);    <span class="comment">//4</span></span><br><span class="line">      System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,readCount));    <span class="comment">//oWor</span></span><br><span class="line"></span><br><span class="line">      readCount = fis.read(bytes);</span><br><span class="line">      System.out.println(readCount);    <span class="comment">//2</span></span><br><span class="line">      System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,readCount));    <span class="comment">//ld</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">//读取不到字节数量,返回-1</span></span><br><span class="line">      readCount = fis.read(bytes);</span><br><span class="line">      System.out.println(readCount);    <span class="comment">//-1</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          fis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>修改版：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileInputStreamTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      fis = <span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line">      <span class="comment">//准备一个byte数组</span></span><br><span class="line">      <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">4</span>];</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      <span class="keyword">int</span> readCount = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span>((readCount = fis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(bytes,<span class="number">0</span>,readCount));</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          fis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="available-方法"><a href="#available-方法" class="headerlink" title="available()方法"></a><code>available()</code>方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *FileInputStream类的常用方法</span></span><br><span class="line"><span class="comment"> * int available()  返回流当中剩余的没有读到的字节数量</span></span><br><span class="line"><span class="comment"> * long skip()    跳过几个字节不读</span></span><br><span class="line"><span class="comment"> ***/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileInputStreamTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      fis = <span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line">      System.out.println(<span class="string">"总字节数量:"</span>+fis.available());   <span class="comment">//10</span></span><br><span class="line">      <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[fis.available()];   <span class="comment">//但是此方法不适用于大文件,因为byte[]容量有界限</span></span><br><span class="line">      <span class="keyword">int</span> readCount = fis.read(bytes);</span><br><span class="line">      System.out.println(<span class="keyword">new</span> String(bytes));      <span class="comment">//helloWorld</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件字节输出流</span></span><br><span class="line"><span class="comment"> * 从内存到硬盘</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileOutputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileOutputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">//第二个参数为true表示可以追加</span></span><br><span class="line">      fis = <span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/hello.text"</span>,<span class="keyword">true</span>);</span><br><span class="line">      <span class="comment">//写文件</span></span><br><span class="line">      <span class="keyword">byte</span>[] bytes = &#123;<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>,<span class="number">100</span>&#125;;</span><br><span class="line">      fis.write(bytes);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      String s = <span class="string">"你好,java"</span>;</span><br><span class="line">      <span class="comment">//将字符串转化成byte数组</span></span><br><span class="line">      <span class="keyword">byte</span>[] bytes2 = s.getBytes();</span><br><span class="line">      fis.write(bytes2);</span><br><span class="line">      <span class="comment">//写完之后要进行刷新</span></span><br><span class="line">      fis.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h5 id="文件复制原理"><a href="#文件复制原理" class="headerlink" title="文件复制原理"></a>文件复制原理</h5><p>文件拷贝的过程就是：一边读一边写的过程。内存是中间商一样。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileCopyTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">    FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">//创建一个输入流对象</span></span><br><span class="line">      fis = <span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">//创建一个输出流对象</span></span><br><span class="line">      fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"src/String/123.text"</span>);</span><br><span class="line">      <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>];     <span class="comment">//每次最多拷贝一兆</span></span><br><span class="line">      <span class="keyword">int</span> readCount =<span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> ((readCount = fis.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        fos.write(bytes,<span class="number">0</span>,readCount);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//输出流最后要刷新</span></span><br><span class="line">      fos.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          fis.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          fos.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileReaderTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileReader reader = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      reader = <span class="keyword">new</span> FileReader(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line">      <span class="comment">//开始读</span></span><br><span class="line">      <span class="keyword">char</span>[] chars = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>];     <span class="comment">//每次读取四个字符</span></span><br><span class="line">      <span class="keyword">int</span> readCount = <span class="number">0</span>;</span><br><span class="line">      <span class="keyword">while</span> ((readCount = reader.read(chars)) != -<span class="number">1</span>)&#123;</span><br><span class="line">        System.out.println(<span class="keyword">new</span> String(chars,<span class="number">0</span>,readCount));</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileWriterTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    FileWriter writer = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      writer = <span class="keyword">new</span> FileWriter(<span class="string">"src/IO/helloJava.text"</span>);</span><br><span class="line">      <span class="keyword">char</span>[] chars = &#123;<span class="string">'你'</span>,<span class="string">'好'</span>&#125;;</span><br><span class="line">      writer.write(chars);</span><br><span class="line">      writer.write(<span class="string">"\n"</span>);</span><br><span class="line">      writer.write(<span class="string">"hello world"</span>);</span><br><span class="line">      <span class="comment">//刷新</span></span><br><span class="line">      writer.flush();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * BufferedReader:带有缓冲区的字符输入流</span></span><br><span class="line"><span class="comment"> * 使用此流的时候不需要自定义char数组或byte数组,自带缓冲</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedReaderTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//BufferedReader也是一个包装流,此包装流中构造方法可以传节点流</span></span><br><span class="line">    FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      fr = <span class="keyword">new</span> FileReader(<span class="string">"src/IO/FileCopyTest01.java"</span>);</span><br><span class="line">      <span class="comment">//此处fr就是节点流</span></span><br><span class="line">      <span class="comment">//只能传字符流</span></span><br><span class="line">      BufferedReader br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">      <span class="comment">//读一行</span></span><br><span class="line">      String s = <span class="keyword">null</span>;</span><br><span class="line">      <span class="comment">//readLine()方法每次读取一行</span></span><br><span class="line">      <span class="keyword">while</span> ((s = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="转化流"><a href="#转化流" class="headerlink" title="转化流"></a>转化流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamTransformTest01</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span><span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//字节流</span></span><br><span class="line">    FileInputStream in = <span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/hellojava.text"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//转化流,将字节流转化成字符</span></span><br><span class="line">    InputStreamReader reader = <span class="keyword">new</span> InputStreamReader(in);</span><br><span class="line"></span><br><span class="line">    BufferedReader br = <span class="keyword">new</span> BufferedReader(reader);</span><br><span class="line"></span><br><span class="line">    String line = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">while</span> ((line = br.readLine()) != <span class="keyword">null</span>)&#123;</span><br><span class="line">      System.out.println(line);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    br.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferedWriterTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//BufferedWriter:带有缓冲区的字符输出流</span></span><br><span class="line"><span class="comment">//    BufferedWriter out = new BufferedWriter(new FileWriter("src/IO/456.text"));</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//转化流</span></span><br><span class="line">    BufferedWriter out = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(<span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/456.text"</span>)));</span><br><span class="line">    out.write(<span class="string">"hello world"</span>);</span><br><span class="line">    out.write(<span class="string">"\n"</span>);</span><br><span class="line">    out.write(<span class="string">"你好"</span>);</span><br><span class="line"></span><br><span class="line">    out.flush();</span><br><span class="line">    out.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h4 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h4><h5 id="DataOutputStream"><a href="#DataOutputStream" class="headerlink" title="DataOutputStream"></a>DataOutputStream</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * java.io.DataOutputStream:数据专属的流</span></span><br><span class="line"><span class="comment"> * 这个流可以将数据连同数据类型一并写入文件,但是此文件不是普通的文本文件</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataOutputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">//DataOutputStream是包装流</span></span><br><span class="line">    DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/data.text"</span>));</span><br><span class="line">    <span class="comment">//写数据</span></span><br><span class="line">    <span class="keyword">byte</span> b = <span class="number">100</span>;</span><br><span class="line">    <span class="keyword">short</span> s = <span class="number">200</span>;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">300</span>;</span><br><span class="line">    <span class="keyword">long</span> l =<span class="number">400L</span>;</span><br><span class="line">    <span class="keyword">float</span> f = <span class="number">3.0F</span>;</span><br><span class="line">    <span class="keyword">double</span> d = <span class="number">3.14</span>;</span><br><span class="line">    <span class="keyword">boolean</span> sex = <span class="keyword">false</span>;</span><br><span class="line">    <span class="keyword">char</span> c = <span class="string">'a'</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//写入</span></span><br><span class="line">    dos.writeByte(b);</span><br><span class="line">    dos.writeShort(s);</span><br><span class="line">    dos.writeInt(i);</span><br><span class="line">    dos.writeLong(l);</span><br><span class="line">    dos.writeFloat(f);</span><br><span class="line">    dos.writeDouble(d);</span><br><span class="line">    dos.writeBoolean(sex);</span><br><span class="line">    dos.writeChar(c);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//刷新</span></span><br><span class="line">    dos.flush();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭</span></span><br><span class="line">    dos.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="DataInputStream"><a href="#DataInputStream" class="headerlink" title="DataInputStream"></a>DataInputStream</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * DataInputStream:数据字节输入流</span></span><br><span class="line"><span class="comment"> * DataOutputStream写的文件只能用DataInputStream去读。</span></span><br><span class="line"><span class="comment"> * 读的顺序必须和写的顺序一致。才可以正常读数据。</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DataInputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    DataInputStream dis = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/data.text"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//开始读,必须和存的数据顺序相同</span></span><br><span class="line">    <span class="keyword">byte</span> b = dis.readByte();</span><br><span class="line">    <span class="keyword">short</span> s = dis.readShort();</span><br><span class="line">    <span class="keyword">int</span> i = dis.readInt();</span><br><span class="line">    <span class="keyword">long</span> l = dis.readLong();</span><br><span class="line">    <span class="keyword">float</span> f = dis.readFloat();</span><br><span class="line">    <span class="keyword">double</span> d = dis.readDouble();</span><br><span class="line">    <span class="keyword">boolean</span> sex = dis.readBoolean();</span><br><span class="line">    <span class="keyword">char</span> c = dis.readChar();</span><br><span class="line"></span><br><span class="line">    System.out.println(b);</span><br><span class="line">    System.out.println(s);</span><br><span class="line">    System.out.println(i);</span><br><span class="line">    System.out.println(l);</span><br><span class="line">    System.out.println(f);</span><br><span class="line">    System.out.println(d);</span><br><span class="line">    System.out.println(sex);</span><br><span class="line">    System.out.println(c);</span><br><span class="line"></span><br><span class="line">    dis.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="标准输出流"><a href="#标准输出流" class="headerlink" title="标准输出流"></a>标准输出流</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="comment">//日志工具</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Logger</span></span>&#123;</span><br><span class="line">  <span class="comment">//记录日志的方法</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(String msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      PrintStream out = <span class="keyword">new</span> PrintStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/log/log.text"</span>,<span class="keyword">true</span>));</span><br><span class="line">      <span class="comment">//改变输出方向，将println打印的字符写到log.text文件中</span></span><br><span class="line">      System.setOut(out);</span><br><span class="line">      <span class="comment">//当前日期时间</span></span><br><span class="line">      Date nowTime = <span class="keyword">new</span> Date();</span><br><span class="line">      SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss SSS"</span>);</span><br><span class="line">      String strTime = sdf.format(nowTime);</span><br><span class="line">      System.out.println(strTime+<span class="string">":"</span>+msg);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>进行测试：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.log;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Logger.log(<span class="string">"调用了System类的gc()方法"</span>);</span><br><span class="line">    Logger.log(<span class="string">"调用了System类的gc()方法"</span>);</span><br><span class="line">    Logger.log(<span class="string">"调用了System类的gc()方法"</span>);</span><br><span class="line">    Logger.log(<span class="string">"调用了System类的gc()方法"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="File"><a href="#File" class="headerlink" title="File"></a>File</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line"><span class="comment">//File是文件和目录路径名的抽象表示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    File f1 = <span class="keyword">new</span> File(<span class="string">"D:/hello"</span>);</span><br><span class="line">    <span class="comment">//如果该目录不存在则创建目录</span></span><br><span class="line">    <span class="keyword">if</span>(!f1.exists())&#123;</span><br><span class="line">      f1.mkdir();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File f2 = <span class="keyword">new</span> File(<span class="string">"D:/hello.text"</span>);</span><br><span class="line">    <span class="comment">//如果文件不存在,则创建文件</span></span><br><span class="line">    <span class="keyword">if</span>(!f1.exists())&#123;</span><br><span class="line">      f1.createNewFile();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File f3 = <span class="keyword">new</span> File(<span class="string">"F:\\PPT\\01 网络基础课程\\第1册-第1章-网络纵横.pptx"</span>);</span><br><span class="line">    <span class="comment">//获取文件的父路径</span></span><br><span class="line">    String parentPath = f3.getParent();</span><br><span class="line">    System.out.println(parentPath);     <span class="comment">//F:\PPT\01 网络基础课程</span></span><br><span class="line"></span><br><span class="line">    File f4 = <span class="keyword">new</span> File(<span class="string">"123.text"</span>);</span><br><span class="line">    <span class="comment">//获取绝对路径</span></span><br><span class="line">    System.out.println(<span class="string">"绝对路径是:"</span>+f4.getAbsolutePath());    <span class="comment">//绝对路径是:F:\JavaSE\123.text</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.File;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File f1 = <span class="keyword">new</span> File(<span class="string">"src/IO/123.text"</span>);</span><br><span class="line">    <span class="comment">//获取文件名</span></span><br><span class="line">    System.out.println(f1.getName());   <span class="comment">//123.text</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断是否是一个目录</span></span><br><span class="line">    System.out.println(f1.isDirectory());     <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断是否是一个文件</span></span><br><span class="line">    System.out.println(f1.isFile());      <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//判断文件最后一次修改时间</span></span><br><span class="line">    <span class="keyword">long</span> haoMiao = f1.lastModified();</span><br><span class="line">    Date time = <span class="keyword">new</span> Date(haoMiao);</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss SSS"</span>);</span><br><span class="line">    String strTime = sdf.format(time);</span><br><span class="line">    System.out.println(strTime);      <span class="comment">//2020-09-11 16:17:36 318</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取文件大小</span></span><br><span class="line">    System.out.println(f1.length());    <span class="comment">//10</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>













<h5 id="拷贝整个目录作业"><a href="#拷贝整个目录作业" class="headerlink" title="拷贝整个目录作业"></a>拷贝整个目录作业</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.homeWork;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CopyAll</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//拷贝源</span></span><br><span class="line">    File srcFile = <span class="keyword">new</span> File(<span class="string">"F:\\PPT"</span>);</span><br><span class="line">    <span class="comment">//拷贝目标</span></span><br><span class="line">    File desFile = <span class="keyword">new</span> File(<span class="string">"E:\\"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用方法拷贝</span></span><br><span class="line">    copyDir(srcFile,desFile);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">copyDir</span><span class="params">(File srcFile, File destFile)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(srcFile.isFile())&#123;</span><br><span class="line">      FileInputStream in = <span class="keyword">null</span>;</span><br><span class="line">      FileOutputStream out = <span class="keyword">null</span>;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        in = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">        String path = (destFile.getAbsolutePath().endsWith(<span class="string">"\\"</span>)?destFile.getAbsolutePath():destFile.getAbsolutePath()+<span class="string">"\\"</span>)+srcFile.getAbsolutePath().substring(<span class="number">3</span>);</span><br><span class="line">        out = <span class="keyword">new</span> FileOutputStream(path);</span><br><span class="line">        <span class="comment">//一边读一边写</span></span><br><span class="line">        <span class="keyword">byte</span>[] bytes = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>];     <span class="comment">//一次复制一兆</span></span><br><span class="line">        <span class="keyword">int</span> readCount = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> ((readCount = in.read(bytes)) != -<span class="number">1</span>)&#123;</span><br><span class="line">          out.write(bytes,<span class="number">0</span>,readCount);</span><br><span class="line">        &#125;</span><br><span class="line">        out.flush();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span>(out != <span class="keyword">null</span>)&#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            out.close();</span><br><span class="line">          &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(in != <span class="keyword">null</span>)&#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            in.close();</span><br><span class="line">          &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获取源下面的子目录</span></span><br><span class="line">    File[] files = srcFile.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File file : files)&#123;</span><br><span class="line">      <span class="comment">//递归调用,如果是目录就继续获取子目录</span></span><br><span class="line"><span class="comment">//      System.out.println(file.getAbsolutePath());</span></span><br><span class="line">      <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">        <span class="comment">//新建对应的目录</span></span><br><span class="line">        String srcDir = file.getAbsolutePath();</span><br><span class="line">        String destDir = (destFile.getAbsolutePath().endsWith(<span class="string">"\\"</span>)?destFile.getAbsolutePath():destFile.getAbsolutePath()+<span class="string">"\\"</span>)+srcDir.substring(<span class="number">3</span>);</span><br><span class="line">        File newFile = <span class="keyword">new</span> File(destDir);</span><br><span class="line">        <span class="keyword">if</span>(!newFile.exists())&#123;</span><br><span class="line">          newFile.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      copyDir(file,destFile);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="ObjectOutputStream和ObjectInputStream"><a href="#ObjectOutputStream和ObjectInputStream" class="headerlink" title="ObjectOutputStream和ObjectInputStream"></a>ObjectOutputStream和ObjectInputStream</h4><h5 id="序列化和反序列化"><a href="#序列化和反序列化" class="headerlink" title="序列化和反序列化"></a>序列化和反序列化</h5><p><img src="/images/javaSE/image-20200913113622431.png" alt="image-20200913113622431"></p>
<p><strong>序列化</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectOutputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//创建java对象</span></span><br><span class="line">    Student s = <span class="keyword">new</span> Student(<span class="number">123</span>,<span class="string">"小明"</span>);</span><br><span class="line">    <span class="comment">//序列化</span></span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/serialize"</span>));</span><br><span class="line"></span><br><span class="line">    <span class="comment">//序列化对象</span></span><br><span class="line">    oos.writeObject(s);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//刷新</span></span><br><span class="line">    oos.flush();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//关闭</span></span><br><span class="line">    oos.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 类参与序列化需要实现Serialize接口,Serialize接口起到标识的作用</span></span><br><span class="line"><span class="comment"> * Serialize标志接口是给java虚拟机参考的,java虚拟机看到这个接口后</span></span><br><span class="line"><span class="comment"> * 就会自动生成一个序列化版本号。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line">  String name;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Student&#123;"</span> +</span><br><span class="line">            <span class="string">"id="</span> + id +</span><br><span class="line">            <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><strong>反序列化</strong>：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectInputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/serialize"</span>));</span><br><span class="line">    <span class="comment">//开始反序列化</span></span><br><span class="line">    Object obj = ois.readObject();</span><br><span class="line">    System.out.println(obj);      <span class="comment">//Student&#123;id=123, name='小明'&#125;</span></span><br><span class="line">    ois.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p>序列化的时候存多个对象要用List集合：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.serialize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectOutputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    ObjectOutputStream oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"src/IO/serialize/user"</span>));</span><br><span class="line">    List&lt;User&gt; userList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    userList.add(<span class="keyword">new</span> User(<span class="number">001</span>,<span class="string">"小明"</span>));</span><br><span class="line">    userList.add(<span class="keyword">new</span> User(<span class="number">002</span>,<span class="string">"小红"</span>));</span><br><span class="line">    userList.add(<span class="keyword">new</span> User(<span class="number">003</span>,<span class="string">"小张"</span>));</span><br><span class="line">    <span class="comment">//序列化一个集合,集合中存在多个对象</span></span><br><span class="line">    oos.writeObject(userList);</span><br><span class="line">    oos.flush();</span><br><span class="line">    oos.close();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">  <span class="keyword">int</span> id;</span><br><span class="line">  String name;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(<span class="keyword">int</span> id, String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">            <span class="string">"id="</span> + id +</span><br><span class="line">            <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">            <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.serialize;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectInputStreamTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    ObjectInputStream ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"src/IO/serialize/user"</span>));</span><br><span class="line">    List&lt;User&gt; userList = (List&lt;User&gt;)ois.readObject();</span><br><span class="line">    <span class="keyword">for</span> (User user : userList)&#123;</span><br><span class="line">      System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="transient关键字"><a href="#transient关键字" class="headerlink" title="transient关键字"></a>transient关键字</h5><p>transient关键字标识游离的，不参与序列化操作。</p>
<p>修饰的对象属性不参与序列化。</p>
<h5 id="自动生成序列化版本号缺陷"><a href="#自动生成序列化版本号缺陷" class="headerlink" title="自动生成序列化版本号缺陷"></a>自动生成序列化版本号缺陷</h5><p>一旦代码确定之后，就不能进行后续的修改。</p>
<p>只要修改，就会重新编译，此时会生成全新的序列化版本号，这个时候java虚拟机就会认为这是一个全新的类。</p>
<p>所以，一个类凡是实现了Serializable接口，就给该类提供一个固定不变的序列化版本号。</p>
<p>这样即使以后这个类的代码被修改了，但是这个版本号不变，java虚拟机会认为这是同一个类。</p>
<h4 id="IO-Properties"><a href="#IO-Properties" class="headerlink" title="IO+Properties"></a>IO+Properties</h4><p>IO+Properties是一个非常好的设计理念，以后遇到经常改变的数据，可以单独写到一个文件中，使用程序动态读取。</p>
<p>将来修改此文件的内容的时候，java代码不需要改动，不需要重新编译，服务器也不需要重启。就可以拿到动态的信息。</p>
<p>前提是文件中的格式是：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">key</span>=<span class="string">value</span></span><br><span class="line"><span class="attr">key</span>=<span class="string">value</span></span><br><span class="line"><span class="attr">key</span>=<span class="string">value</span></span><br><span class="line"><span class="attr">key</span>=<span class="string">value</span></span><br><span class="line"><span class="attr">key</span>=<span class="string">value</span></span><br></pre></td></tr></table></figure>

<p>这种配置文件称为属性配置文件。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> IO.IoProperties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IoPropertiesTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     *Properties是一个Map集合,key和value都是String类型。</span></span><br><span class="line"><span class="comment">     * 现在将test文件中的信息加载到Properties对象中。</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="comment">//创建一个输入流对象</span></span><br><span class="line">    FileReader reader = <span class="keyword">new</span> FileReader(<span class="string">"src/IO/IoProperties/test"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建一个Map集合</span></span><br><span class="line">    Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用Properties对象的load方法将文件加载到Map集合中。</span></span><br><span class="line">    pro.load(reader);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过key来获取value</span></span><br><span class="line">    String username = pro.getProperty(<span class="string">"username"</span>);</span><br><span class="line">    System.out.println(username);     <span class="comment">//小灰灰</span></span><br><span class="line">    String password = pro.getProperty(<span class="string">"password"</span>);</span><br><span class="line">    System.out.println(password);     <span class="comment">//123456</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h3 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h3><p>运行一个java文件的时候，会先启动JVM，而JVM就是一个进程。<strong>JVM再启动一个主线程调用main方法。同时再启动一个垃圾回收线程负责回收垃圾。</strong></p>
<p>在java语言中：</p>
<ul>
<li><strong>堆内存和方法区内存共享</strong>。</li>
<li><strong>栈内存独立，一个线程一个栈</strong>。</li>
</ul>
<p>加入启动10个线程，会有10个栈空间，每个栈和每个栈之间互不干扰，这就是多线程并发。</p>
<p>多个CPU表示多个进程并发，4核CUP表示4个进程并发执行。 </p>
<h4 id="实现线程的方式"><a href="#实现线程的方式" class="headerlink" title="实现线程的方式"></a>实现线程的方式</h4><p><strong>第一种方式</strong>：编写一个类,直接继承java.lang.Thread,重写run方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 编写一个类,直接继承java.lang.Thread,重写run方法</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//这里是main方法,属于主线程,在主栈中运行</span></span><br><span class="line">    <span class="comment">//创建一个分支线程对象</span></span><br><span class="line">    MyThread myThread = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line">    myThread.run();		<span class="comment">//只调用run方法的话,不会启动新的线程，不会分配新的分支栈。  </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//启动线程,调用线程对象的start方法</span></span><br><span class="line">    <span class="comment">//此方法作用是启动一个分支线程,在JVM中开辟一个新的栈空间</span></span><br><span class="line">    <span class="comment">//启动成功的线程会自动调用run方法,并且run方法在分支栈的栈底部(压栈)</span></span><br><span class="line">    <span class="comment">//main方法运行在主栈的栈底部,run和main是平级的</span></span><br><span class="line">    myThread.start();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//主线程中的代码</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"主线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"分支线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<p><strong>第二种方式</strong>：编写一个类实现java.lang.Runnable接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 实现线程的第二个方式,编写一个类实现java.lang.Runnable接口。</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest02</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个可运行的对象</span></span><br><span class="line">    MyRunnable r = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">    <span class="comment">//将可运行的对象封装成一个线程对象</span></span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread(r);</span><br><span class="line">    <span class="comment">//启动线程</span></span><br><span class="line">    t.start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"主线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这不是一个线程类,是一个可运行的类.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"分支线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>使用匿名内部类的方式：</p>
<p>匿名内部类就是没有名字的类,new出来的对象。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//匿名内部类创建线程对象</span></span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">      <span class="meta">@Override</span></span><br><span class="line">      <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">          System.out.println(<span class="string">"分支线程==&gt;"</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动线程</span></span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"主线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="线程生命周期"><a href="#线程生命周期" class="headerlink" title="线程生命周期"></a>线程生命周期</h4><p><img src="/images/javaSE/image-20200914160007758.png" alt="image-20200914160007758"></p>
<h4 id="获取线程的名字"><a href="#获取线程的名字" class="headerlink" title="获取线程的名字"></a><strong>获取线程的名字</strong></h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String name = 线程对象.getName();		<span class="comment">//获取线程对象的名字</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">线程对象.srtName(<span class="string">"线程名称"</span>);			<span class="comment">//修改线程对象的名字</span></span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//当前线程对象</span></span><br><span class="line">    Thread currentThread = Thread.currentThread();</span><br><span class="line">    System.out.println(currentThread.getName());      <span class="comment">//main</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建线程对象</span></span><br><span class="line">    MyThread2 t = <span class="keyword">new</span> MyThread2();</span><br><span class="line">    System.out.println(t.getName());    <span class="comment">//Thread-0</span></span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建线程对象2</span></span><br><span class="line">    MyThread2 t2 = <span class="keyword">new</span> MyThread2();</span><br><span class="line">    System.out.println(t2.getName());     <span class="comment">//Thread-1</span></span><br><span class="line">    t2.start();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"主线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">      <span class="comment">//哪个线程执行run方法,当前线程就是哪个线程</span></span><br><span class="line">      Thread currentThread2 = Thread.currentThread();</span><br><span class="line">      System.out.println(currentThread2.getName()+<span class="string">"分支线程==&gt;"</span>+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="线程的睡眠及终止"><a href="#线程的睡眠及终止" class="headerlink" title="线程的睡眠及终止"></a>线程的睡眠及终止</h4><h5 id="sleep方法"><a href="#sleep方法" class="headerlink" title="sleep方法"></a>sleep方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *关于线程的sleep方法:</span></span><br><span class="line"><span class="comment"> * static void sleep(long millis)</span></span><br><span class="line"><span class="comment"> * 作用:让当前线程进入休眠,进入"阻塞状态",放弃占有的CUP时间片,让其它线程使用</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest05</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">      System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;"</span>+i);</span><br><span class="line">      <span class="comment">//每循环一次睡眠1秒</span></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="终止线程的睡眠"><a href="#终止线程的睡眠" class="headerlink" title="终止线程的睡眠"></a>终止线程的睡眠</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *终止线程的睡眠</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest06</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyRunnable2());</span><br><span class="line">    t.setName(<span class="string">"t"</span>);</span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      Thread.sleep(<span class="number">1000</span>*<span class="number">5</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//中断睡眠,中断睡眠的方式依靠了java的异常处理机制</span></span><br><span class="line">    t.interrupt();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable2</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="comment">//run方法当中不能抛异常,因为run()方法父类中没有抛出任何的异常,子类不能比父类抛出更多的异常</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;begin"</span>);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">//睡眠一年</span></span><br><span class="line">      Thread.sleep(<span class="number">1000</span>*<span class="number">60</span>*<span class="number">60</span>*<span class="number">30</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;end"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h5 id="合理终止线程的执行"><a href="#合理终止线程的执行" class="headerlink" title="合理终止线程的执行"></a>合理终止线程的执行</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 合理的终止一个线程</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest08</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    MyRunnable4 r = <span class="keyword">new</span> MyRunnable4();</span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread(r);</span><br><span class="line">    t.setName(<span class="string">"t"</span>);</span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//睡眠五秒</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      Thread.sleep(<span class="number">1000</span>*<span class="number">5</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//终止线程</span></span><br><span class="line">    r.run = <span class="keyword">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable4</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">boolean</span> run = <span class="keyword">true</span>;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">      <span class="keyword">if</span>(run)&#123;</span><br><span class="line">        System.out.println(<span class="string">"分支线程==&gt;"</span>+i);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">          e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//终止当前线程</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="线程调度"><a href="#线程调度" class="headerlink" title="线程调度"></a>线程调度</h4><h5 id="常见的线程调度方式"><a href="#常见的线程调度方式" class="headerlink" title="常见的线程调度方式"></a>常见的线程调度方式</h5><ul>
<li><p>抢占式调度模型</p>
<p>哪个线程的优先级比较高，抢到的CPU时间片的概率就高一些/多一些。java采用的是抢占式调度模型。</p>
</li>
<li><p>均分式调度模型</p>
<p>平均分配CPU时间片，每个线程占有的时间片时间长度一样。</p>
</li>
</ul>
<h5 id="线程调度有关的方法"><a href="#线程调度有关的方法" class="headerlink" title="线程调度有关的方法"></a>线程调度有关的方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setPriority</span><span class="params">(<span class="keyword">int</span> newPriority)</span>		<span class="comment">//设置线程的优先级</span></span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getPriority</span><span class="params">()</span>		<span class="comment">//获取线程优先级</span></span></span><br><span class="line"><span class="function">    </span></span><br><span class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">yield</span><span class="params">()</span>		<span class="comment">//让位方法,暂停当前正在执行的线程对象，并执行其它的线程。从运行状态变为就绪状态。</span></span></span><br></pre></td></tr></table></figure>

<p>最低优先级是1，默认优先级是5，最高优先级是10。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 关于线程的优先级</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest09</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"最高优先级"</span>+Thread.MAX_PRIORITY);</span><br><span class="line">    System.out.println(<span class="string">"默认优先级"</span>+Thread.NORM_PRIORITY);</span><br><span class="line">    System.out.println(<span class="string">"最高优先级"</span>+Thread.MIN_PRIORITY);</span><br><span class="line"></span><br><span class="line">    Thread currentThread = Thread.currentThread();</span><br><span class="line">    String name = currentThread.getName();</span><br><span class="line">    System.out.println(name+<span class="string">"默认优先级是:"</span>+currentThread.getPriority());</span><br><span class="line"></span><br><span class="line">    Thread t = <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyRunnable5());</span><br><span class="line">    t.setName(<span class="string">"t"</span>);</span><br><span class="line">    t.start();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//主线程程序</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">      System.out.println(Thread.currentThread().getName()+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyRunnable5</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//获取当前线程的优先级</span></span><br><span class="line">    Thread.currentThread().setPriority(<span class="number">10</span>);     <span class="comment">//设置优先级为10,抢夺CPU时间片相对多一些</span></span><br><span class="line">    System.out.println(Thread.currentThread().getName()+<span class="string">"的线程优先级是:"</span>+Thread.currentThread().getPriority());</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10000</span>;i++)&#123;</span><br><span class="line">      System.out.println(Thread.currentThread().getName()+i);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h4 id="线程安全"><a href="#线程安全" class="headerlink" title="线程安全"></a>线程安全</h4><h5 id="什么时候会存在线程安全问题？"><a href="#什么时候会存在线程安全问题？" class="headerlink" title="什么时候会存在线程安全问题？"></a>什么时候会存在线程安全问题？</h5><ol>
<li>多线程并发</li>
<li>有共享数据</li>
<li>共享数据有修改行为</li>
</ol>
<p>解决线程安全问题的方法：</p>
<p><strong>线程同步机制</strong>：线程排队执行，不并发。</p>
<h5 id="同步编程模型和异步编程模型"><a href="#同步编程模型和异步编程模型" class="headerlink" title="同步编程模型和异步编程模型"></a>同步编程模型和异步编程模型</h5><p><strong>异步编程模型</strong>：线程t1和线程t2，各自执行各的，一个不管一个，也叫多线程并发(效率较高)。</p>
<p><strong>同步编程模型</strong>：线程t1和线程t2，线程t1执行的时候，线程t2必须等待t1执行结束，才能执行。两个线程之间发生了等待关系，线程排队执行。</p>
<h5 id="模拟两个线程对同一个账户取款-非线程同步机制"><a href="#模拟两个线程对同一个账户取款-非线程同步机制" class="headerlink" title="模拟两个线程对同一个账户取款(非线程同步机制)"></a>模拟两个线程对同一个账户取款(非线程同步机制)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.threadsafe;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 不使用线程同步机制，多线程对同一个账户进行取款，出现线程安全问题</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建账户对象</span></span><br><span class="line">    Account act = <span class="keyword">new</span> Account(<span class="string">"act-001"</span>,<span class="number">10000</span>);</span><br><span class="line">    <span class="comment">//创建两个线程</span></span><br><span class="line">    Thread t1 = <span class="keyword">new</span> AccountThread(act);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> AccountThread(act);</span><br><span class="line"></span><br><span class="line">    t1.setName(<span class="string">"t1"</span>);</span><br><span class="line">    t2.setName(<span class="string">"t2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动取款线程</span></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//银行账户</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">  <span class="comment">//账号</span></span><br><span class="line">  <span class="keyword">private</span> String acton;</span><br><span class="line">  <span class="comment">//余额</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> balance;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(String acton, <span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.acton = acton;</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setActon</span><span class="params">(String acton)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.acton = acton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getActon</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> acton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBalance</span><span class="params">(<span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getBalance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">double</span> money)</span></span>&#123;</span><br><span class="line">    <span class="comment">//取款之前余额</span></span><br><span class="line">    <span class="keyword">double</span> before = <span class="keyword">this</span>.getBalance();</span><br><span class="line">    <span class="comment">//取款之后余额</span></span><br><span class="line">    <span class="keyword">double</span> after = before-money;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//模拟网络延迟一秒,没有及时更新余额</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//更新余额</span></span><br><span class="line">    <span class="keyword">this</span>.setBalance(after);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AccountThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Account act;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//通过构造方法传入账户对象</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">AccountThread</span><span class="params">(Account act)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.act = act;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//run方法的执行表示取款操作</span></span><br><span class="line">    <span class="keyword">double</span> money = <span class="number">5000</span>;</span><br><span class="line">    <span class="comment">//取款5000元</span></span><br><span class="line">    act.withdraw(money);</span><br><span class="line">    System.out.println(Thread.currentThread().getName()+<span class="string">"对"</span>+act.getActon()+<span class="string">"取款"</span>+money+<span class="string">"元"</span>+<span class="string">",余额为:"</span>+act.getBalance());</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h5 id="模拟两个线程对同一个账户取款-线程同步机制"><a href="#模拟两个线程对同一个账户取款-线程同步机制" class="headerlink" title="模拟两个线程对同一个账户取款(线程同步机制)"></a>模拟两个线程对同一个账户取款(线程同步机制)</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.threadsafe;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 不使用线程同步机制，多线程对同一个账户进行取款，出现线程安全问题</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建账户对象</span></span><br><span class="line">    Account act = <span class="keyword">new</span> Account(<span class="string">"act-002"</span>,<span class="number">10000</span>);</span><br><span class="line">    <span class="comment">//创建两个线程</span></span><br><span class="line">    Thread t1 = <span class="keyword">new</span> AccountThread(act);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> AccountThread(act);</span><br><span class="line"></span><br><span class="line">    t1.setName(<span class="string">"t1"</span>);</span><br><span class="line">    t2.setName(<span class="string">"t2"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动取款线程</span></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//银行账户</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">  <span class="comment">//账号</span></span><br><span class="line">  <span class="keyword">private</span> String acton;</span><br><span class="line">  <span class="comment">//余额</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">double</span> balance;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(String acton, <span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.acton = acton;</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setActon</span><span class="params">(String acton)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.acton = acton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getActon</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> acton;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBalance</span><span class="params">(<span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.balance = balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getBalance</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> balance;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">withdraw</span><span class="params">(<span class="keyword">double</span> money)</span></span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * synchronized(共享对象)&#123;&#125;</span></span><br><span class="line"><span class="comment">    * 假设有t1,t2,t3,t4,t5五个线程,你只希望t1,t2,t3排队,t4,t5不需要排队</span></span><br><span class="line"><span class="comment">    * 就要在参数中写t1 t2 t3 共享的对象。这个对象对于t4 t5是不共享的</span></span><br><span class="line"><span class="comment">    * 括号里只要是t1 t2 t3需要排队的对象就行了</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * java对象中,每个对象都有一把锁</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * 执行原理:</span></span><br><span class="line"><span class="comment">    * 1.假设t1和t2线程并发,执行一下代码的时候,肯定一个在前一个在后</span></span><br><span class="line"><span class="comment">    * 2.假设t1先执行了,遇到synchronized,这个时候就会自动找"共享对象"的对象锁,找到之后</span></span><br><span class="line"><span class="comment">    * 占有这把锁,直到同步代码块结束,这把锁才会释放</span></span><br><span class="line"><span class="comment">    * 3.假设t1已经占有了这把锁,此时t2也遇到synchronized关键字,t2也会去占有后面共享对象的这把锁,</span></span><br><span class="line"><span class="comment">    * 结果这把锁被t1占有,t2只能在同步代码块外等待t1占有,t2只能在同步代码块外面等待t1的结束,</span></span><br><span class="line"><span class="comment">    * 直到t1把同步代码块结束了,t1会归还这把锁,此时t2等到了这把锁,然后t2占有这把锁,进入同步代码块</span></span><br><span class="line"><span class="comment">    * 执行程序</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>)&#123;    <span class="comment">//此处不一定是this,只要是多线程共享的那个对象</span></span><br><span class="line">      <span class="comment">//取款之前余额</span></span><br><span class="line">      <span class="keyword">double</span> before = <span class="keyword">this</span>.getBalance();</span><br><span class="line">      <span class="comment">//取款之后余额</span></span><br><span class="line">      <span class="keyword">double</span> after = before-money;</span><br><span class="line"></span><br><span class="line">      <span class="comment">//模拟网络延迟一秒,没有及时更新余额</span></span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//更新余额</span></span><br><span class="line">      <span class="keyword">this</span>.setBalance(after);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AccountThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Account act;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//通过构造方法传入账户对象</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">AccountThread</span><span class="params">(Account act)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.act = act;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//run方法的执行表示取款操作</span></span><br><span class="line">    <span class="keyword">double</span> money = <span class="number">5000</span>;</span><br><span class="line">    <span class="comment">//取款5000元</span></span><br><span class="line">    act.withdraw(money);</span><br><span class="line">    System.out.println(Thread.currentThread().getName()+<span class="string">"对"</span>+act.getActon()+<span class="string">"取款"</span>+money+<span class="string">"元"</span>+<span class="string">",余额为:"</span>+act.getBalance());</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h5 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h5><p>java中三大变量：局部变量，实例变量，静态变量。</p>
<p>只有局部变量和常量不涉及线程安全问题，其它都涉及。</p>
<p><strong>synchronized可以出现在实例方法</strong></p>
<p><code>synchronized</code>可以出现在实例方法上，一定锁的是this，不能是其它对象。</p>
<p>并且代表整个方法体都需要同步，可能会无故扩大同步的范围，导致程序的执行范围降低，所以这种方式不常用。</p>
<p><strong>解决线程安全问题</strong></p>
<ol>
<li>尽量使用局部变量代替”实例变量”和”静态变量”。</li>
<li>如果必须是实例变量。则考虑创建多个对象，这样实例变量的内存就不共享了。(一个线程对应一个对象，100个线程对应100个对象，对象不共享就没有数据安全问题)。</li>
<li>如果不能使用局部变量，对象也不能创建多个，这个时候只能使用<code>sunchronized</code>，线程同步机制。</li>
</ol>
<p><strong>synchronizd的三种写法</strong></p>
<ol>
<li><p>同步代码块(灵活)</p>
<p>synchronized(线程共享对象){</p>
<p>​    同步代码块；</p>
<p>}</p>
</li>
<li><p>在实例方法上使用synchronized，表示共享对象一定是this，并且同步代码块是整个方法体。</p>
</li>
<li><p>在静态方法上使用synchronized，表示找类锁，类锁只有一把，就算创建了一百个对象，类锁也只有一把。</p>
</li>
</ol>
<h5 id="死锁"><a href="#死锁" class="headerlink" title="死锁"></a>死锁</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.deadlock;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLock</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    Object o1 = <span class="keyword">new</span> Object();</span><br><span class="line">    Object o2 = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//t1和t2两个线程共享o1,o2</span></span><br><span class="line">    Thread t1 = <span class="keyword">new</span> MyThread1(o1,o2);</span><br><span class="line">    Thread t2 = <span class="keyword">new</span> MyThread2(o1,o2);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//启动线程</span></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread1</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  Object o1;</span><br><span class="line">  Object o2;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyThread1</span><span class="params">(Object o1,Object o2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.o1 = o1;</span><br><span class="line">    <span class="keyword">this</span>.o2 = o2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (o1)&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">synchronized</span> (o2)&#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  Object o1;</span><br><span class="line">  Object o2;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">MyThread2</span><span class="params">(Object o1,Object o2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.o1 = o1;</span><br><span class="line">    <span class="keyword">this</span>.o2 = o2;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (o2)&#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">synchronized</span> (o1)&#123;</span><br><span class="line"></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h4 id="守护线程"><a href="#守护线程" class="headerlink" title="守护线程"></a>守护线程</h4><p>java中线程分为两大类：<strong>用户线程和守护线程</strong>(后台线程)。</p>
<p>垃圾回收线程就是一个守护线程。</p>
<p><strong>守护线程的特点</strong>:一般守护线程是一个死循环，所有用户线程只要结束，守护线程自动结束。</p>
<p>主线程main方法是一个用户线程。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest10</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    BackDataThread back = <span class="keyword">new</span> BackDataThread();</span><br><span class="line">    back.setName(<span class="string">"守护线程"</span>);</span><br><span class="line">    <span class="comment">//将此线程设置为守护线程</span></span><br><span class="line">    back.setDaemon(<span class="keyword">true</span>);</span><br><span class="line">    back.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//主线程,用户线程</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">      System.out.println(<span class="string">"主线程==&gt;"</span>+i);</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>*<span class="number">1</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BackDataThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//即使是死循环,但由于该线程是守护者,用户线程结束,守护线程自动结束</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">      System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;"</span>+(++i));</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>*<span class="number">1</span>);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h4><p>定时器的作用：间隔特定的时间，执行特定的程序。</p>
<p><strong>实现线程的第一种方式：sleep</strong></p>
<p><strong>实现线程的第二种方式：Timer</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.text.SimpleDateFormat;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Timer;</span><br><span class="line"><span class="keyword">import</span> java.util.TimerTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用定时器指定定时任务</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TimerTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//创建定时器对象</span></span><br><span class="line">    Timer timer = <span class="keyword">new</span> Timer();</span><br><span class="line"><span class="comment">//    Timer timer1 = new Timer(true);   //守护线程的方式</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//指定定时任务</span></span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">    Date firstTime = sdf.parse(<span class="string">"2020-09-17 12:36:00"</span>);</span><br><span class="line">    timer.schedule(<span class="keyword">new</span> LogTimerTask(),firstTime,<span class="number">1000</span>*<span class="number">10</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//编写定时任务类</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogTimerTask</span> <span class="keyword">extends</span> <span class="title">TimerTask</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    SimpleDateFormat sdf = <span class="keyword">new</span> SimpleDateFormat(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>);</span><br><span class="line">    String strTime = sdf.format(<span class="keyword">new</span> Date());</span><br><span class="line">    System.out.println(strTime+<span class="string">":成功完成数据备份"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="wait和notify方法"><a href="#wait和notify方法" class="headerlink" title="wait和notify方法"></a>wait和notify方法</h4><p>wait和notiy方法是Object类自带的。</p>
<ul>
<li>wait()方法：让o对象上活动的线程进入等待状态，无期限等待，直到被唤醒。</li>
<li>notify()方法：唤醒正在o对象上等待的线程。</li>
</ul>
<p><img src="/images/javaSE/image-20200917132650020.png" alt="image-20200917132650020"></p>
<p><strong>生产者和消费者模式</strong>：</p>
<p><img src="/images/javaSE/image-20200917145540956.png" alt="image-20200917145540956"></p>
<p>代码实现：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter11.thread;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 使用wait和notify方法实现"生产者和消费者模式"</span></span><br><span class="line"><span class="comment"> * **/</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest11</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//创建一个仓库对象,共享的</span></span><br><span class="line">    List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">    <span class="comment">//创建两个线程对象</span></span><br><span class="line">    <span class="comment">//生产者线程</span></span><br><span class="line">    Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Producer(list));</span><br><span class="line">    <span class="comment">//消费者线程</span></span><br><span class="line">    Thread t2 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> Consumer(list));</span><br><span class="line"></span><br><span class="line">    t1.setName(<span class="string">"生产者线程"</span>);</span><br><span class="line">    t2.setName(<span class="string">"消费者线程"</span>);</span><br><span class="line"></span><br><span class="line">    t1.start();</span><br><span class="line">    t2.start();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//生产线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Producer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="comment">//仓库</span></span><br><span class="line">  <span class="keyword">private</span> List list;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Producer</span><span class="params">(List list)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.list = list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//一直生产</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">      <span class="comment">//给仓库对象list加锁</span></span><br><span class="line">      <span class="keyword">synchronized</span> (list)&#123;</span><br><span class="line">        <span class="comment">//当仓库有元素</span></span><br><span class="line">        <span class="keyword">if</span> (list.size()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">          <span class="comment">//当前线程进入等待状态,并且释放producer之前占有的list集合的锁</span></span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            list.wait();</span><br><span class="line">          &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//说明仓库没有满,添加元素</span></span><br><span class="line">        Object obj = <span class="keyword">new</span> Object();</span><br><span class="line">        list.add(obj);</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;"</span>+obj);</span><br><span class="line">        <span class="comment">//唤醒消费者进行消费</span></span><br><span class="line">        list.notify();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//消费线程</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Consumer</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">  <span class="comment">//仓库</span></span><br><span class="line">  <span class="keyword">private</span> List list;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Consumer</span><span class="params">(List list)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.list = list;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//消费</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">      <span class="keyword">synchronized</span> (list)&#123;</span><br><span class="line">        <span class="keyword">if</span>(list.size() == <span class="number">0</span>)&#123;</span><br><span class="line">          <span class="comment">//仓库已经空了</span></span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//仓库已经空了,释放list集合的锁</span></span><br><span class="line">            list.wait();</span><br><span class="line">          &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//程序执行到此处说明仓库有数据,可消费</span></span><br><span class="line">        Object obj = list.remove(<span class="number">0</span>);</span><br><span class="line">        System.out.println(Thread.currentThread().getName()+<span class="string">"==&gt;"</span>+obj);</span><br><span class="line">        <span class="comment">//唤醒生产者生产</span></span><br><span class="line">        list.notify();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

















<h3 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a>反射机制</h3><p>反射机制可以操纵字节码文件，可以读和修改字节码文件。</p>
<p>反射机制相关重要的类：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">java.lang.Class:  	代表整个字节码，代表一个类型，代表整个类</span><br><span class="line">java.lang.reflect.Method:	代表字节码中的方法字节码，代表类中的方法</span><br><span class="line">java.lang.reflect.Constructor:	代表字节码中的构造方法字节码,代表类的构造方法</span><br><span class="line">java.lang.reflect.Field:	代码字节码中的属性字节码。代表类中的成员变量(静态变量+实例变量)</span><br></pre></td></tr></table></figure>



<h4 id="java中获取Class的三种方式"><a href="#java中获取Class的三种方式" class="headerlink" title="java中获取Class的三种方式"></a>java中获取Class的三种方式</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * Class.forName():</span></span><br><span class="line"><span class="comment">    * 1.静态方法</span></span><br><span class="line"><span class="comment">    * 2.方法的参数是一个字符串</span></span><br><span class="line"><span class="comment">    * 3.字符串需要的是一个完整类名</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="comment">//第一种方式</span></span><br><span class="line">    Class c1 = <span class="keyword">null</span>;</span><br><span class="line">    Class c2 = <span class="keyword">null</span>;</span><br><span class="line">    Class c3 = <span class="keyword">null</span>;</span><br><span class="line">    Class c4 = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      c1 = Class.forName(<span class="string">"java.lang.String"</span>);</span><br><span class="line">      c2 = Class.forName(<span class="string">"java.util.Date"</span>);</span><br><span class="line">      c3 = Class.forName(<span class="string">"java.lang.Integer"</span>);</span><br><span class="line">      c4 = Class.forName(<span class="string">"java.lang.System"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//第二种方式</span></span><br><span class="line">    <span class="comment">//java中任何一个对象都有一个方法:getClass()</span></span><br><span class="line">    String s = <span class="string">"abc"</span>;</span><br><span class="line">    Class x = s.getClass();     <span class="comment">//x代表String.class文件,x表示String类型</span></span><br><span class="line">    System.out.println(x);</span><br><span class="line">    System.out.println(c1 == x);    <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    Date time = <span class="keyword">new</span> Date();</span><br><span class="line">    Class y= time.getClass();</span><br><span class="line">    System.out.println(c2 == y);    <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//第三种方式   任何一种类型都有.class属性</span></span><br><span class="line">    Class z = String<span class="class">.<span class="keyword">class</span></span>;       <span class="comment">//z代表String类型</span></span><br><span class="line">    Class k = Date<span class="class">.<span class="keyword">class</span></span>;       <span class="comment">//k代表Date类型</span></span><br><span class="line"></span><br><span class="line">    System.out.println(x == z);   <span class="comment">//true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p>通过属性文件灵活实例化对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest03</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//通过以下方式,修改配置文件就可以创建出不同的实例对象</span></span><br><span class="line">    InputStream reader = Thread.currentThread().getContextClassLoader()</span><br><span class="line">            .getResourceAsStream(<span class="string">"reflect/classinfo.properties"</span>);</span><br><span class="line">    Properties pro = <span class="keyword">new</span> Properties();</span><br><span class="line">    pro.load(reader);</span><br><span class="line">    reader.close();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//通过key获取value</span></span><br><span class="line">    String className = pro.getProperty(<span class="string">"className"</span>);</span><br><span class="line">    System.out.println(className);</span><br><span class="line"></span><br><span class="line">    Class c = Class.forName(className);</span><br><span class="line">    Object obj = c.newInstance();</span><br><span class="line">    System.out.println(obj);</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="Class-forName-方法"><a href="#Class-forName-方法" class="headerlink" title="Class.forName()方法"></a>Class.forName()方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest04</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//Class.forName()执行会导致类加载,类加载时静态代码块执行</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      Class.forName(<span class="string">"reflect.MyClass"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">      e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyClass</span></span>&#123;</span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">"MyClass类的静态代码块执行"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="获取文件的根路径"><a href="#获取文件的根路径" class="headerlink" title="获取文件的根路径"></a>获取文件的根路径</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AbsolutePath</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//以src为类的根目录,使用此方式拿到获取一个文件的绝对路径</span></span><br><span class="line">    String path = Thread.currentThread().getContextClassLoader()</span><br><span class="line">            .getResource(<span class="string">"reflect/classinfo.properties"</span>).getPath();</span><br><span class="line">    System.out.println(path);     <span class="comment">///F:/JavaSE/out/production/JavaSE/reflect/classinfo.properties</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>以后写IO流的时候都以此方式获取文件路径。</p>
<h4 id="资源绑定器"><a href="#资源绑定器" class="headerlink" title="资源绑定器"></a>资源绑定器</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ResourceBundle;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ResourceBundleTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 资源绑定器,只能绑定xxx.properties文件</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    ResourceBundle bundle = ResourceBundle.getBundle(<span class="string">"reflect/classinfo"</span>);</span><br><span class="line">    String className = bundle.getString(<span class="string">"className"</span>);</span><br><span class="line">    System.out.println(className);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="类加载器"><a href="#类加载器" class="headerlink" title="类加载器"></a>类加载器</h4><p>java有三个类加载器：</p>
<ol>
<li>启动类加载器：rt.jar</li>
<li>扩展类加载器：ext/*.jar</li>
<li>应用类加载器：classPath</li>
</ol>
<h4 id="通过反射机制访问对象属性"><a href="#通过反射机制访问对象属性" class="headerlink" title="通过反射机制访问对象属性"></a>通过反射机制访问对象属性</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Field;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest06</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//通过放射机制,访问一个对象的属性</span></span><br><span class="line">    Class userClass = Class.forName(<span class="string">"reflect.user.User"</span>);</span><br><span class="line">    Object obj = userClass.newInstance();     <span class="comment">//obj就是User对象</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取name属性,不能访问被私有修饰的属性</span></span><br><span class="line">    Field nameField = userClass.getDeclaredField(<span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//给name属性赋值</span></span><br><span class="line">    nameField.set(obj,<span class="string">"小明"</span>);    <span class="comment">//给obj的name属性赋值</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取name属性的值</span></span><br><span class="line">    System.out.println(nameField.get(obj));       <span class="comment">//小明</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * 访问私有属性的值</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    Field numberField = userClass.getDeclaredField(<span class="string">"number"</span>);</span><br><span class="line">    <span class="comment">//打破封装,使其可以访问所有属性</span></span><br><span class="line">    numberField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">    numberField.set(obj,<span class="number">100</span>);</span><br><span class="line">    System.out.println(numberField.get(obj));       <span class="comment">//100</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>













<h4 id="反射Method"><a href="#反射Method" class="headerlink" title="反射Method"></a>反射Method</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest07</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//获取类</span></span><br><span class="line">    Class userServiceClass = Class.forName(<span class="string">"reflect.user.UserService"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取所有的Methods</span></span><br><span class="line">    Method[] methods = userServiceClass.getDeclaredMethods();</span><br><span class="line">    System.out.println(methods.length);</span><br><span class="line">    <span class="keyword">for</span> (Method method : methods)&#123;</span><br><span class="line">      <span class="comment">//获取修饰符列表</span></span><br><span class="line">      System.out.println(Modifier.toString(method.getModifiers()));</span><br><span class="line"></span><br><span class="line">      <span class="comment">//获取方法返回值</span></span><br><span class="line">      System.out.println(method.getReturnType());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//获取方法名</span></span><br><span class="line">      System.out.println(method.getName());</span><br><span class="line"></span><br><span class="line">      <span class="comment">//方法的修饰符列表(一个方法的参数列表可能有多个)</span></span><br><span class="line">      Class[] parameterTypes = method.getParameterTypes();</span><br><span class="line">      <span class="keyword">for</span> (Class parameterType : parameterTypes)&#123;</span><br><span class="line">        System.out.println(parameterType.getSimpleName());</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h4 id="反射机制调用方法"><a href="#反射机制调用方法" class="headerlink" title="反射机制调用方法"></a>反射机制调用方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* 通过反射机制调用一个对象的方法</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest08</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//获取类</span></span><br><span class="line">    Class userServiceClass = Class.forName(<span class="string">"reflect.user.UserService"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取对象</span></span><br><span class="line">    Object obj = userServiceClass.newInstance();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取Method</span></span><br><span class="line">    Method loginMethod = userServiceClass.getDeclaredMethod(<span class="string">"login"</span>, String<span class="class">.<span class="keyword">class</span>, <span class="title">String</span>.<span class="title">class</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用方法</span></span><br><span class="line">    Object retValue = loginMethod.invoke(obj,<span class="string">"admin"</span>,<span class="string">"123"</span>);</span><br><span class="line">    System.out.println(retValue);     <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h4 id="反射机制调用Constructor"><a href="#反射机制调用Constructor" class="headerlink" title="反射机制调用Constructor"></a>反射机制调用Constructor</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过反射机制调用构造方法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Constructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest09</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//获取类</span></span><br><span class="line">    Class c = Class.forName(<span class="string">"reflect.user.Person"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//调用无参数构造方法</span></span><br><span class="line">    Object obj = c.newInstance();</span><br><span class="line">    <span class="comment">//获取有参数的构造方法</span></span><br><span class="line">    Constructor con = c.getDeclaredConstructor(<span class="keyword">int</span><span class="class">.<span class="keyword">class</span>,<span class="title">String</span>.<span class="title">class</span>,<span class="title">boolean</span>.<span class="title">class</span>,<span class="title">String</span>.<span class="title">class</span>)</span>;</span><br><span class="line">    <span class="comment">//调用构造方法new对象</span></span><br><span class="line">    Object newObj = con.newInstance(<span class="number">1800231</span>,<span class="string">"小明"</span>,<span class="keyword">true</span>,<span class="string">"云南大理"</span>);</span><br><span class="line">    System.out.println(newObj);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>











<h4 id="获取父类和父接口"><a href="#获取父类和父接口" class="headerlink" title="获取父类和父接口"></a>获取父类和父接口</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflect;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectTest10</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    <span class="comment">//String类型</span></span><br><span class="line">    Class stringClass = Class.forName(<span class="string">"java.lang.String"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取String的父类</span></span><br><span class="line">    Class superClass = stringClass.getSuperclass();</span><br><span class="line">    System.out.println(superClass.getSimpleName());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获取String类实现的所有接口</span></span><br><span class="line">    Class[] strInterfaces = stringClass.getInterfaces();</span><br><span class="line">    <span class="keyword">for</span> (Class in : strInterfaces)&#123;</span><br><span class="line">      System.out.println(in.getName());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><p>注解的格式是：<code>@注解类型名</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">注解的语法格式:</span><br><span class="line">	[修饰符列表] <span class="meta">@interface</span> 注解类型名&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>注解可以出现在类上，属性上、方法上、变量上等…</p>
<p>注解还可以出现在注解类型上。</p>
<h4 id="jdk内置的注解"><a href="#jdk内置的注解" class="headerlink" title="jdk内置的注解"></a>jdk内置的注解</h4><ul>
<li>Deprecated：用@Deprecated注释的程序元素，是表示被弃用的。</li>
<li>Override：表示一个方法声明打算重写超类中的另一个方法声明。</li>
</ul>
<h5 id="元注解："><a href="#元注解：" class="headerlink" title="元注解："></a>元注解：</h5><p>用来标注”注解”的”注解”，成为元注解。</p>
<p>常见的元注解有<code>Target,Retention</code></p>
<ul>
<li><p>Target注解：这是一个元注解，用来标注”注解类型”的”注解”，”Target”注解用来标注”被标注的注解”可以出现在哪些位置上。</p>
<p>@Target(ElementType.METHOD)：表示”被标注的注解”只能出现在方法上。</p>
<p>@Target(value = {CONSTRUCTOR，FIELD，LOCAL_VARIABLE，METHOD，PACKAGE，MODULE})表示注解可以出现在<code>构造方法，字段，局部变量，方法，类....</code>上。</p>
</li>
<li><p>Retention注解：这是一个元注解，用来标注”注解类型”的”注解”，Rentention注解用来标注”被标注的注解”最终保存在哪里。</p>
<p>@Retention(RetentionPolicy.SOURCE)：表示该注解只保留在java源文件中。</p>
<p>@Retention(RetentionPolicy.CLASS)：表示该注解被保留在class文件中。</p>
<p>@Retention(RetentionPolicy.RUNTIME)：表示该注解被保存在class文件中，并在运行时提示。</p>
</li>
</ul>
<h5 id="通过反射机制读取注解"><a href="#通过反射机制读取注解" class="headerlink" title="通过反射机制读取注解"></a>通过反射机制读取注解</h5><p>MyAnnotation.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter12.annotation2;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"></span><br><span class="line"><span class="comment">//只允许该注解可以标注类,方法</span></span><br><span class="line"><span class="meta">@Target</span>(&#123;ElementType.TYPE,ElementType.METHOD,ElementType.FIELD&#125;)</span><br><span class="line"><span class="comment">//希望这个注解可以被反射,加RUNTIME即可</span></span><br><span class="line"><span class="meta">@Retention</span>(RetentionPolicy.RUNTIME)</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyAnnotation &#123;</span><br><span class="line">  <span class="comment">//注解属性</span></span><br><span class="line">  <span class="function">String <span class="title">value</span><span class="params">()</span> <span class="keyword">default</span> "小灰灰"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>AnnotationTest01.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter12.annotation2;</span><br><span class="line"></span><br><span class="line"><span class="meta">@MyAnnotation</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationTest01</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doSome</span><span class="params">()</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>ReflectAnnotationTest.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> chapter12.annotation2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReflectAnnotationTest</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception</span>&#123;</span><br><span class="line">    Class c = Class.forName(<span class="string">"chapter12.annotation2.AnnotationTest01"</span>);</span><br><span class="line">    <span class="comment">//判断类上面是否有@MyAnnotation</span></span><br><span class="line">    System.out.println(c.isAnnotationPresent(MyAnnotation<span class="class">.<span class="keyword">class</span>))</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(c.isAnnotationPresent(MyAnnotation<span class="class">.<span class="keyword">class</span>))</span>&#123;</span><br><span class="line">      <span class="comment">//获取注解对象</span></span><br><span class="line">      MyAnnotation myAnnotation = (MyAnnotation)c.getAnnotation(MyAnnotation<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">      System.out.println(<span class="string">"类上面的注解对象"</span>+myAnnotation);</span><br><span class="line">      <span class="comment">//调用注解对象上的属性String</span></span><br><span class="line">      System.out.println(myAnnotation.value());</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</article><!-- lincense--><div class="license-wrapper"><p> <span>Author:  </span><a href="http://xhh460.github.io">小灰灰</a></p><p> <span>Link:  </span><a href="http://xhh460.github.io/2020/08/07/javaSE/">http://xhh460.github.io/2020/08/07/javaSE/</a></p><p> <span>Copyright:  </span><span>All articles in this blog are licensed.</span></p></div><div class="post-paginator"><a class="prevSlogan" href="/2020/09/25/JDBC/" title="JDBC"><span>< PreviousPost</span><br><span class="prevTitle">JDBC</span></a><a class="nextSlogan" href="/2020/07/01/javascript%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%8F%8A%E6%96%B9%E6%B3%95/" title="javascript内置对象及方法"><span>NextPost ></span><br><span class="nextTitle">javascript内置对象及方法</span></a><div class="clear"></div></div><div id="comment"></div></section></article><footer id="cxo-footer-outer"><div id="cxo-footer-inner"><p class="footer-container"><span>Site by </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span> | theme </span><a href="https://github.com/Longlongyu/hexo-theme-Cxo" target="_blank" rel="noopener"><span>Cxo</span></a></p><i class="fa fa-user"> </i><span id="busuanzi_value_site_uv"></span><span> | </span><i class="fa fa-eye"> </i><span id="busuanzi_value_site_pv"></span><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?" + 'true';
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();</script></div></footer><!-- catelog--><div class="toc-wrapper" style="top: 70vh;"><div class="toc-catalog"><i class="fa fa-list"> </i><span>CATALOG</span></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Java-SE"><span class="toc-number">1.</span> <span class="toc-text">Java SE</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#方法"><span class="toc-number">1.0.1.</span> <span class="toc-text">方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#继承extends"><span class="toc-number">1.0.2.</span> <span class="toc-text">继承extends</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#方法重写-覆盖"><span class="toc-number">1.0.3.</span> <span class="toc-text">方法重写(覆盖)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多态"><span class="toc-number">1.0.4.</span> <span class="toc-text">多态</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#super"><span class="toc-number">1.0.5.</span> <span class="toc-text">super</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#super-和this-的区别"><span class="toc-number">1.0.6.</span> <span class="toc-text">super.和this.的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#final"><span class="toc-number">1.0.7.</span> <span class="toc-text">final</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#抽象类"><span class="toc-number">1.0.8.</span> <span class="toc-text">抽象类</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#抽象方法"><span class="toc-number">1.0.8.1.</span> <span class="toc-text">抽象方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#接口"><span class="toc-number">1.0.9.</span> <span class="toc-text">接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#类与接口"><span class="toc-number">1.0.9.1.</span> <span class="toc-text">类与接口</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类实现多个接口继承"><span class="toc-number">1.0.9.2.</span> <span class="toc-text">类实现多个接口继承</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#接口在开发中的作用"><span class="toc-number">1.0.9.3.</span> <span class="toc-text">接口在开发中的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#接口和抽象类的区别"><span class="toc-number">1.0.9.4.</span> <span class="toc-text">接口和抽象类的区别</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#包和import"><span class="toc-number">1.0.10.</span> <span class="toc-text">包和import</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问控制权限"><span class="toc-number">1.0.11.</span> <span class="toc-text">访问控制权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Object类的方法"><span class="toc-number">1.0.12.</span> <span class="toc-text">Object类的方法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#equals-方法"><span class="toc-number">1.0.12.1.</span> <span class="toc-text">equals()方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#finalize-方法"><span class="toc-number">1.0.12.2.</span> <span class="toc-text">finalize()方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#匿名内部类"><span class="toc-number">1.0.13.</span> <span class="toc-text">匿名内部类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#数组"><span class="toc-number">1.0.14.</span> <span class="toc-text">数组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#数组的优点和缺点"><span class="toc-number">1.0.14.1.</span> <span class="toc-text">数组的优点和缺点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#一维数组"><span class="toc-number">1.0.14.2.</span> <span class="toc-text">一维数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二维数组"><span class="toc-number">1.0.14.3.</span> <span class="toc-text">二维数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#冒泡排序算法"><span class="toc-number">1.0.14.4.</span> <span class="toc-text">冒泡排序算法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#选择排序法"><span class="toc-number">1.0.14.5.</span> <span class="toc-text">选择排序法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#二分法查找算法-折半查找"><span class="toc-number">1.0.14.6.</span> <span class="toc-text">二分法查找算法(折半查找)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#String"><span class="toc-number">1.0.15.</span> <span class="toc-text">String</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#一般常用方法"><span class="toc-number">1.0.15.1.</span> <span class="toc-text">一般常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StringBuffer方法进行字符串拼接"><span class="toc-number">1.0.15.2.</span> <span class="toc-text">StringBuffer方法进行字符串拼接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#StringBuild和StringBuffer的区别"><span class="toc-number">1.0.15.3.</span> <span class="toc-text">StringBuild和StringBuffer的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#包装类"><span class="toc-number">1.0.15.4.</span> <span class="toc-text">包装类</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#八种包装类都是什么？"><span class="toc-number">1.0.15.4.1.</span> <span class="toc-text">八种包装类都是什么？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#自动装箱和自动拆箱"><span class="toc-number">1.0.15.4.2.</span> <span class="toc-text">自动装箱和自动拆箱</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#String为什么不可变？"><span class="toc-number">1.0.15.4.3.</span> <span class="toc-text">String为什么不可变？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#StringBuilder-StingBuffer为什么可变？"><span class="toc-number">1.0.15.4.4.</span> <span class="toc-text">StringBuilder/StingBuffer为什么可变？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Integer面试题"><span class="toc-number">1.0.15.4.5.</span> <span class="toc-text">Integer面试题</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#String-int-Integer类型互换："><span class="toc-number">1.0.15.4.6.</span> <span class="toc-text">String int Integer类型互换：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#java对日期的处理"><span class="toc-number">1.0.16.</span> <span class="toc-text">java对日期的处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#枚举"><span class="toc-number">1.0.17.</span> <span class="toc-text">枚举</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#异常"><span class="toc-number">1.0.18.</span> <span class="toc-text">异常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#编译时异常和运行时异常的区别"><span class="toc-number">1.0.18.1.</span> <span class="toc-text">编译时异常和运行时异常的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异常的两种处理方式"><span class="toc-number">1.0.18.2.</span> <span class="toc-text">异常的两种处理方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#开发中上报还是捕捉？"><span class="toc-number">1.0.18.3.</span> <span class="toc-text">开发中上报还是捕捉？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异常对象的常用方法"><span class="toc-number">1.0.18.4.</span> <span class="toc-text">异常对象的常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#finally子句"><span class="toc-number">1.0.18.5.</span> <span class="toc-text">finally子句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#自定义栈异常"><span class="toc-number">1.0.18.6.</span> <span class="toc-text">自定义栈异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#异常与方法覆盖"><span class="toc-number">1.0.18.7.</span> <span class="toc-text">异常与方法覆盖</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#总结异常中的关键字"><span class="toc-number">1.0.18.8.</span> <span class="toc-text">总结异常中的关键字</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#集合"><span class="toc-number">1.0.19.</span> <span class="toc-text">集合</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#什么是集合？"><span class="toc-number">1.0.19.1.</span> <span class="toc-text">什么是集合？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#集合的继承结构图"><span class="toc-number">1.0.19.2.</span> <span class="toc-text">集合的继承结构图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map继承结构图"><span class="toc-number">1.0.19.3.</span> <span class="toc-text">Map继承结构图</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List、Set、Sorted存储元素的特点"><span class="toc-number">1.0.19.4.</span> <span class="toc-text">List、Set、Sorted存储元素的特点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#List集合存储元素的特点："><span class="toc-number">1.0.19.4.1.</span> <span class="toc-text">List集合存储元素的特点：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Set集合存储元素的特点："><span class="toc-number">1.0.19.4.2.</span> <span class="toc-text">Set集合存储元素的特点：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#SortedSet集合存储元素的特点："><span class="toc-number">1.0.19.4.3.</span> <span class="toc-text">SortedSet集合存储元素的特点：</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Collection接口常用方法"><span class="toc-number">1.0.19.5.</span> <span class="toc-text">Collection接口常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#迭代集合的原理"><span class="toc-number">1.0.19.5.1.</span> <span class="toc-text">迭代集合的原理</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#List接口特有的方法"><span class="toc-number">1.0.19.5.2.</span> <span class="toc-text">List接口特有的方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ArrayList"><span class="toc-number">1.0.19.5.3.</span> <span class="toc-text">ArrayList</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#LinkedList"><span class="toc-number">1.0.19.5.4.</span> <span class="toc-text">LinkedList</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#泛型机制"><span class="toc-number">1.0.19.5.5.</span> <span class="toc-text">泛型机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HashSet"><span class="toc-number">1.0.19.5.6.</span> <span class="toc-text">HashSet</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Map接口常用方法"><span class="toc-number">1.0.19.6.</span> <span class="toc-text">Map接口常用方法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#哈希表数据结构"><span class="toc-number">1.0.19.6.1.</span> <span class="toc-text">哈希表数据结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#HashMap和HashTable区别："><span class="toc-number">1.0.19.6.2.</span> <span class="toc-text">HashMap和HashTable区别：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#自定义comparable接口进行排序"><span class="toc-number">1.0.19.6.3.</span> <span class="toc-text">自定义comparable接口进行排序</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#平衡二叉树数据结构"><span class="toc-number">1.0.19.6.4.</span> <span class="toc-text">平衡二叉树数据结构</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#使用比较器的方式进行排序"><span class="toc-number">1.0.19.6.5.</span> <span class="toc-text">使用比较器的方式进行排序</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IO流"><span class="toc-number">1.0.20.</span> <span class="toc-text">IO流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#IO流的分类"><span class="toc-number">1.0.20.1.</span> <span class="toc-text">IO流的分类</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#流的四大家族"><span class="toc-number">1.0.20.2.</span> <span class="toc-text">流的四大家族</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileInputStream"><span class="toc-number">1.0.20.3.</span> <span class="toc-text">FileInputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#available-方法"><span class="toc-number">1.0.20.3.1.</span> <span class="toc-text">available()方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileOutputStream"><span class="toc-number">1.0.20.4.</span> <span class="toc-text">FileOutputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#文件复制原理"><span class="toc-number">1.0.20.4.1.</span> <span class="toc-text">文件复制原理</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileReader"><span class="toc-number">1.0.20.5.</span> <span class="toc-text">FileReader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#FileWriter"><span class="toc-number">1.0.20.6.</span> <span class="toc-text">FileWriter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BufferedReader"><span class="toc-number">1.0.20.7.</span> <span class="toc-text">BufferedReader</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#转化流"><span class="toc-number">1.0.20.8.</span> <span class="toc-text">转化流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#BufferedWriter"><span class="toc-number">1.0.20.9.</span> <span class="toc-text">BufferedWriter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#数据流"><span class="toc-number">1.0.20.10.</span> <span class="toc-text">数据流</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#DataOutputStream"><span class="toc-number">1.0.20.10.1.</span> <span class="toc-text">DataOutputStream</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#DataInputStream"><span class="toc-number">1.0.20.10.2.</span> <span class="toc-text">DataInputStream</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#标准输出流"><span class="toc-number">1.0.20.11.</span> <span class="toc-text">标准输出流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#File"><span class="toc-number">1.0.20.12.</span> <span class="toc-text">File</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#拷贝整个目录作业"><span class="toc-number">1.0.20.12.1.</span> <span class="toc-text">拷贝整个目录作业</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ObjectOutputStream和ObjectInputStream"><span class="toc-number">1.0.20.13.</span> <span class="toc-text">ObjectOutputStream和ObjectInputStream</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#序列化和反序列化"><span class="toc-number">1.0.20.13.1.</span> <span class="toc-text">序列化和反序列化</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#transient关键字"><span class="toc-number">1.0.20.13.2.</span> <span class="toc-text">transient关键字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#自动生成序列化版本号缺陷"><span class="toc-number">1.0.20.13.3.</span> <span class="toc-text">自动生成序列化版本号缺陷</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IO-Properties"><span class="toc-number">1.0.20.14.</span> <span class="toc-text">IO+Properties</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#多线程"><span class="toc-number">1.0.21.</span> <span class="toc-text">多线程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#实现线程的方式"><span class="toc-number">1.0.21.1.</span> <span class="toc-text">实现线程的方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线程生命周期"><span class="toc-number">1.0.21.2.</span> <span class="toc-text">线程生命周期</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取线程的名字"><span class="toc-number">1.0.21.3.</span> <span class="toc-text">获取线程的名字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线程的睡眠及终止"><span class="toc-number">1.0.21.4.</span> <span class="toc-text">线程的睡眠及终止</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#sleep方法"><span class="toc-number">1.0.21.4.1.</span> <span class="toc-text">sleep方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#终止线程的睡眠"><span class="toc-number">1.0.21.4.2.</span> <span class="toc-text">终止线程的睡眠</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#合理终止线程的执行"><span class="toc-number">1.0.21.4.3.</span> <span class="toc-text">合理终止线程的执行</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线程调度"><span class="toc-number">1.0.21.5.</span> <span class="toc-text">线程调度</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#常见的线程调度方式"><span class="toc-number">1.0.21.5.1.</span> <span class="toc-text">常见的线程调度方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#线程调度有关的方法"><span class="toc-number">1.0.21.5.2.</span> <span class="toc-text">线程调度有关的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#线程安全"><span class="toc-number">1.0.21.6.</span> <span class="toc-text">线程安全</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#什么时候会存在线程安全问题？"><span class="toc-number">1.0.21.6.1.</span> <span class="toc-text">什么时候会存在线程安全问题？</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#同步编程模型和异步编程模型"><span class="toc-number">1.0.21.6.2.</span> <span class="toc-text">同步编程模型和异步编程模型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#模拟两个线程对同一个账户取款-非线程同步机制"><span class="toc-number">1.0.21.6.3.</span> <span class="toc-text">模拟两个线程对同一个账户取款(非线程同步机制)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#模拟两个线程对同一个账户取款-线程同步机制"><span class="toc-number">1.0.21.6.4.</span> <span class="toc-text">模拟两个线程对同一个账户取款(线程同步机制)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#synchronized"><span class="toc-number">1.0.21.6.5.</span> <span class="toc-text">synchronized</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#死锁"><span class="toc-number">1.0.21.6.6.</span> <span class="toc-text">死锁</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#守护线程"><span class="toc-number">1.0.21.7.</span> <span class="toc-text">守护线程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#定时器"><span class="toc-number">1.0.21.8.</span> <span class="toc-text">定时器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wait和notify方法"><span class="toc-number">1.0.21.9.</span> <span class="toc-text">wait和notify方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#反射机制"><span class="toc-number">1.0.22.</span> <span class="toc-text">反射机制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#java中获取Class的三种方式"><span class="toc-number">1.0.22.1.</span> <span class="toc-text">java中获取Class的三种方式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Class-forName-方法"><span class="toc-number">1.0.22.2.</span> <span class="toc-text">Class.forName()方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取文件的根路径"><span class="toc-number">1.0.22.3.</span> <span class="toc-text">获取文件的根路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#资源绑定器"><span class="toc-number">1.0.22.4.</span> <span class="toc-text">资源绑定器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#类加载器"><span class="toc-number">1.0.22.5.</span> <span class="toc-text">类加载器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#通过反射机制访问对象属性"><span class="toc-number">1.0.22.6.</span> <span class="toc-text">通过反射机制访问对象属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反射Method"><span class="toc-number">1.0.22.7.</span> <span class="toc-text">反射Method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反射机制调用方法"><span class="toc-number">1.0.22.8.</span> <span class="toc-text">反射机制调用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#反射机制调用Constructor"><span class="toc-number">1.0.22.9.</span> <span class="toc-text">反射机制调用Constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#获取父类和父接口"><span class="toc-number">1.0.22.10.</span> <span class="toc-text">获取父类和父接口</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#注解"><span class="toc-number">1.0.23.</span> <span class="toc-text">注解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#jdk内置的注解"><span class="toc-number">1.0.23.1.</span> <span class="toc-text">jdk内置的注解</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#元注解："><span class="toc-number">1.0.23.1.1.</span> <span class="toc-text">元注解：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#通过反射机制读取注解"><span class="toc-number">1.0.23.1.2.</span> <span class="toc-text">通过反射机制读取注解</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></div><!-- top--><i class="fa fa-arrow-up close" id="go-up" aria-hidden="true"></i><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/shizuku.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false});</script></body></html>